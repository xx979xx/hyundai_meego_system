commit a9de087daa3ed5abb42df49b7e06b12104cfa075
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 6 15:29:16 2009 -1000

    New version.

commit 1da479c307e7d168bf2b9eafbd6aaecc7d60b1e7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 4 14:37:38 2009 -1000

    Update TODO list.

commit a57751ffe9b655d5c90c558e34eee4785484bbe4
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Nov 5 23:56:26 2009 -1000

    Use PedDevice length instead of DIY (#532023)
    
    Use PedDevice length instead of calculating it ourself based on the
    BIOS Geometry. Using BIOS Geometry gives the wrong answer for DASD disks
    and partitions (as the actual sector size is 4096 but parted fakes 512
    bytes sectors). And can also give the wrong answer for very large disks.

commit 2674a71fd2ca7aaeb28cf1577acfec124eb9747f
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Nov 5 23:56:25 2009 -1000

    Use sectorSize not physicalSectorSize for size calculations
    
    physicalSectorSize is the sector size on the platters of the disk,
    where as sectorSize (which is the logical sector size) is the sector
    size seen in the (s)ata / scsi commands and on higher levels.
    
    IOW physical sector sizer is for informational purposes only, geometry,
    alignments, etc. Are always expressed in logical sector sizes, so
    we should use sectorSize in size calculations.

commit 843ddc0324255027aa30cf1b2810f3c0fee243d9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 3 13:56:51 2009 -1000

    New version.

commit 059ea0a6a3a5129d43ee56d93a61d9fe5a9539a5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 3 11:57:48 2009 -1000

    Remove root user requirement in _ped.

commit 28f095ace135d98b577d62f7361f31278ce3ffb9
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Fri Oct 30 02:03:03 2009 -1000

    Add testcases for new _ped device methods

commit a78da84200f05808db6468dac2ceb60ac499cf3b
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Oct 29 10:21:13 2009 -1000

    Add python wrapper for new PedDisk partition alignment info function

commit 99e192eb62248f1171bc9903b797a0ebd7827e17
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Oct 29 10:21:12 2009 -1000

    Add support for new PedDisk parition alignment info function

commit 6bd5a69cefd209d9d02905d92f19bcb806a2ab7a
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Oct 29 10:21:10 2009 -1000

    Add python wrappers for new PedDevice alignment info functions

commit 799a9c4c038f697d495128550492b27cdaa4fbf1
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Oct 29 10:21:09 2009 -1000

    Add support for new PedDevice alignment info functions

commit a88b6536dc21855c1ec381dad7000a3e7ef7446f
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 3 16:28:28 2009 -0500

    Fix a whole pile of test cases.

commit 81cc7c9c22de5b8b65e3de23a066906c6f9d79fc
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Oct 29 10:21:14 2009 -1000

    Remove ped_disk_commit_to_dev() call from py_ped_disk_new_fresh()
    
    Remove ped_disk_commit_to_dev() call from py_ped_disk_new_fresh(),
    py_ped_disk_new_fresh() should just create a new in memory disklabel
    object and not cause any on disk changes (just like the libparted
    equivalent), the commit was probably added in the past to workaround the
    bug fixed by commit ac80c5ae274ed572bf6ed7fc65c2473205497e77

commit 2e05d162f8ab6de36b4e3181ccdba7649a5d6dda
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Oct 29 10:21:11 2009 -1000

    Fix error in Constraint __str__ method

commit 3ddb1df4fcce4910e3cb1e476f773cbdab21dec5
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Mon Oct 5 14:12:07 2009 +0200

    Make _ped_Device2PedDevice properly set / throw exceptions
    
    Make _ped_Device2PedDevice properly set / throw exceptions when
    ped_device_get() fails.

commit 8fb2756fe45a37387984b08205a4c02d5ba4852e
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Mon Oct 5 14:10:41 2009 +0200

    Fixup various errorhandling issues in pydisk.c
    
    This patch fixes:
    1) The not checking of partedExnRaised in
       py_ped_disk_clobber() and py_ped_disk_clobber_exclude()
    
    2) The return of NULL without setting any sort of python exception in
       py_ped_disk_new_fresh() when ped_disk_new_fresh() fails.
    
    3) The leaking of the just created fresh disk when ped_disk_commit_to_dev()
       fails in py_ped_disk_new_fresh().
    
    4) Make py_ped_disk_new_fresh() throw DiskExceptions not PartitionExceptions

commit caabe8f52c6a80c476dc3b4ece3344c613885819
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Mon Oct 5 13:19:20 2009 +0200

    Add missing _ped_Device2PedDevice() retval checks
    
    Add missing check for the retval of _ped_Device2PedDevice() in
    _ped_Geometry_init() and _ped_Disk_init().

commit 6f8982745750d12842fcee92c19110b14cb18e93
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Oct 5 09:46:40 2009 -0400

    Use libparted commit() for parted.disk.Disk.commit() (hdegoede).
    
    Currently we are using python code to combine the commit_to_dev and
    commit_to_os to get commit() however libparted has a native function for this.
    Using this removes an open / close of the device node and thus an udev change
    event and unnecessary udev rule scanning. Note that for the unnecessary open /
    close to be really gone we need a libparted with commit
    ad25892bb995f61b0ddf801ed1f74e0b1e7390ce.
    
    Note that this effectively backs out a previous patch to the commit function
    that was needed because of errors in libparted.  With the above mentioned
    libparted commit, this is fixed and we no longer need our workaround.
    
    https://fedorahosted.org/pyparted/ticket/24

commit 6b068de8f952ea0d4caa7ff4f0fe35e9825d1b43
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Oct 2 15:56:59 2009 -1000

    New version.

commit 3502dc5ad3bcecad39a610f357ddd23baf15ce5b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Oct 2 14:58:55 2009 -1000

    Add bumpver target to Makefile.am

commit bb169a3b7e3ea7ad11c6bf74f5a7945a3530b1a6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Oct 2 14:52:47 2009 -1000

    Catch exceptions from ped_disk_new_fresh() call.
    
    In py_ped_disk_new_fresh(), catch libparted exceptions when we call
    ped_disk_new_fresh().

commit ac80c5ae274ed572bf6ed7fc65c2473205497e77
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Oct 2 14:48:46 2009 -1000

    Correct PedDisk2_ped_Disk() to avoid losing the new disk label.
    
    See https://bugzilla.redhat.com/show_bug.cgi?id=526525 for more details.

commit 47cdff12ccbe6809f2b5b543ec3a28179fa298d2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Aug 26 11:43:40 2009 -1000

    Removed WHY document.

commit fe737eed05b2de523d9bbb3ec9a7f2dbb0a8f962
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Aug 25 12:59:09 2009 -0400

    If an argument is required, check and raise an exception if not found.
    
    I'd prefer to just remove these things as keyword args, but we've already
    released pyparted and it's supposed to have a stable API.  For now, we'll
    just have to raise exceptions.  Later on we can convert them to regular args.

commit fab4ed8670a8d7b5754215b162702cc21febec99
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Aug 17 13:47:37 2009 -0400

    New version.

commit 3e84e2eb789dfa5e612330a477a27b8b68c39bb4
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Aug 14 10:29:19 2009 -0400

    PED_DEVICE_DM is always defined in libparted these days.

commit ca8cb72b182f6f152dae65491af3927895862fd3
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Aug 11 16:52:37 2009 -0400

    Handle parted exceptions arising from ped_device_get (#495433).
    
    The bug has an extensive description of what's going wrong, but the short
    story is that by not handling the libparted exception, partedExnRaised stays
    set so the next time a libparted function returns NULL, we think that
    later caller is where the problem happened.  Not only does this raise an
    exception where one shouldn't happen, but it raises the exception with a
    very outdated and misleading error message.
    
    We likely need to audit pyparted for other instances of this problem.

commit ec576b3aaed4cd8d345d12ad5b072223a5627018
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Aug 4 12:36:03 2009 -1000

    New version.

commit e9f83215789463417b429b494016a67bf34ba640
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Aug 4 12:25:50 2009 -1000

    Simple parted.Partition.getDeviceNodeName()
    
    This function came over from anaconda's code originally.  Removed a lot
    of unnecessary logic since we really just want the part of the
    partition's path that does not include /dev/.

commit b1bab559955bce27c96e85e53907a9bc9bc7a120
Author: Joel Granados Moreno <jgranado@redhat.com>
Date:   Tue Aug 4 17:24:43 2009 +0200

    Calculate the length of the geometry correctly.
    
    When one specifies start and end in Geometry, the length has a off by
    one error.  length != (end - start) because length is a value that
    includes the start sector and the end sector.  When doing just
    (end-start) one does not take into account the start.

commit 6889aed7cd87538df77b72d4b957e968f6143156
Author: Joel Granados Moreno <jgranado@redhat.com>
Date:   Tue Aug 4 16:14:23 2009 +0200

    Be consistent in importing _ped.FUNCTIUON for the cylinder align stuff.

commit 5215a92f7fe7610f8a0cefc1469164510b9450ec
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Aug 4 12:17:00 2009 -1000

    git-clone -> git clone

commit 70001fcf9f33554946b5b47f18e65ef143243fc4
Author: Joel Granados Moreno <jgranado@redhat.com>
Date:   Tue Aug 4 18:07:17 2009 +0200

    Increase readability.

commit 29a98feee7e98e0ea07c8044cd67985d5b8e6dd4
Author: Joel Granados Moreno <jgranado@redhat.com>
Date:   Tue Aug 4 18:05:25 2009 +0200

    s/contraints/constraints/

commit d8bf33682da31914a164e2a9886e342c8d85d41a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jul 16 14:27:45 2009 -1000

    New version.

commit fa5d9ceb881b1004b5c563a111c380391948fcdd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jul 16 14:24:31 2009 -1000

    Check for decorator.decorator in Python.

commit f92fc93613bf417b4c6cca1325eed3eafa55a7af
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jul 16 13:39:26 2009 -1000

    Rename bootstrap to autogen.sh

commit 6503a88a583e9805edcc84f118b151e2f9844be9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jul 16 13:37:52 2009 -1000

    Add pass-throughs for the align-to-cylinders functions.
    
    libparted now offers two functions to control aligning partitions to
    cylinders.  They are:
    
        ped_disk_align_to_cylinders_on()
        ped_disk_align_to_cylinders_toggle()
    
    The first returns true if libparted is set to align partitions to
    cylinders.  The second one toggles the setting back and forth.
    
    Pass-throughs have been added to _ped and parted and test case stubs
    have been added.

commit 2912ebd5c575f6859fe4d0b4c01a6fd1e452c446
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jul 16 13:13:01 2009 -1000

    ped_free() -> free()
    
    parted-1.9.0 has removed ped_free() and replaced it with calls to the
    regular free() function in the C library.

commit fb16e4b8662d48884239f9f037e7ec25396d0a00
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jul 16 13:11:32 2009 -1000

    Fill out get_max_supported_partition_count() functions.
    
    Implement py_ped_get_max_supported_partition_count() in _ped, add
    maxSupportedPartitionCount property to parted.Disk, add stubs for test
    cases.

commit f05278c55c3d0047f2135886bd03a960b88ed64d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jul 10 16:43:42 2009 -1000

    Add py_ped_disk_get_max_supported_partition_count()
    
    This is a new function in parted-1.9.0.  Need to finish it in _ped, add
    test cases, implement it in the parted module, and write test cases for
    that.

commit 91a45f50713016bd63b2e80f435997dc66201e96
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jul 10 16:36:39 2009 -1000

    Add PARTITION_APPLE_TV_RECOVERY and PARTITION_BIOS_GRUB
    
    These new partition types are in parted-1.9.0 and later revisions.

commit 7a8733545c5d62645e083da153ab7f8d98c7ac58
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jul 10 16:19:31 2009 -1000

    Add DEVICE_SDMMC and DEVICE_VIRTBLK from new libparted.

commit b378c46d241c5a5093cce4dbd4e8e3ebdd3a2694
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jul 10 16:17:04 2009 -1000

    Bump minimum required libparted version, set new version number.
    
    Require libparted 1.9.0 or greated, bump pyparted version to 2.1.0.

commit d89d3d083542fd088ca9ab1ec99896ce6b4e6570
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jul 10 16:16:48 2009 -1000

    Updated TODO list.

commit 9e471ad36fe3a7162712c1490b800ab8b925fae3
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jul 2 17:50:41 2009 -1000

    Add more units to _exponent hash.
    
    Add petabytes, exabytes, zettabytes, and yottabytes.

commit 79b1b4e307f07dfd253550611c89f71cdfa93895
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Apr 15 16:17:44 2009 -1000

    Free remaining strings from ped_unit_* functions in pyunit.c.
    
    Two more functions needed ped_free() calls to free the string returned
    to us by libparted.

commit de5df8f9422cf1474c3762e426be2f18c818b3c2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Apr 15 16:12:38 2009 -1000

    Read in PedUnit values from Python as ints consistently.
    
    The pyunit.c code was using long and int inconsistently for reading in a
    PedUnit value from Python, which would result in losing information
    since the size of int and long differ.
    
    Since PedUnit is just an enum in libparted, use int in _ped's code to
    read and store PedUnit values.

commit 8e114dc0cf7da80070b2058664cd7e927ab1c225
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Apr 15 16:11:47 2009 -1000

    More test cases for _ped.Device
    
    Write test cases for some of the unit format functions and write the
    DeviceStrTestCase.

commit 845a74515615fc5d1a83938ed88798725633c97e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Apr 15 16:04:52 2009 -1000

    Free string returned from libparted unit format functions.
    
    The PedUnit functions that return strings depend on the caller to call
    ped_free() to release the memory.  We take the string from libparted and
    turn it in to a Python string, which makes a copy and lets Python memory
    management take over.  Be sure to call ped_free() on the pointer
    returned from libparted.

commit 6069a73f6e62a6bce7e14fec22edc58d51899017
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jun 10 14:52:56 2009 -0400

    Add a decorator to set LC_MESSAGES=C before calling into libparted (pjones).
    
    This means that exceptions coming from inside libparted will end up being in
    English instead of whatever language the install is proceeding in, which
    should be more helpful for developers.

commit f3f62c6a25d9163d83cafbd934c029cdefbb17e7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Apr 14 22:50:15 2009 -1000

    See if device is open or in external mode in py_ped_geometry_check()
    
    If the device is not open or is in external access mode,
    ped_geometry_check() will fail.  Catch before calling libparted and
    raise an exception.

commit 21f6dbb14987cac47cc4ac24aafa8ef9fd50d76c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Apr 14 22:48:22 2009 -1000

    More _ped test case work.
    
    Test case code sanitizing and more work in test_device.py

commit a368e9c85e4f8e9bd4df6fb796ae0cbeb603aa36
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Apr 14 20:57:35 2009 -1000

    Avoid assert_
    
    Use assertEquals(), assertNotEquals(), assertTrue(), and assertFalse()
    to make the test statements a little more clear.

commit 907571d841013a569f60e9c7516aa0d322a90057
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Apr 14 20:20:46 2009 -1000

    Finished test_geometry.py for _ped test cases.

commit 1f0c9f59b9091e008eec5d9963c930db542f1a98
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Apr 14 17:14:41 2009 -1000

    New version.

commit affad0466b7447af1671d4af3f0cf0d8a796db26
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Apr 14 13:16:57 2009 -0400

    Be more careful with comparing types of objects now (#495713).

commit 1d7cbc2f6f9af4a825ed01d83a0625a3f0f87d6a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 13 09:48:10 2009 -1000

    New version.

commit 98ff1118773ceb430b1fc5a9e6e44b1bb7e6654c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Apr 11 12:34:33 2009 -1000

    Move unit string format/parse tests to test_device.py
    
    These methods are now on _ped.Device, so move the test cases.

commit b5d999bd6c0a720890bca12ff24cb9ca4dcb0d81
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Apr 11 12:29:56 2009 -1000

    Move unit string parsing methods to be members of _ped.Device
    
    The following methods on _ped:
    
        unit_format_custom_byte()
        unit_format_byte()
        unit_format_custom()
        unit_format()
        unit_parse()
        unit_parse_custom()
    
    All act on a specific _ped.Device, so these methods are better suited as
    members of _ped.Device.  Moved them from _ped to _ped.Device.
    
    These methods no longer take in a _ped.Device argument, since that is
    now self.

commit edfdffea764de132c550ec015950d3de8c6b2686
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Apr 11 12:11:31 2009 -1000

    Stop on compiler warnings, use -fno-strict-aliasing
    
    Python modules have to be compiled this way because the continual use of
    pointers to different sized types since everything becomes a PyObject *
    at some point.  I don't know of a way around this other than to disable
    strict aliasing.  Apparently Python is compiled this way too, so
    whatever.

commit d7580d4d005e56d48fe302a8745caee4c3c80db8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Apr 11 11:31:33 2009 -1000

    Inherit CFLAGS from calling environment.

commit f7f8f2fb6f7d507be8708fe5ec4e7b806cb0a10d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Apr 9 13:47:29 2009 -1000

    Name md partitions as /dev/mdXpY in getDeviceNodeName()
    
    'md' is another device type that needs this special naming format,
    so add it to the list.
    
    Patch from jdanecki at Intel Corporation.

commit 52a869d2cf07915a55e7e8702d1598fce3b6a14d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Apr 9 13:44:27 2009 -1000

    Fix UnitGetSizeTestCase
    
    Call assertRaises() correctly.

commit a1934af172f207233765335202418fca9a057f96
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 8 11:27:45 2009 -0400

    Don't store the partition number in a _ped_Partition since it can change.
    
    parted likes to renumber partitions out from under us when partitions are
    added or deleted, so don't store the number directly.  Look it up instead.
    Also, change num to be a read-only property.
    
    https://fedorahosted.org/pyparted/ticket/17

commit cbfc6dce7291e04c55e1b5863ea1a4b4aa3ccf01
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Apr 8 11:24:32 2009 -0400

    The first argument to py_ped_unit_get_size should be a PyObject.

commit ee4a189287e39acd75f795e59e4331b847c266d1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 19:02:07 2009 -1000

    Filter exception text back up in py_ped_unit_get_size()
    
    If we get 0 back from ped_unit_get_size(), grab the exception text and
    make sure we filter it back up the caller and keep the exception raised.

commit 847fac1ced1638374708c39bfdeebc45dc437fd2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 19:01:54 2009 -1000

    Fix up UnitGetSizeTestCase in test_ped.py

commit 66aa899b4f5c056b36f45d39da7268214f981eb7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 18:51:07 2009 -1000

    Move unit_get_size() to be a method on _ped.Device
    
    Move this method out of _ped at the top level and make it a method on a
    _ped.Device.  The first argument is the _ped.Device you want to work on,
    so just make it a method.

commit 965aa07a42899fb0f1c33fa95a40c36dad70cac7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 18:35:21 2009 -1000

    Compare start, length, and end values rather than PedGeometry pointer.
    
    In tp_compare for _ped.Geometry, compare the start, length, and end
    values on the PedGeometry instead of comparing the PedGeometry pointer.
    There will be two different geometries, but the values should match.

commit 93917b15b6c265ad91336e812991440aa66da805
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 18:34:53 2009 -1000

    Complete test_disktype.py test cases.
    
    Not many in here, but filled out the test cases to cover all of the disk
    types.

commit cf3d1aa411f8f7b4bc710a2dd92bae6a7564b06e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 18:34:21 2009 -1000

    Create RequiresDiskTypes base unit test class.
    
    For test cases that need a hash table of all _ped.DiskType instances
    available.

commit d5ea970174cb41d8ab29406f5e83ba734d9d7cf7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 18:10:31 2009 -1000

    Fix DiskTypeGetTestCase in test_ped.py.

commit cd5bf35714d2869a0bf6ab2876d382c427e27f08
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 18:10:02 2009 -1000

    More test_constraint.py work.
    
    Fill out some more test cases, start working on solve nearest.

commit b39baa067cd7015bb0de20d60efd9ebb9ba67858
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 16:30:23 2009 -1000

    Add tp_compare and tp_richcompare for Constraint.

commit dfde260c6c9fa7bd8418b0c3c492e804d3502b84
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 16:22:35 2009 -1000

    Add tp_compare and tp_richcompare for Timer.

commit aec25674a69561c02993a593fd713ed1da990973
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 16:17:34 2009 -1000

    Add tp_compare and tp_richcompare for Alignment.

commit 52c68180b3b96c10e4ba2e9cb7801e6d7b054af9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 16:02:44 2009 -1000

    Add tp_compare and tp_richcompare for Geometry.

commit 2207bdd06b0725190c507a1f62582b3221224500
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 15:55:57 2009 -1000

    Add tp_compare and tp_richcompare for FileSystemType and FileSystem.

commit a710e30777e10de547b5fa1d640425b3ab3c20b9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 15:46:10 2009 -1000

    Add tp_compare and tp_richcompare for Partition, Disk, and DiskType.

commit 81b0a6bdeae282843cd457d933f904c21067c769
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 15:28:52 2009 -1000

    Forgot Py_TPFLAGS_HAVE_RICHCOMPARE on CHSGeometry and Device
    
    Need this flag to indicate we've set tp_richcompare to something usable
    now.

commit 191de2441851a72cde5303b40643b23cc3dffc4d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 15:24:02 2009 -1000

    tp_compare and tp_richcompare for _ped.Device and _ped.CHSGeometry
    
    Implement tp_compare and tp_richcompare for _ped.Device and
    _ped.CHSGeometry types.  We can really only test for equality with these
    types, so raise TypeError for unimplemented comparisons in richcompare.
    The tp_compare function is also poorly documented in the Python guide,
    so it may or may not be fully complete at this point.

commit 46e1ba2f4dfe97a612c3f1f9c8af9f7e01f820c6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 14:49:55 2009 -1000

    Simplify function prototypes.

commit 711a98903330ab4169ac12d94560a81aaf2751e2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 14:33:51 2009 -1000

    Set .tp_hash to PyObject_HashNotImplemented
    
    Setting this to PyObject_HashNotImplemented for now, at least until we
    determine which types can be hashable.  I'm working on tp_compare and
    tp_richcompare and need this set to something valid in the interim.

commit cb96653ebd9d92f9d9e15285a85e467689e5a9de
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 12:46:35 2009 -1000

    Finish test_chsgeometry.py test cases

commit ebaf1c90c326479321caaf8ec43d3c66cf5fca76
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 12:41:27 2009 -1000

    Add remaining _ped.Alignment test cases.
    
    Implement the following _ped.Alignment test cases:
        AlignmentAlignUpTestCase
        AlignmentAlignDownTestCase
        AlignmentAlignNearestTestCase
        AlignmentStrTestCase

commit 5fb5ddfbdab6665579567bd3a4b7bc8bdd48b54f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 12:40:23 2009 -1000

    Add RequiresDeviceAlignment class.
    
    The RequiresDeviceAlignment class is for test cases that need a
    _ped.Geometry (which requires a _ped.Device) for _ped.Alignment
    operations.  The base class has some rounding functions so we can verify
    the results from _ped.Alignment methods.

commit 7ef1dd1d88ed7564e02c319ec12028cda0982c7a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 11:44:01 2009 -1000

    Expand unit type to name test cases for _ped

commit 2db07f417a632c53b83a6b2fde1c6aea93d2ec6d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 6 11:40:45 2009 -1000

    Read param as in for py_ped_unit_get_name()
    
    'i' was defined as a long, but we were reading it as an int with
    PyArg_ParseTuple().  On 64-bit systems...well, you know how the story
    ends.

commit 599660b0a530b6a6bb00e6acd397a67b624d472a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Apr 4 17:26:24 2009 -1000

    Implement the AlignmentIntersectTestCase test case.
    
    This one was fun.  natmath.c has proofs in it, so my thought was to
    implement the math used in libparted in the test case and compare it to
    what we get back from libparted.  Doing so uncovered a problem in our
    _ped.Alignment code, and hey, that's what the test cases are all about.

commit f417b01ef573b1bec1df3cfa0e7eca009d722816
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Apr 4 17:22:55 2009 -1000

    Copy back values from ped_alignment_init()
    
    Found this problem while working on test cases.  It's not sufficient for
    us to just try to create a new alignment, we need to copy back the
    possibly-adjusted offset and grain_size from the newly created
    alignment.  ped_alignment_new() calls ped_alignment_init(), which in
    turn calls abs_mod() if grain_size is non-zero and the offset of the
    alignment is adjusted accordingly.  We need these adjusted values in our
    _ped.Alignments.

commit 80cb1d6f3b56582ac7d1cef0eb8593b945f52fbd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 3 16:38:36 2009 -1000

    Use kwargs for parted.Constraint

commit ad92b5b682e7c376d4f4b17b8b134722877b25f7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 3 16:30:50 2009 -1000

    Use kwargs for parted.Alignment

commit 8515a2c43764702390c9e31c62727f513ab8a0a7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 3 16:16:56 2009 -1000

    New version.

commit 566e4888b2a4f7702533a88d8c6f8af28e949217
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 3 16:12:19 2009 -1000

    Call commitToDevice() then commitToOS() in commit()
    
    This is exactly what ped_disk_commit() does in libparted, but for
    whatever reason, calling that function does not work reliably.  Tracing
    the calls, the lines hit are identical.  The only thing that really
    happens when we commit to OS is that libparted calls sync() a lot and
    issues BLKRRPART.
    
    In an effort to close out storage bugs, I'm changing this in pyparted.
    
    https://bugzilla.redhat.com/show_bug.cgi?id=491746

commit eecb1b328f35e0534c23106a972def8fc38eb6c5
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Mar 26 13:05:47 2009 +0100

    When checking for PartedException) also check for PyExc_NotImplementedError
    
    In various places we check wether the libparted exception handler was called
    when we got an error return from libparted. We then check to see if our custom
    libarted exceptionhandler has already defined an exception, using
    PyErr_ExceptionMatches(PartedException), if it has not already defined an
    exception, then it should have set partedExnMessage, and we define our own
    exception using partedExnMessage.
    
    However our custom libarted exceptionhandler will also define exceptions of
    the PyExc_NotImplementedError type, in which case our custom libparted
    exceptionhandler has not set partedExnMessage. However as
    PyErr_ExceptionMatches(PartedException) does not catch the
    PyExc_NotImplementedError case, we still define our own exception using
    partedExnMessage, this causes us to call PyErr_SetString() with a NULL pointer
    which triggers in assert inside python's C-code.
    
    This patch fixes this by also checking
    PyErr_ExceptionMatches(PyExc_NotImplementedError) whenever we check
    PyErr_ExceptionMatches(PartedException)

commit 4f4d2eae540fcabe04561b680ea1e8086d44323a
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Mar 26 13:05:31 2009 +0100

    Fix a memory leak in add_partition error handling path

commit fafa4a1af6498eed77c98d689e72909a901a2984
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Thu Mar 26 13:05:08 2009 +0100

    Make the constraint argument for various partition functions optional
    
    ped_disk_add_partition(), ped_disk_set_partition_geom(),
    ped_disk_maximize_partition() and ped_disk_get_max_partition_geometry()
    all except NULL as a valid constraint argument. So allow not passing
    in any _ped_Constraint object in the wrappers for these.

commit 3f4afd2c9644273e5ecd14ba54743c663c0a1fee
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Mar 23 17:59:40 2009 -1000

    Update version number for new development work.

commit 5dfe16cd1cb3e218bfdeed5f8f470b317b689195
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Mar 23 17:36:45 2009 -1000

    New version.

commit 9ae61eaef909837825c5bf18c0869af43319addd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Mar 23 16:09:08 2009 -1000

    Revert "Ensure PedDisk pointers match when we call ped_disk_set_partition_geom()"
    
    This reverts commit e43fe6dff7c1b555ac500b58ef00e8bd1fe5135b.

commit b2a1bc85f2116ea2431ca15da8ffc17eb4196166
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Mon Mar 23 14:09:20 2009 +0100

    Sanity check disk_*_partition arguments
    
    Make sure operations done on a disk which have a partition as argument,
    get passed in a partition of the disk on which the operation is being done!

commit d1cfc08a39c59ab99377b656229e15086e335662
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Mar 23 13:39:12 2009 -1000

    Check ownership when removing partitions from disk.
    
    Failing to do this will cause libparted to SIGSEGV.
    
    Patch from Joel Granados <jgranado AT redhat DOT com>.

commit 3158133ea7904cedbe379e7b3df28d9577158595
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Mar 20 17:27:13 2009 -1000

    Update version number for new development tree.

commit 02f59bcb066cc8b32cf9b2f9130ee4366026eead
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Mar 20 17:22:25 2009 -1000

    New version.

commit e43fe6dff7c1b555ac500b58ef00e8bd1fe5135b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Mar 20 17:02:07 2009 -1000

    Ensure PedDisk pointers match when we call ped_disk_set_partition_geom()

commit 03f9751775a2006f3e2bbe18bef4be92accb358d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Mar 20 14:59:10 2009 -1000

    Remove unused variables.

commit 173bbc267b60f4f4f47af7cdae2bf39ed919bb95
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Fri Mar 20 15:59:15 2009 +0100

    Use one and only one _ped_Disk object to represent a PedDisk object (#489745).
    
    This one is best explained (I think) by explaining what was happening in the
    old code.
    1. Create a new _ped_Disk object, lets call this pydisk
    2. Get a _ped_Partition from pydisk with (ie) py_ped_disk_next_partition
    3. py_ped_disk_next_partition calls ped_disk_next_partition and gets a
       PedPartition
    4. Then it calls PedPartition2_ped_Partition on the PedPartition it just got,
       lets call the resulting _ped_Partition pypart, but we are not that far yet.
    5. PedPartition2_ped_Partition takes the PedDisk the PedPartition is on,
       part->disk and then calls PedDisk2_ped_Disk on it. Note part->disk is
       the same as pydisk->ped_disk !
    6. PedDisk2_ped_Disk creates a new _ped_Disk object with its ped_disk pointing
       to the passed in part->disk, lets call this pydisk2. Note how pydisk's and
       pydisk2's ped_disk attribute point to the same PedDisk.
    7. PedPartition2_ped_Partition stores pydisk2 in pypart->disk and returns
       pypart to py_ped_disk_next_partition, which in turn return it to its caller
    8. So now we have 2 _ped_Disk objects pointing to the same PedDisk,
       pydisk and pypart->disk (aka pydisk2)
    9. We do some stuff with pypart and then are done with it
    10. _ped_Partition_dealloc(pypart) gets called, it DECREF's pypart->disk
    11. _ped_Disk_dealloc gets called on pypart->disk aka pydisk2
    12. _ped_Disk_dealloc calls ped_disk_destroy(pydisk2->ped_disk)
    13. We try to do some stuff to pydisk, which ends up using pydisk->ped_disk,
       which now points to freed memory / a destroyed PedDisk object, not good.
    
    This patch fixes this by passing in the existing _ped_Disk object in to
    PedPartition2_ped_Partition, and simply INCREF-ing it there.

commit e54687d575eccb56438e247dd3e3a1e8c5342133
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Mar 20 14:30:21 2009 -0400

    Add missing import.
    
    https://fedorahosted.org/pyparted/ticket/12

commit 5ea89ffbfd35c6304215f10614bbcfdbe5e3ee12
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Mar 20 14:23:56 2009 -0400

    Use a better test for empty extended partitions (#491326, hdegoede).
    
    My original test for whether the extended partition was empty or not was not
    quite right, as there's still a freespace "partition" in the part_list.
    libparted works around this by removing freespace and metadata partitions from
    the part_list before doing the check, then removing them afterwards.  We should
    just ignore them here.

commit 1048e1bf29aae86537a066f5450224aedf74d90b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 19 18:33:42 2009 -1000

    Update version for new development tree.

commit 006b52ff74dbde9d79f74ebbcc110d7c43057529
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 19 18:30:13 2009 -1000

    New version.

commit 04e502aef8fb814378a7ee1467f042c0c75e13a5
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Mar 19 13:17:13 2009 -0400

    Raise an exception if an extended part still contains logical partitions.

commit 845c971eda3a67f5c4fa387f5c7ec23de3747cd2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Mar 18 10:19:39 2009 -1000

    Catch PartitionException in parted.Partition.name property.
    
    Not all disk labels support get_name().  If we don't have that, an
    exception is raised.

commit d5e20a8f4cb4e18954e584fabe415ce01d096ee7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Mar 18 10:19:13 2009 -1000

    s._device -> self._device

commit b945a3d8ba2452e383b30cda5e27db4a8e7de65e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Mar 18 10:18:05 2009 -1000

    Call is_busy(), do not pass it to bool()
    
    is_busy() returns a bool, so we only need to return that in the
    parted.Device.busy property.

commit 1cea4bbdd3c9a6c2a852e166c4b9922a10cb69d7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Mar 16 11:31:21 2009 -1000

    Use new style Python property syntax for read-only properties.
    
    Use @property methods for read-only properties to increase
    readability in the code.

commit 992271fc02b620b31bb27ab3f78c54bee030e52e
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Mar 16 11:06:11 2009 -0400

    Fix a typo in a test case.
    
    https://fedorahosted.org/pyparted/ticket/10

commit f9a01ca683cd06ae7a988c046761fad59560f01b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Mar 13 11:27:50 2009 -1000

    Improve readability of parted.Device property code.
    
    Use new-style @property syntax for the properties on
    parted.Device.

commit ca18a0a64fd1706886ee74b8d55241a9bdd72701
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Mar 13 10:57:04 2009 -1000

    DEVICE_DM only exists if libparted was built with device-mapper.
    
    GNU parted must be compiled with --enable-device-mapper in order
    to have PED_DEVICE_DM defined (which leads to DEVICE_DM defined.

commit 4fcc41b808bb55399760bc9d1540b3bc520fd5ac
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 12 11:11:49 2009 -1000

    Update version for new development series.

commit b1093fdccd167263f1d2f1c6ec8d12f2914da274
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 12 11:06:07 2009 -1000

    New version.

commit f8a2d385801019ec07d0ea7fbfeb24077a59cf25
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 12 11:04:48 2009 -1000

    PED_DEVICE_DM may not be defined
    
    If PED_DEVICE_DM is not defined, do not try to add it to our
    module.  parted has to be built with --enable-device-mapper to
    get this define enabled.
    
    https://fedorahosted.org/pyparted/ticket/9

commit 1f80a2abb14b33ce4eb6e346a23c531a12c11ffb
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Mar 12 13:46:48 2009 -0400

    Don't pass NULL to PyString_FromString (#489518).
    
    If the string we're supposed to return is NULL, return an empty string
    instead.  Passing NULL is certainly a bug, though pyparted may not be the
    offender in the above referenced bug.

commit f7a561f40b566dbd67b9179b6436a06653520b40
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 5 15:05:58 2009 -1000

    Update version number for new development release.

commit d9ed8c79e83b0faf0198f155714952d8eff15281
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 5 15:03:27 2009 -1000

    New version.

commit 20d723775331c3ab38e6dadf0acda31bb20233fc
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Mar 5 14:37:22 2009 -1000

    Update cached geometry when py_ped_disk_set_partition_geom() is called.

commit 13d599774c6710c701c2454763dbb8911869b612
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Mar 5 10:28:07 2009 -0500

    Add a DiskLabelException class and raise it instead of IOException.
    
    This makes it much easier to tell when the problem was that there was no disk
    label on a disk, instead of some other random IO error.

commit 6190399332a58218b554285d9969718a02e0a6af
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Mar 3 14:02:08 2009 -1000

    Invalidate cached partitions when minimizeExtendedPartition() is used
    
    The geometry of the extended may change, so invalidate the cache
    if this method succeeds.

commit d91d3b6bc9afeb5f00cbdf40a66b1309ef04d33d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Mar 3 14:00:55 2009 -1000

    Move clobber() method to parted.Device
    
    These methods moved in _ped, so move them in parted.

commit 939514cb042afb7301e72ff68b6dab8ce445c5f8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Mar 3 13:58:21 2009 -1000

    Remove invalid line from py_ped_disk_minimize_extended_partition()
    
    There are not _ped_Partition or PedPartition objects we work with
    in this function.

commit 9f4ca6401c43bfb02776cd08966718677dd444bf
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Mar 3 13:56:24 2009 -1000

    When updating a partitions geometry, update the pyobject contents
    
    When updating a partitions geometry, update the pyobject contents,
    instead of dereferencing it and creating a new one.
    
    (Patch from Hans de Geode.)

commit e28c0d6a88682489716cc96a675496cfe43dc1c6
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sun Mar 1 20:39:01 2009 +0100

    Fix copy and paste error
    
    Do not use _ped_FileSystem_Type_obj.tp_repr() to represent a _ped_Geometry
    object, but use _ped_Geometry_Type_obj.tp_repr() .
    
    Signed-off-by: David Cantrell <dcantrell@redhat.com>

commit 63f204b75ea8833ce0bf963469f899ea8ac5a2d3
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sun Mar 1 20:38:09 2009 +0100

    Update _ped_Filesystem's _ped_Geometry object in py_ped_file_system_resize()
    
    py_ped_file_system_resize() changes the geometry of the filesystem, so we
    need to update our PyObject representing the geometry with the new data.
    
    Signed-off-by: David Cantrell <dcantrell@redhat.com>

commit 424061454f930e65826b4d44c4d0afb24dad75d0
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sun Mar 1 20:10:02 2009 +0100

    Update _ped_Partition's _ped_Geometry object in disk functions which change it
    
    py_ped_disk_set_partition_geom() and py_ped_disk_maximize_partition() change
    the geometry of the partiton, so update the partitions _ped_Geometry object
    to match the new geometry.
    
    Signed-off-by: David Cantrell <dcantrell@redhat.com>

commit 48ce309268c57c079cade5db647af46b8617aee4
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sun Mar 1 19:23:27 2009 +0100

    Cache libparted geometry objects in our _ped_Geometry objects
    
    Currently _ped_Geometry2PedGeometry() returns a pointer to a new libparted
    PedGeometry object each call, and not a single users frees this object. By
    making _ped_Geometry cache the underlying PedGeometry object this patch fixes
    this memory leak (and gives a very very small speedup by avoiding creating a
    lot of new PedGeometry objects).
    
    This patch also adds sanity checking to any changes made to _ped_Geometry.
    {start,length,end}. And makes setting the end actually change the geometry
    (the old _ped_Geometry2PedGeometry() never used the end member, so changing
    it did not have any effect).
    
    Signed-off-by: David Cantrell <dcantrell@redhat.com>

commit 33bb48df89f6d3ab10b067abe678f383f6e57158
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Mar 3 13:48:43 2009 -1000

    Updated TODO list.

commit 0ebea186a827d1e395d81983dc58fcab53e9354c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Mar 3 12:03:03 2009 -1000

    Call py_ped_disk_remove_partition() from py_ped_disk_delete_partition()
    
    Use ped_disk_remove_partition() so that we safely destroy on-disk
    partitions, but keep the PedPartition alive since we may be pointing
    to that from Python objects.

commit c74c80bfcfca291205b10b769c5972ac789e1019
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Mar 3 12:00:02 2009 -1000

    Make py_ped_disk_clobber*() members of _ped.Device
    
    The ped_disk_clobber() and ped_disk_clobber_exclude() functions
    work on a PedDevice, so make them members of the _ped.Device
    object.

commit 90985b66f3eeb8e6f1b9db2c12cb0273eeed8539
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Mar 3 11:25:24 2009 -0500

    Fix a couple simple build warnings.

commit daa6cebbcf4aff6a8d4852b928e8bbafa17555b0
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Mar 3 11:11:11 2009 -0500

    _ped.Disk.__init__ only takes one argument now.  Update tests.

commit 7041b5061065eb944ec9fb167787a31e0da63312
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Mar 2 15:22:43 2009 -1000

    Update TODO and BUGS file.

commit 3f556b4ec5decdc8a83feb9db3360a2ec11cc0b2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Feb 28 18:53:24 2009 -1000

    Update version number for new development release.

commit d07090834506fcc15f8e4b7591743a812efafe3c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Feb 28 18:41:06 2009 -1000

    New version.

commit 0d0f99d2ffb60f665a2897af9a2a97a5c50fc0a8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Feb 28 18:37:31 2009 -1000

    Update geometry when a partition is added to a disk label.
    
    Update our copy of the geometry object in both _ped and parted.
    In the _ped module, grab the new PedGeometry and convert it to
    a _ped.Geometry and put it in the existing _ped.Partition
    object.  In the parted module, update the partition.geometry
    property in parted.Disk.addPartition().

commit 5ae6e61a0fe925116f7364a4a9851471efbbb9e1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Feb 28 15:29:23 2009 -1000

    Read at most 10 characters for the devel string identifier.

commit 20551d5b3d66da0c9abe2d4acb0da757c2388680
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Feb 28 12:13:06 2009 -1000

    Mark _ped.Partition as owned by a Disk when necessary.
    
    Prevent accidental free of PedPartition when it becomes owned by
    a PedDisk.
    
    https://fedorahosted.org/pyparted/ticket/4

commit b450ae9a2fc4b34968e321618c4675e127322ca8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Feb 28 12:06:23 2009 -1000

    For _ped.Partition functions, pass _ped_Partition instead of PyObject.
    
    For all of the functions that provide methods on _ped.Partition
    objects, pass the first argument as a (_ped_Partition *) rather
    than a (PyObject *) that we may or may not have to cast.

commit d4f433a85b3be1b63c1bb5a71e2801bd793701fe
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Feb 27 14:56:17 2009 -1000

    Update for new development version.

commit 40e72adc3f66a140dcbd4823d1662c3c1c91af64
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Feb 27 14:55:57 2009 -1000

    The archive is a .tar.gz not a .tar.bz2

commit 008655baf742696210ac9e2d2c40d10b75e4a1f6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Feb 27 14:52:47 2009 -1000

    New version.

commit e42fa2a2fe16b09f559cd510a7b022e0823f0186
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Feb 27 09:52:00 2009 -1000

    Revert "Replace PyErr_ExceptionMatches() with PyErr_Occurred()"
    
    This reverts commit a54541462b7c7df9a0124cdf25f3348446c59e1c.

commit a54541462b7c7df9a0124cdf25f3348446c59e1c
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Fri Feb 27 14:35:05 2009 +0100

    Replace PyErr_ExceptionMatches() with PyErr_Occurred()
    
    In various places we check wether the libparted exception handler was called
    when we got an error return from libparted. We then check to see if
    our custom libarted exceptionhandler has already defined an exception, using
    PyErr_ExceptionMatches(PartedException), if it has not already defined an
    exception, then it should have set partedExnMessage, and we define our
    own exception using partedExnMessage.
    
    However our custom libarted exceptionhandler will also define exceptions of
    the PyExc_NotImplementedError type, in which case our custom libparted
    exceptionhandler has not set partedExnMessage. However as
    PyErr_ExceptionMatches(PartedException) does not catch the
    PyExc_NotImplementedError case, we still define our own exception using
    partedExnMessage, this causes us to call PyErr_SetString() with a NULL
    pointer which triggers in assert inside python's C-code.
    
    This patch avoids triggering this assert by using PyErr_Occurred() instead of
    PyErr_ExceptionMatches() to see if our custom libparted
    exceptionhandler has already defined an exception.
    
    Signed-off-by: David Cantrell <dcantrell@redhat.com>

commit 5e66da497f2b5be9f4c68f33acaab345a90c3d15
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Feb 27 09:36:40 2009 -1000

    Update development version number.

commit 3e39c8c8e250b78c2feaae3b7af8879a646322e8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Feb 27 09:35:22 2009 -1000

    Instructions on making a new release.
    
    Rather than increasing the version number after each release, I'd
    rather tack on '-devel' to the version.  Modified the
    pyparted_version() function to work accordingly.
    
    Added RELEASE file which explains the steps I use to make a new
    release.

commit 58ce4355b6f0b9711d9b05c1b07a2b3fa96d00b3
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 27 09:39:19 2009 -0500

    Include cachedlist.py in the archive, thanks.

commit 9c0041e37e0240bae540e74e47a191cf30de171c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 25 14:11:35 2009 -1000

    Fix compile errors in pyfilesys.c

commit 056b247fa6bf57c6158a1aa550d5590fd7756611
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 25 14:08:37 2009 -1000

    Add some more test cases.
    
    Not much here, but I've been working on it.

commit bd5468bec2876270d51eb8e3a7ab1cc4b7b47865
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 25 14:08:25 2009 -1000

    Add parted.freeAllDevices()

commit 4b43fdf320910cdfebd43029eea8124c170fb8f7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 25 10:39:09 2009 -1000

    Add ped_filesystem to _ped_FileSystem struct.
    
    Cache the PedFileSystem inside a _ped.FileSystem now.

commit 166961ced21c26e66def2ec14b5029ef72d45fbb
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 25 10:37:58 2009 -1000

    Clean up cached libparted types in dealloc functions.
    
    In _ped_Disk_dealloc(), call ped_disk_destroy() on the cached
    PedDisk.
    
    In _ped_FileSystem_dealloc(), call ped_file_system_close() on the
    cached PedFileSystem.
    
    In _ped_Partition_dealloc(), call ped_partition_destroy() on the
    cached PedPartition.

commit 240bb8f707ee5d71f90696b14afeb1f3424a509c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 25 10:25:58 2009 -1000

    Cache PedFileSystem in _ped.FileSystem
    
    Only perform one open operation for the _ped.FileSystem and keep the
    PedFileSystem cached so we can use that for subsequent fs-related
    calls.

commit 9996752a0e8896e7d6c86262d62d2ce2323847a9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 25 10:04:27 2009 -1000

    Remove unncessary Py_INCREF and incorrect GC_DEL.
    
    https://fedorahosted.org/pyparted/ticket/1

commit be7e48783072d9f870c6cee4313406329b280318
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Feb 25 15:09:42 2009 -0500

    Use a CachedList for storing the partitions list to speed things up.

commit 5455a0a1b245961d1908db24f9766e77bdfae18b
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Feb 25 15:09:20 2009 -0500

    Add a caching list implementation.
    
    The documentation in the file should explain how to use it.

commit 5524f4aa88b77db735985e6882988df9af6b17e1
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Wed Feb 25 10:02:47 2009 +0100

    Fix various memleaks in error paths
    
    Fix various memleaks in error paths.
    
    Signed-off-by: David Cantrell <dcantrell@redhat.com>

commit 96f262d017c00a1b4a149558c66c87afc3648663
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 17:32:39 2009 -1000

    Some pychecker fixes.
    
    pychecker caught some stuff.  It complains about a lot, but then
    the code works anyway.  I do not know how to make pychecker
    understand dicts.  It also seems to hate hidden variables unless
    they are used in the same module.  Might look at pylint.

commit f3a777d0afb9ba12dfafeb6fbd0aeb5d87dc7722
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 17:32:24 2009 -1000

    Need reproducers for these bugs that we can run from Python.

commit 168e5eafcf6f55abe3ef6be63be1f94423f4021b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 17:00:39 2009 -1000

    Remove unnecessary '*' from boilerplates.
    
    'FOR A * PARTICULAR' -> 'FOR A PARTICULAR'

commit bbdacdd10cbfa59f7352c9cbf54cec646a5dd3cd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 16:54:04 2009 -1000

    Update the release tag in Makefile.am and fix boilerplate.
    
    Fix a typo in the boilerplate.
    
    In the release tag, remind us that we need to make a new Version
    entry in the Trac admin page for the project.

commit d7c8b4327b22d2b64376f4791f5b9896d912d8ce
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 14:56:37 2009 -1000

    More BUGS.

commit 570d1cf4ec08ba2a17c6a609df15c19c03250e9d
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 24 10:15:13 2009 -0500

    Use the right types for numeric members of _ped.Disk in __str__.

commit cd49c89467ee3ac2e25b5eda97756b7242722bc1
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sun Feb 22 20:18:59 2009 +0100

    Fix typo in error checking in pyfilesys.c
    
    Fix typo in error checking in pyfilesys.c.

commit fdd3f3824294327cb6aeddbf48c3df0cbfdc5cfa
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sun Feb 22 17:56:03 2009 +0100

    Add missing error checking to a few *2_ped_*() calls
    
    Add missing error checking to a few *2_ped_*() calls.

commit e848b787a7cfdaf0120baa198b2604f6cee89b34
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Sun Feb 22 17:36:28 2009 +0100

    Do not call free on a PedDiskType
    
    Do not call free on a PedDiskType.

commit 621c7d12981c165e5e71de439e2d3f9818d9db6e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 13:46:53 2009 -1000

    Add remaining __str__ methods for _ped module.
    
    Remaining __str__ methods and test cases stubs for the following
    classes in _ped:
        _ped.DiskType
        _ped.FileSystemType
        _ped.CHSGeometry

commit 515aed1bfff0dafd8de1419e6af8bc1082087334
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 13:36:43 2009 -1000

    Move _ped_Device_str to the _ped_Device_Type_obj.
    
    Accidently put this one on _ped_CHSGeometry_Type_obj first.

commit 265bf90f5889369ed08bb9ba5ddb54e3f4848fa8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 12:33:54 2009 -1000

    Added __str__ method for _ped.Partition

commit 8f5b99f7715c6998f4c5ce581017c9ce900de4b9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 12:24:33 2009 -1000

    Added __str__ method for _ped.Geometry

commit 926cd690524c228d16a4c837fc8265076282135d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 12:07:25 2009 -1000

    Added __str__ method for _ped.FileSystem

commit 2aaa014fa69b83d399d9a221660b5545bb63d050
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 11:59:46 2009 -1000

    Added __str__ method for _ped.Disk

commit 3872a6b411e4f733a4ff2060bd6b1ee73ba0d093
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 11:46:39 2009 -1000

    Added __str__ method for _ped.Device

commit 708b70edd3b27851d299c45acd33405b97e6ed2f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 11:29:36 2009 -1000

    Do not free() values from PyString_AsString()

commit b1ce959e2c2a013d243bf5acae05731ff4084c6f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 11:26:58 2009 -1000

    If PyString_AsString() returns NULL, filter back up.
    
    If we get NULL from PyString_AsString(), we have a TypeError or
    other exception raised, so we need to return NULL here so it
    filters back up the stack.

commit 72b6c2512c0d45c4d76844c5aa2abb397a6ecc96
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 11:20:48 2009 -1000

    Add __str__ method for _ped.Constraint()
    
    This one is more complex than the one for _ped.Alignment.  Since
    a _ped.Constraint has two Alignments and two Geometries and two
    Sectors, we need to call the repr() methods a few times.  Namely,
    we need to call repr() for the two Alignments and the two
    Geometries.  Sectors are long longs, so we can pull those in
    directly.
    
    Also stubbed out the test case.

commit d141db7769224e7b3c6f556b3fcaf1a7387a2e02
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 11:20:20 2009 -1000

    Wrap the long line in pynatmath.c:_ped_Alignment_str()

commit 5e8757cd5b950d40b7fc5d092064f6b8b1ecee3b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 10:51:44 2009 -1000

    Added __str__ method for _ped.Alignment.
    
    We have __str__ methods on parted module classes, so we should
    have them on _ped for completeness.  This is the one for
    _ped.Alignment.  Also included the stub for the test case.
    
    The next commits will be similar for the remainder of the classes
    that need __str__ methods.

commit a1399f30170888e7a8dfb278c95d36e89ee7b820
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 23 10:38:13 2009 -1000

    Stub out __str__() test cases for the parted module.

commit 76d4a4f638acb42ef0a41bc9bdf2dc953dcd41d4
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Feb 23 16:20:56 2009 -0500

    Free temporary buffers in read and check methods.

commit 7f677f6e3120673e17765f7e8a9eeec5c8df54e7
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Feb 23 16:13:15 2009 -0500

    ped_disk_type_check_feature can accept 0 as a feature flag.

commit 916109a889895a1f54ae88daa67e271b04ad5ed4
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Feb 23 16:04:37 2009 -0500

    Using "z" everywhere doesn't make sense.
    
    Not all libparted functions want a NULL string, so we need to make sure to
    only use "z" in PyArg_ParseTuple either where the libparted method is okay
    with a potential NULL or where we explicitly test for it.

commit bfb8937f067f90b6a3bb0d90eaecdda5a390d306
Author: Hans de Goede <hdegoede@redhat.com>
Date:   Fri Feb 20 20:11:10 2009 +0100

    Fix various python object leaks in convert.c
    
    This patch adds a ton of missing DECREF's and removes a few unneeded INCREF's
    from convert.c

commit de47c58a9527a19797021232f7791513a56896e6
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 20 15:52:57 2009 -0500

    More do not keep a borrowed refence without INCREF-ing it changes (hdegoede).

commit 10805323df4bb775f72e7e18de61f4317d61afc3
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 20 15:43:37 2009 -0500

    Remove an unneeded INCREF from pygeom (hdegoede).

commit 92dc2b40f1b535f0712e0bb55483f2d30949a5f6
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 20 11:51:57 2009 -0500

    Remove a couple of unneeded INCREF's from pydisk.c (hdegoede).
    
    Remove a couple of unneeded INCREF's from pydisk.c, stopping us from leaking
    a couple of python objects.

commit 2705ccaef2dcf83bfb48a985fb56fb91ddf0f833
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 20 11:50:21 2009 -0500

    Free c-strings on dealloc too (hdegoede).
    
    In a couple of places we store strdup-ed C-strings in our python objects, free
    these when the python objects get destroyed.

commit 0dc25daef13e9a1ee9aa31e871e78bb11995d71c
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 20 11:45:39 2009 -0500

    Do not keep a borrowed refence without INCREF-ing it (hdegoede).
    
    In _ped_Disk_init we store a borrowed reference in self->dev (through
    PyArg_ParseTuple()). We INCREF this on success at the end. But we keep it
    without INCREF-ing it in an error path. This path clears the borrowed reference
    in the error path. This fixes various cases of python crashing when having
    an invalid partition table.

commit b4c1d75688d93e17b7c55fa111ff34134d22065a
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 20 11:29:15 2009 -0500

    Add __str__ methods to all parted objects.
    
    This will make anaconda exception dumps more useful, since the __str__ methods
    are what we use there to print objects out.  Note that we cannot implement
    __repr__ methods now, because we use those in the __str__ methods to print out
    the very short description of objects.  Otherwise, we'd end up with never
    ending printout as we go around in circles printing members.

commit 14984c740a9f2c322c2424b1e432376d0a0219c1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 19 12:43:47 2009 -1000

    Created a HACKING file.

commit 78849cf9c0dcd6d147ba3dcd2f3bd8b7be270967
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 16 16:28:54 2009 -1000

    Increment version number for next release.

commit 569b02a02a728078cb8ce752f577cd5f74766ff8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 16 16:19:47 2009 -1000

    Updated documentation.

commit 2d23f6048780c31d49d1107dfdb8260db825b41b
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Feb 16 10:18:40 2009 -0500

    If two object have different types, they are not equal (#485632).

commit e5572f25bd2326ec48d01505bee056be191cb0e9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 12 14:37:13 2009 -1000

    Increase minor version number for next release.
    
    Want to get in the habit of keeping the master branch at the next
    release version number so I don't forget to bump at the end.  I am
    not storing the spec file for the pyparted package in the upstream
    project, so configure.ac is the location of the version number.

commit 8189df962c17cba5c348b4a2066bbe1a57dee37a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 12 14:36:44 2009 -1000

    Makefile.am fixes.

commit a2e425a9dbbc599edaf91e647e1b2a9c84a9d077
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 12 10:49:02 2009 -1000

    Fooled around with fdisk.py a bit last night.
    
    It's a work in progress, but it could provide a nice way to test
    out pyparted.

commit 2e5dd020aaf9d8806d81a6536b0bb8de7396a34e
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Feb 12 15:16:29 2009 -0500

    Remove temporary buffers and sizes from the public API.

commit 2c37ad942ab79b075e608217a5508ab2ec8b55de
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 12 10:11:08 2009 -1000

    Updated documentation.

commit 217878eb9ede310fbff7fa19be760d4edf01aa10
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 12 10:10:26 2009 -1000

    math.floor() -> float()
    
    Fix problem found by jgranados.  This function didn't get
    transferred entirely correctly from partedUtils.py to pyparted.

commit 8755935562c5de738b11b86927b290e307132d06
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 11 14:17:43 2009 -1000

    Speed up parted module a bit.
    
    Pass around parted.Disk and parted.Device if we have those.  No need
    to keep creating them over and over.

commit ee1ac7ed134027dc4135962088f1779a886d7fdf
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 11 13:16:00 2009 -1000

    Added tag and release targets to Makefile.am
    
    Getting near release time.

commit d6685ebe180266d0e4d13fe2bdee5d41fdda9c1d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 11 10:45:41 2009 -1000

    Removed getSizeAsSectors()
    
    Why did I add this?  It's parted.Device.length

commit 281d5b1d5e0e32498f5c5f70a7f522e2df87e6cb
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Feb 11 15:57:22 2009 -0500

    We did some stuff.

commit 380a615529044c86f931c32ff79e6a19bc50ca13
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 18:39:10 2009 -1000

    More test case cleanups and new test cases.

commit c613c0a71ca2f692c8386da8b83607e550b198f8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 18:38:16 2009 -1000

    _ped.partition_flag_next() loops around to the beginning.
    
    It does not raise an exception if you try to get a flag beyond the
    end of the list, it just goes back to the beginning, which is flag
    0.  Stop the loop on that condition.

commit 50e8bd272ee956ed2b3420e12533e55d0cb885eb
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 16:43:07 2009 -1000

    Code and documentation cleanups in the parted module.
    
    Added more properties to parted.Constraint.

commit d82afc658491e92a3fff36cdaf181a4f25fba48f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 16:42:54 2009 -1000

    More test cases for the parted module.

commit c0df5e8c197f785dd81d2f05591c535bf7d7ca8a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 13:18:38 2009 -1000

    Fix errors in src/parted/alignment.py
    
    setattr() was called incorrectly and the isAligned() method needed
    to handle invalid input.

commit b2d365a809e1dc2dfc00e98534f64eaf401dd05d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 13:18:11 2009 -1000

    Three test cases for parted/test_alignment.py
    
    AlignmentNewTestCase
    AlignmentGetSetTestCase
    AlignmentIsAlignedTestCase

commit 83be0f0c0fe8f0708b16749772974892c0e7bad0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 13:07:33 2009 -1000

    Remove suite.addTest() lines for rounding functions.

commit 0264328d34de531927a7087c5aabc6591dba9ea7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 13:07:06 2009 -1000

    Add baseclass.py for parted test cases.
    
    Adapted from _ped/baseclass.py

commit 23b4533349dcfa431fe2abff968d4a645c0c9b1f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 12:44:23 2009 -1000

    Remove rounding function test cases and add simple test case.
    
    In the parted module test cases, remove the ones for the
    rounding functions.  Added a test case for the version()
    function on the parted module.

commit 9a1effe2b7a6aefb1d2fbe53c618df7fb63a9676
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 12:44:07 2009 -1000

    Remove rounding function test cases.

commit bf44c1afdb820e0e98934216262606aec20d425c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 12:42:23 2009 -1000

    Remove pointless rounding function pass-throughs.
    
    libparted has some math utility functions that are useful inside
    libparted and probably C programs linking with libparted, but we
    don't need to expose those pyparted users.  Removed the following
    functions because we can perform the same tasks in native Python:
    
        py_ped_round_up_to()
        py_ped_round_down_to()
        py_ped_round_to_nearest()
        py_ped_greatest_common_divisor()
        py_ped_div_round_up()
        py_ped_div_round_to_nearest()

commit 7d09d3d1e38fd023e050774adf2f0dc81508837a
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 16:56:00 2009 -0500

    Add custom __eq__ and __ne__ methods on parted objects.

commit 4640a5ef36ab2287a16dd777094693c536113292
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 11:34:44 2009 -1000

    Make all unwritten test cases fail with self.fail()
    
    Rather than pass, use self.fail with the message "Unimplemented
    test case." so we continue to see those messages when we run
    'make check'.  Right now, it's a bit misleading because the pass
    causes the test case to succeed.

commit aa6eb4eaed4b51c7db8c2491fe84d5d485a21757
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 11:34:34 2009 -1000

    Add docstrings for parted.probeFileSystem()

commit 569130afeb021eb9fd58b7801389e49337f783bd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 11:16:52 2009 -1000

    Add tests/parted/Makefile to configure.ac

commit a387bc618976aa36bdd249edb09d2ad1ccc68dea
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 11:01:05 2009 -1000

    Updated documentation.

commit 28505b51d4fa78da587d3f5b47ad60e652176102
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 10:46:04 2009 -1000

    Spelling fix in docstrings.

commit 0290e8ad3b45bdaf628b05ceb28f39a8b9623d89
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 10 10:45:42 2009 -1000

    Started test cases for the parted module.
    
    Just the test case file layout.

commit 1cf112c83f5dc88bd9cecae3a68fb9ab963b8578
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 13:14:08 2009 -0500

    We can't call Py_CLEAR on a libparted type.

commit b46974a542da2a2cbb8dbed4ab0c2cb5647b890d
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 11:54:39 2009 -0500

    Fix a couple pychecker-discovered errors.

commit 77ac49dc681a1a3c6fba503ce70ecdb0e3abae7b
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 11:46:21 2009 -0500

    Type conversions in geometry.py as well.

commit 9b0dfe39b60345bbd743044e2456db3b8d1b6506
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 11:39:43 2009 -0500

    Fix type conversions in filesystem.py

commit 16bf5f161bf2e239a073b591f4b234598d2cc32e
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 11:35:19 2009 -0500

    Fix a few more _ped <-> parted type conversions in disk.py.

commit af2b84ab975b84b2800a3b8174402e1f3fa847e5
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 11:27:17 2009 -0500

    Handle conversion between _ped and parted types in constraint.py.

commit 066fadaf76c72b119df3cacc26ad97b6b71b428c
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 11:19:36 2009 -0500

    Let Alignment take offset+grainSize or a PedAlignment.
    
    Also, handle conversions between _ped types and parted types.

commit a7e0ae8a6cd5d56efa7ccdf4b06bcb6a735905a1
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 10 11:07:13 2009 -0500

    Return the correct parted module type in more places (dlehman).

commit ab182d4ab0c20a1e6834205604a34491d3d4c6ba
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 9 19:01:54 2009 -1000

    Update documentation.

commit 86c2ea8ae9e77c70f50a44da209a8f49ad9d3b8f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 9 10:51:41 2009 -1000

    Added parted.Device.getSizeAsSectors()
    
    Returns the number of sectors that make up a device.  Size of disk
    as bytes, divided by sector size, +1 if there is a remainder.

commit 7c0ff88155e042ea5b687b4d838415b605367a06
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Feb 6 16:55:07 2009 -1000

    Disable self.partitions cache in parted.Disk
    
    The caching system is not working quite right, so disable it for
    now.

commit 686fb4ace20dd3812f729d2d296a9c120148b733
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 6 15:25:50 2009 -0500

    ...except, put "/dev/" on the right argument.

commit 2ded7025914a1ec0baa9a8136b8548366b1e6c08
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 6 15:10:03 2009 -0500

    getDeviceNodeName returns just the node, not the full path.

commit d134337a4f33510c816fd0b1ae704c0d597ed0d5
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Feb 6 11:45:01 2009 -0500

    We must call ped_disk_commit_to_dev after ped_disk_fresh_new.
    
    If we don't, nothing will get written to the disk and running the conversion
    functions will fail.  ped_disk_fresh_new only operates on the in-memory
    representation.

commit 4c415dc90843c31dd37ddb89bbf31f9e26ea9a33
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 5 19:28:32 2009 -1000

    Py_INCREF the _ped.Partition in py_ped_disk_add_partition()

commit 91e8f585ea78de61ef10e72d612df3c2b5a533c8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 5 19:27:50 2009 -1000

    Change how self.partitions is generated.
    
    The get_partition() method doesn't seem to work quite right, so
    use next_partition() to step through the partition list.
    
    Syntax fix as well (return Partition should be return partition).

commit 58766a01be76989ef9619763fba7793b641908d4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 5 19:04:08 2009 -1000

    Add getPartitionByPath() to parted.Disk
    
    Removed the parted.getPartitionByName() function since it wasn't
    really what we wanted.  Created getPartitionByPath() on Disk
    which works in the same way, but only on that Disk.
    
    In parted.Disk, make sure the self.partitions list is being
    refreshed often enough.

commit 1861e1bd38413f88647bc7048ba60da021300c40
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 5 11:13:13 2009 -1000

    Fix warnings in py_ped_disk_add_partition()
    
    Pass PyObjects to convert.c functions, but use a _ped_Partition
    here so we can access those structure members.

commit 7ab96f7d53664e2fb2cd5ca32e314f68571a3834
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 5 10:52:35 2009 -1000

    After ped_disk_add_partition() call, update partition number.
    
    The ped_disk_add_partition() function in libparted takes in a
    new PedPartition and adds it to the in-memory partition table
    for the disk.  The partition is given a number during this
    operation, so after the call we need to update the number in
    our Python object otherwise every partition is -1 that we add.

commit f0cc56dad8962dd36158ba4f90d4bba1838e6e2c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 4 22:02:05 2009 -1000

    Store PedPartition in _ped.Partition.

commit e9e7ee8db60c70288b702535987c3abd8c3774d4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 4 18:28:53 2009 -1000

    Store PedDisk pointer in _ped.Disk object.
    
    We need this to avoid needless conversions and to keep the
    in-memory representation of the changed partition table.

commit 29750cd1377cbe03abdd9313c889d75f7b737be7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 4 14:19:31 2009 -1000

    Ignore ctags files.

commit aedbe201ddaac222f5488b95325c748978fa79bb
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Feb 4 12:00:16 2009 -1000

    Keep the part_list and flags from PedDisk.
    
    We are losing information when we convert to and from a _ped_Disk
    and PedDisk.  We're using ped_disk_new(), which works fine to give
    us the right struct, but we lose anything in memory that has not
    been committed to the disk.
    
    Save part_list, needs_clobber, and update_mode.  The block_sizes
    struct member of PedDisk is not used at all in libparted, so we
    just ignore it.

commit 5f2a2e508782c944c17f407e010bcd5d6137792e
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Feb 4 11:22:02 2009 -0500

    Start keeping a list of things that are running really slowly.

commit 24899abb78d53d62833dea57334b860387b12708
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 3 18:01:36 2009 -1000

    Fix up _ped_Partition2PedPartition for addPartition()
    
    We might be converting a new partition, so account for that at
    the end of _ped_Partition2PedPartition.
    
    Also, when adding a partition, make sure the PedDisk pointers
    match, otherwise we get an assert from libparted.
    
    Some small -Werror clean ups too.

commit 21abade6e06f438fc0a4204a1b79bc5d0a1b7c92
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 3 15:03:41 2009 -1000

    Correct last parameter to _ped.Partition()
    
    It needs to be a _ped.FileSystemType, which we can get this way
    in the parted module:
    
        parted.fileSystemType[fs.type]

commit 97ed97ad09840037b321efcc0d1c76de0705373e
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 3 16:31:12 2009 -0500

    getFreeSpaceRegions and getFreeSpacePartitions need to return a list.

commit 6813d3d433261fce735fb4c72bf67c876ccb5310
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Feb 3 10:58:19 2009 -1000

    Fix parted.Partition.nextPartition() and converter function.
    
    When using ped_disk_next_partition(), we iterate over every
    PedPartition region on the disk.  Three types of regions have
    no partition number associated with them, the metadata, free
    space, and protected regions.  Still, we want to iterate over
    them.
    
    In nextPartition(), return None when we get to the end of the
    partition list.
    
    In _ped_Partition2PedPartition, get special partitions by
    using ped_disk_next_partition(), checking the types, and then
    comparing the geometry values.

commit aa91bc3fd4cffc582c24cc88beb4ec0a6194b661
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 3 15:03:40 2009 -0500

    Added parted.Geometry.getSize, and make parted.Partition.getSize use it.

commit 626ad9caf7a29bb7a3f0dee770077a6214ecaedc
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 3 14:51:02 2009 -0500

    If a partition isn't active (freespace, metadata, etc.) we can't get_flag.
    
    This is yet another libparted assertion we need to catch before calling into a
    libparted function.

commit d1addcfe61eaadd4f6b244d16c126a78239f840b
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Feb 3 14:35:39 2009 -0500

    Use a partition filtering function to reduce duplicated code.

commit 883328a362d1eac67e34f459cac75380b4dfad5f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 2 20:13:47 2009 -1000

    Make sure nextPartition() returns a parted.Partition
    
    Encapsulate the _ped.Partition as a parted.Partition.

commit dd644a8a5833957524e5e6647eed79e72a5c3504
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 2 20:12:07 2009 -1000

    Add getFirstPartition() to parted.Disk
    
    This allows us to get the first partition in the partition list
    for the Disk.  We can then call nextPartition() on the Partition
    object and iterate the partitions that way.  This is the only
    way in libparted to iterate partitions including

commit 11fd27fddaa131a8ad6b05f7b2c2656a86b13c17
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 2 20:11:19 2009 -1000

    If ped_disk_next_partition() returns NULL, return None in Python.
    
    NULL means there is no next partition, so we can call that
    None in Python.

commit 6c5023786f21173a96a177fedf7b1e979538307b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Feb 2 19:09:48 2009 -1000

    Three fixes to disk.py in the parted module.
    
    1) Make sure we are refreshing the self._partitions list.  If we
       remove a partition, we should remove it from this list.
    
    2) Add getFreeSpaceRegions() to return a list of Geometry objects
       representing the free space on the disk.
    
    3) Add getFreeSpacePartitions() to do the same as above, but return
       a list of Partition objects.

commit 6d8556d57b94712ce86af26acfeddd6adb70bfed
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Feb 2 10:50:03 2009 -0500

    Convert from parted objects to _ped objects in constructors (dlehman).
    
    We should try to make sure that all parted methods and constructors take parted
    objects, and that when we call into the _ped module we pass the underlying _ped
    objects in as arguments.  Confused yet?

commit 4bee654778db19138ccf3954e01d1dfa40586505
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 30 13:24:44 2009 -0500

    When we moved file_system_probe_specific to _ped, we never fixed the args.
    
    In particular, it needs to take a FileSystemType object as a first parameter
    instead of a self pointer.

commit 46d24d8fef832572a726b0a2bb38e3119111c578
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 29 09:05:20 2009 -1000

    Raise object-specific exceptions when necessary.

commit cfea3f000925abb58b641232917c3e4f93efa2c7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 29 09:04:36 2009 -1000

    Add GeometryException for Geometry objects to raise.

commit 7322c437120b70e57560200078988d0baacfe6a0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 29 09:01:19 2009 -1000

    _ped.device_get() raises a DeviceException now.

commit e569b6869127b5f09067811d6d0b47406bd30e22
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 29 08:59:12 2009 -1000

    Add _ped.DeviceException for _ped.Device and parted.Device
    
    Add a DeviceException class for exceptions we want to raise
    from a Device object.

commit cb0a2e8b433c581dfa00075b29ae839908b82eca
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 29 08:52:49 2009 -1000

    Raise a DiskException in parted.Disk.__init__() on syntax error.

commit f81aecb6da5bcc88ded86f82fe9067d3a189f3c0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 29 08:52:30 2009 -1000

    Import all _ped exceptions in to parted namespace.
    
    This is so we can refer to exceptions in either namespace.

commit f2fe580a05c398e1795b29c59cf0daf9c73d31ef
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 29 07:22:45 2009 -1000

    Changed Disk._partitions to a list.
    
    Was storing this as a hash table with the key being the partition
    number and the value being the parted.Partition.  I thought that
    would be a useful data structure, but in every instance that I've
    been using Disk._partitions, I've only been using the values()
    part, so change it to just a list of parted.Partition objects.

commit 9026b723bfe87bfaa6c188a084a86e4945f063b7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 19:29:22 2009 -1000

    Handle fs_type as None when creating parted.Partition.
    
    A Partition does not have to have a filesystem, so we'll use
    None for those cases rather than throwing an exception.

commit 54524499e8062473b70566489bae5e58873adc05
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 19:21:24 2009 -1000

    Simplify _ped_Partition2PedPartition()
    
    We had this all wrong.  Make libparted do most of the work here.

commit 30c9bd2092c93d0e55633e45b548df56b2e7c2de
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 19:14:19 2009 -1000

    Fix _ped_Partition_init as well as PedPartition2_ped_Partition
    
    1) In _ped_Partition_init we were creating a new partition, but
       not adding it to the disk label.  Added the code for that.
    
    2) Partition numbers are always -1 because of our
       PedPartition2_ped_Partition() function.  We were building an
       arg list and then calling _ped_Partition_init, which was
       creating a new partition and adding it to the disk label.  We
       don't really want that to happen for the conversion function,
       so revert the conversion function to just converting the
       struct members manually.  Partition numbers match up now.
    
    3) Do not call ped_disk_destroy() except in our destroy function.
       This is OS specific and causes the disk buffers to be flushed
       and other things to happen.  We want to free the struct, but
       not cause anything to happen on the system.  We might be
       leaking memory now, but we can get to that later.

commit 1c9f8abec6e8f6fec658ff008cafa99676c3073d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 18:25:52 2009 -1000

    Do not store PedDevice pointers in Python data structures.
    
    We were doing this in order to prevent segfaults.  I think this
    is causing more problems now.  Looking through libparted, we can
    call ped_device_get() as many times as we want and it will give
    us a pointer to the PedDevice in the device list that corresponds
    to the path we give it.  I've modified the code to work this way
    and got rid of the 'ped_device' struct members for _ped_Device
    and _ped_Geometry.

commit 9b5097449f00425050669f04c4121d2a7223eccd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 16:24:41 2009 -1000

    Again with namespace problems.
    
    We've imported every class in the parted module directly in to the
    namespace of __init__, so change parted.Disk to Disk.

commit 173132074fb7e75d9ef0a8ae03a8764a57df2324
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 12:58:00 2009 -1000

    Move __maxLogicalPartitionCount inside getMaxLogicalPartitions()

commit 2da7867cf67e8662ed9e2c473e1e4a0a4b863236
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 12:45:24 2009 -1000

    In Disk.getMaxLogicalPartitions(), use self.supportsFeature()
    
    Call self.supportsFeature(parted.DISK_TYPE_EXTENDED) rather than
    the lowlevel check_feature() call.

commit da5d05e2f284f82cbdbd9f7facb722061a9b5166
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 12:41:03 2009 -1000

    disk.Disk -> parted.Disk
    
    Typo.

commit 7967414a2e6db8a91d2784d6b0e64c29443c9019
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 12:29:23 2009 -1000

    Return None if there is no extended partition on the Disk.

commit d1e8d3c3e9d1022d7e85dc70566d35a1d8df86ff
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 12:09:01 2009 -1000

    Call _ped methods passing the correct types.
    
    Need to pass _ped.Partition, _ped.Constraint, and _ped.Geometry
    objects to the underlying _ped methods.

commit 43e8cf6e72055ed1b8b25931674368ad40755271
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 10:54:21 2009 -1000

    This is the constraint.py file.

commit b6370d3e97b534aecc18fc9e379485172e2714da
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 28 10:31:12 2009 -1000

    Allow start and end sectors for parted.Geometry init.
    
    Allow users to specify start and end sectors and have __init__
    compute the length of the geometry.

commit c2ff4542b59578add9e66e12b5780ec174ecc996
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 21:07:24 2009 -1000

    Add a device property to Disk.

commit 5662b436212af83804a692e8b44af1081f32af2c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 20:44:15 2009 -1000

    Fix the getMaxAvailableSize() method on Partition.
    
    Iterate over disk.partitions.values()

commit 48dd7bcb08fe1160a2c3928e6169c16f8e033887
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 20:06:16 2009 -1000

    Fix __init__ and attributes on parted.FileSystem
    
    Fix the __init__ function so it worked correctly.  Fix the
    attributes to refer to correct values.

commit 8e949b585ec7cc40cfd785aa1c253a91d93df5d7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 20:04:53 2009 -1000

    Create unsetFlag() to accompany setFlag(), typo fixes.
    
    The setFlag() function was taking a flag and a boolean.  Break this
    out in to a setFlag() and unsetFlag() option rather than passing in
    True or False to the setFlag() function.
    
    Also fix some typos in this file.

commit 68e7a8aa6f15bf543db5837aaf4dcf6c5ebebe0d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 15:04:31 2009 -1000

    Remove number property for Disk, fix type property.
    
    The number property does not apply to a Disk.
    
    Do not store self._type with the type name (key in diskType).
    Modify the type property to return the self.__disk.type.name for
    the getter.  For the setter, set the self.__disk.type property
    to parted.diskType[v].

commit 548277ed2bbae5c6e2c1aeb416fa5ecfebef0815
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 15:00:30 2009 -1000

    Increase flexibility of the parted.freshDisk() function.
    
    Allow the type to be a key or value in diskType.

commit 410f6802e590bcfd6f103db401f407927c08b341
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 14:59:54 2009 -1000

    Do not require a type argument for parted.Disk.__init__()
    
    We don't need type here, so stop allowing it and stop trying to
    figure it out.

commit 6be0f0946fbd93588d39172f14dc8c0e00be95f2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 14:28:14 2009 -1000

    Updated README file.

commit 29056b0fe69d32841ecab53a9159eb7207138916
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 27 17:44:55 2009 -0500

    The .tp_init methods all expect a tuple, so provide it with one.
    
    Py_BuildValue doesn't make a tuple unless you tell it to or pass it multiple
    arguments.  We'll just have to tell it to do so.

commit 5794635a59c1c58e02e4ddec7119c86eb981cd0b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 11:35:35 2009 -1000

    Correct internal syntax in freshDisk()

commit 4fb8fc20ecf47e696eeb5cee60ac80dea0dd2cf8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 11:30:29 2009 -1000

    Add parted.freshDisk() to expose _ped.disk_new_fresh()

commit efb3511c3400fa4fd50b7068f0789bbe017efac3
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 11:25:23 2009 -1000

    Add disk_new_fresh() to the _ped module.
    
    Allow users to call _ped.disk_new_fresh(Device, DiskType) to create
    a new Disk with the specified disk label type.  Like libparted, the
    new label is only in-memory.  The user has to call commit_to_dev()
    to write the label to disk.

commit de29dcac352bf9f9b8083048b3682570f5805ea4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 27 11:13:46 2009 -1000

    Fix up _ped_Disk_init() and PedDisk2_ped_Disk()
    
    Back when this function was first written, the thought was that
    the user could optionally provide a disk type and we could then
    call ped_disk_new_fresh() underneath to relabel the disk.  The
    problem is this causes our conversion functions to fail and gets
    us in to difficult situations in the code.
    
    A _ped.Disk() now can only be initialized with a _ped.Device as
    the argument.  ped_disk_new() is called.

commit 7cdc428fac762d37a2e8143c3ead0ba0229a56c2
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 27 11:19:55 2009 -0500

    Add a supportsFeature method on parted.Disk.
    
    This exposes the check_feature function for disk types but doesn't require
    client code to know anything about disk types.  I don't even want to know
    anything about disk types and I'm working on this program.

commit 0ec113995c8368eca778b2c7295afd98cdaee5ea
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 17:09:34 2009 -1000

    Fix incorrect error string.

commit 742d48e212a0598bb1f5b8f4f442c533f8217b1a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 17:09:09 2009 -1000

    Add name attribute to parted.Partition
    
    This attribute is read-only and a pass-through to the
    py_ped_partition_get_name() function.

commit 3801904c0844d86496ba82f9dc7ac941d222bcfc
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 17:08:48 2009 -1000

    Removed unnecessary from/import line.

commit 82848b88aa6cb376c3390505c1787fcdf712b9e2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 16:46:13 2009 -1000

    Add isFlagAvailable() and nextPartition() methods.
    
    The Partition object needed these methods.

commit c11601cf361cdce61a728a574503f7bbc8c4ce1f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 16:14:52 2009 -1000

    Create a parted.Geometry from self.__fileSystem.geom

commit 5bc8c48a892a38b4dcf06afd1a76f684e45a18ac
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 16:14:34 2009 -1000

    Create parted.FileSystem when init'ed with PedPartition

commit aaa56b13ec38d2adea5dc03715161238019ed923
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 16:00:13 2009 -1000

    Revert "In _ped_Disk_init(), honor optional type argument first."
    
    This reverts commit e008e19d5a5dc2efdecd940b8c16ac127caee7aa.

commit e008e19d5a5dc2efdecd940b8c16ac127caee7aa
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 15:45:02 2009 -1000

    In _ped_Disk_init(), honor optional type argument first.
    
    If the caller gives us a type argument, honor that before
    probing for the disk type.

commit efa1428343cbcae3ce8c2139ad1fd4949d834490
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 15:43:56 2009 -1000

    Add getPartitionByName()
    
    Replaces partedUtils.get_partition_by_name() in anaconda.

commit ac8742bf1e789ff54545252e0d9c48c8aae8a3f3
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 14:49:17 2009 -1000

    Allow callers to pass True/False to setFlag() on Partition
    
    In Python, we have a real boolean type.  Make sure we translate
    it to ints when calling the lowlevel libparted code.

commit bd0ad3747f1428ff42d3c21a5d27414b0ffabdb1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 14:48:37 2009 -1000

    Add more functions from partedUtils.py in anaconda
    
    Bring over:
        getLogicalPartitions()
        getPrimaryPartitions()
        getRaidPartitions()
        getLVMPartitions()

commit 18e2c5e0233f06fe9bd13e6797590e6c0ec6d3fe
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 14:14:37 2009 -1000

    Cleared out these two bugs.

commit 34c9fd835e4cd1df3be7566713453a9483ea6c99
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 14:13:02 2009 -1000

    Pass geom as the PedGeometry parameter.
    
    Syntax error:
        return geometry.Geometry(geom)
    to:
        return geometry.Geometry(PedGeometry=geom)

commit 433215e89020f20e63dac7573d0ba9a80d7bcfd3
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 14:11:29 2009 -1000

    Make partitions a read-only property on parted.Disk
    
    Initializing this hash table in __init__ was causing recursive
    indefinite looping.  Whenever a Disk was created, it would go
    and create the hash again.
    
    Make partitions a property.  On the first access, init
    self._partitions with the hash table.

commit d2ed591d6c158c033da845b1ad88783a978eff1d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 13:57:27 2009 -1000

    Make all parameters have default values.
    
    In order to initialize a parted.Geometry with just a PedGeometry,
    all of the other parameters should have a default (that is, be
    optional).
    
    Fix a namespace issue (Device -> parted.Device).

commit ce4988d1dca3a579cc3f6886211ae42bbde4a8d1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 13:16:29 2009 -1000

    Let the Partition parameter on next_partition() be optional.
    
    Syncing up with the functionality of libparted.  The next_partition()
    parameter can take NULL and just return the head of the list.

commit effe6ae299aabd449525ba5ab421bc006586ff85
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 12:54:59 2009 -1000

    If Py_BuildValue() returns NULL, return to caller.
    
    Per Chris' recommendation.  If Py_BuildValue() returns NULL, we
    should return NULL immediately so we can catch exceptions that
    may have been raised and avoid segfaults.

commit 9debe17a89cbe5715544f37d40af28521334a51f
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 26 16:28:16 2009 -0500

    The fs_type on a partition can be NULL, so don't pack that into a tuple.
    
    We also need handle errors from Py_BuildValue by returning NULL so exceptions
    get propagated up.  That's easier to handle than random segfaults.

commit 3ca036dba7b2f62b8764ae3876ffa9197cda1a99
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 26 16:00:07 2009 -0500

    We really shouldn't ever be calling free on a PyObject.

commit e58984bbb8b6fadabd36d4f4fc5a5dca6b538918
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 10:34:44 2009 -1000

    New bugs.

commit fd532b9c928d89cb28ef72e542ce402d334219b4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 10:27:32 2009 -1000

    Add parted.Partition.getDeviceNodeName()
    
    Previously implemented in anaconda in partedUtils.py as
    get_partition_name().

commit ac5c61e2d619e82e0342ef84cdeedfc45bd9924e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 10:26:58 2009 -1000

    Add archLabels hash table.
    
    From anaconda's partedUtils.py file.  A hash table listing valid
    disk labels for each architecture.

commit e30479fda00638581a9ddb076bb64a976be8033c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 26 10:26:10 2009 -1000

    Do not call ped_partition_destroy() unless we are destroying.
    
    The ped_partition_destroy() function is named poorly.  It actually
    calls the label-specific function to destroy the partition on the
    disk.  We don't want that.

commit 7cea44689161ba7044ed18844581da0ae56ffda9
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 26 15:04:50 2009 -0500

    Fix the geometry read and write test cases.
    
    These were only failing because I didn't understand how the methods were
    supposed to work.  If you try to write more bytes than the buffer contains,
    it'll only write the contents of the buffer once.  It doesn't copy the
    buffer over and over again into the geometry to meet the byte request.

commit aab2b98f1a5e552a9e7610f35aea687a73c8db33
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 26 14:58:34 2009 -0500

    Fix a typo in FileSystemTypeGetSetTestCase.

commit 77d674028b7b16f8011118aa8d76bac4ea4f10ce
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 26 14:56:37 2009 -0500

    Fix ConstraintDuplicateTestCase.
    
    If an alignment has a non-zero grain_size, libparted sets the offset to be
    |offset % grain_size|.  Since this is a copy test, we need to set grain_size
    to be 0 in order to not have to deal with this little quirk.

commit f7936ff4ac096523412fcb5702d5481033e81511
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 26 12:00:00 2009 -0500

    Fix order of parameter passing when building the _ped.Partition arg tuple.
    
    The order of the arguments to _ped.Partition.__init__ changed because the
    filesystem type argument is no longer required.  I changed the order everywhere
    except for this place, it looks like.

commit 9b3420af52fbf19ce7d6c3dc518e56a94fc739e8
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 26 10:27:07 2009 -0500

    The flag_get_next, flag_get, and flag_get_by_name methods have changed names.
    
    In the future, we should always check that we update the test suite at the same
    time as we are changing the names or locations of methods.

commit 27302a44e120a91493658e53358619c8dca8e9fc
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Jan 24 23:29:02 2009 -1000

    Allow type as optional argument to parted.Disk.__init__
    
    If the caller does not provide a type, probe for it.

commit 43227749f8569347167c1026fd2280feb18fa250
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Jan 24 14:55:54 2009 -1000

    getAllDisks() renamed to getAllDevices()
    
    This method was named poorly.  It returns a list of all Devices
    in the system.  Additionally, it was returning a list of
    _ped.Device objects, so make sure it's now returning a list of
    parted.Device objects.

commit 2264e16c0f6b11fe95c392f571d0246fe5ce3ef0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Jan 24 14:28:19 2009 -1000

    Handle PedPartition initializer for parted.Partition
    
    If we initialize a parted.Partition using a PedPartition, be sure
    to make self._disk a parted.Disk and self._geometry a
    parted.Geometry.  Just pulling the values from the PedPartition
    gives us _ped types, which we don't want at this level.

commit e1a33cbd6fb691a659579eb7dd5047cc21e65f81
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Jan 24 14:27:57 2009 -1000

    Note the _ped.Disk.get_partition() method failure.

commit 6d00f672a8f21550d9e55fefa8fc5d9638554950
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Jan 24 11:05:14 2009 -1000

    Add getMaxLogicalPartitions() method to parted.Disk
    
    Taken from partedUtils.py in anaconda.  Returns the maximum number
    of logical partitions allowed based on the device type.

commit f6e9f8808ded0ad69399c668dc01dc99aba9cbd0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Jan 24 10:54:49 2009 -1000

    Add getMaxAvailableSize() method to parted.Partition
    
    Taken from partedUtils.py in anaconda, this method looks at
    partitions that come after this partition (self) and add up the
    ones that are marked as freespace to tell the caller the max
    size this partition can grow to.

commit 882840d56cf90b038027487332eaaa40fec7fd60
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Jan 24 10:36:47 2009 -1000

    Install parted module to arch site-packages dir.
    
    The _pedmodule.so module is installed to either /usr/lib or
    /usr/lib64.  While the Python code is not arch-specific, I think
    it still makes sense to group the parted module together with the
    _ped module and keep them either in /usr/lib (for 32-bit arches)
    and /usr/lib64 (for 64-bit arches).

commit e7eb377f3aef26ebe0a97ab072b06b2155ef9643
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 22:35:47 2009 -1000

    Install parted Python module via automake rules.

commit 3ce4c3ef23ca1741ade21d3a50bc663f33190dc5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 22:24:27 2009 -1000

    Ignore py-compile script.

commit 340d8ac1b0e0ba8f57897cc2cf1c56890874b579
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 21:55:30 2009 -1000

    Update Makefile.am to include docs and more targets
    
    Need to include the other docs and add targets to generate
    the ChangeLog and to clear out things we don't want in dist
    archives.

commit 426e5105604359910cd05b9bf2c2c5ac673eaf9a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 18:01:51 2009 -1000

    Include exceptions.h in the release tarball.

commit 1ae37e3f5d803c202245f028925ac6c307f57922
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 17:49:01 2009 -1000

    Seriously, we forgot to import what we're writing?

commit 1d6f65a0d09306213500efc32f495d40542d759b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 17:48:28 2009 -1000

    import math
    
    Need the math module here.

commit a76334c19340bd784cd5bfa693649dde0dab74bd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 17:47:31 2009 -1000

    __exponent -> _exponent
    
    pychecker caught this.  I was trying to make the hash too
    hidden.

commit 678309fc7b27bf28009d68cbea9681c5434ec553
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 17:46:20 2009 -1000

    floor -> math.floor
    
    pychecker caught this.

commit 7d822e3c470a88e095edefa1d54246674e1ff678
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 14:38:01 2009 -1000

    Modify getSize() in Partition to use global __exponent hash.

commit b584d61952778dd821104969a2bde68f21d8dcc6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 14:36:38 2009 -1000

    Make the device property on parted.Geometry give parted.Device
    
    The Geometry class had a getPedDevice() method to return the
    lowlevel _ped.Device object associated with this Geometry.
    However, at the higher level code, we want to deal with
    parted.Device as much as possible.
    
    Make the 'device' attribute on parted.Geometry return a
    parted.Device version of the internal _ped.Device.

commit 8e60c3405a3de09e0a10a0727ce7c2c09eb1d4f2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 14:36:01 2009 -1000

    Fix some __init__ problems in parted.Disk
    
    This object is still giving me some errors, but I'm committing
    what I have for now.

commit fbff8a39e2ebd1053bb5d5d44338909d93842e06
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 14:34:30 2009 -1000

    Fix __init__ to accept right parameters, add getSize()
    
    The __init__() methods takes either a path to a device on the
    filesystem or an existing _ped.Device object.  Removed the device
    parameter, since it didn't make sense.
    
    Added the getSize() method to convert the size of the Device,
    which is internally stored as a number of sectors, to a value
    suitable for display to the user.  The conversion function
    defaults to megabytes, but you can pick your unit from bytes
    up to terabytes.

commit 3a12ff1037b74a3b11f01fc6ef637fca16d27702
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 14:33:02 2009 -1000

    Import all objects, rename getDisk() to getDevice()
    
    Fill out __all__ and make sure we import everything in to the same
    namespace.
    
    The getDisk() method was a bit of a misnomer.  It gives you a
    parted.Device, so rename it to getDevice().
    
    I've added some getSize() methods to Partition and Device objects,
    which work sort of the same way.  Put the exponents hash at the top
    level to share it between those methods.

commit 1339448516c86da64afe6acc3a5b013e70402b93
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 14:32:38 2009 -1000

    PedPartitionType is an enum, so store it as an int.

commit 9d86023f5a65cb41741f29fe8e6b0057e1f89a57
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 12:35:06 2009 -1000

    convertion -> converting
    
    Speling error.

commit 6c030b0d6832804e3b8475a14adf6783fa576afd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 12:27:27 2009 -1000

    Return boolean types more safely.
    
    See commit 0383379fc77b90cfdb3df1f71b3c2888c7a791c5 for more
    details.

commit 927c1f3ad7ea2b72822b3fc8dfec2f82a2628328
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 12:23:30 2009 -1000

    Return a string representation of this partitions flags.
    
    Walk the list of partition flags and if a flag applies to our
    partition, add its string name to a list of flags.  After walking
    the list, return the string representations as a comma-separated
    list.

commit 0383379fc77b90cfdb3df1f71b3c2888c7a791c5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 12:21:51 2009 -1000

    Use 'int' for partition flag, return booleans more safely.
    
    Make sure that pydisk.c uses the int type for all instances of
    partition flags.
    
    Rather than using PyBool_FromLong() to convert an int to a boolean
    in Python, just test the return value in C and use either the
    Py_RETURN_TRUE or Py_RETURN_FALSE macro.  We've hit some size
    problems on 32-bit vs. 64-bit platforms when moving between ints
    and longs, so be safer about returning a boolean value.

commit 7f662910e31a4e0d39fd82ce39e8d5ad1019fb43
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 12:03:03 2009 -1000

    Create a partitionFlag hash under parted.partition
    
    The partitionFlag hash holds a mapping of partition flag values
    to string representations.  Done so we don't have to call the
    get next nonsense over and over at runtime.

commit 7c2c5325a28e226a946e5fbe8b8322026d965199
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 11:56:07 2009 -1000

    Treat partition flag values as int consistently.
    
    We were reading an int and storing it in a long variable, so we
    never could look up a partition flag name.

commit bfbb6222c193cb638efbe033873ecc1dcd15cc70
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 11:44:22 2009 -1000

    Prefix the partition flag functions with partition_
    
    Keeping consistent with the other _ped toplevel functions, prefix
    the partition flag functions with partition_

commit 6ca5a09e6c3f62cc69998e8e4367b468fdcf79d4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 11:10:17 2009 -1000

    Add getSize() method to parted.Partition
    
    The getSize() method will return the size of the partition in a
    unit suitable for human consumption.  Internally, parted deals
    with sectors for the partition length, so we have to convert that
    to something suitable for display.  partedUtils.py had a
    getPartSizeMB() function to convert the length to megabytes.  This
    new getSize() method defaults to megabytes, but can also handle
    bytes through terabytes.  Adding new size conversions should be
    easy too.

commit 1df1e12c5b970913910c7137f6fea9e862f30890
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 11:09:35 2009 -1000

    Bring over cylinder<->sector conversion functions.
    
    These functions lived in partedUtils.py in anaconda prior to
    becoming methods on the parted.Device object.

commit c381b769f0e7d1cf623bfb32fc2de7840cd40e3d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 23 10:32:35 2009 -1000

    Started the fdisk.py command
    
    Started the fdisk.py command, which aims to be a more or less
    compatible replacement for /sbin/fdisk that uses the pyparted
    module and is written in Python.  We may not be able to do
    everything that fdisk can do, but the point of this program is
    to exercise the pyparted module.

commit ee2e0e65eefbe9acc5287d9d302222ef96d4e01e
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 23 17:05:04 2009 -0500

    Remove the _register and _unregister methods.
    
    pyparted is the wrong place to be adding support for new disk labels and
    filesystems.

commit 996d9292b08cd54c277619f8777c81213f97fab9
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 23 10:01:42 2009 -0500

    Add basic test cases for _ped.FileSystemType.
    
    Do we want to add test cases for the _register and _unregister methods?
    Do we even want these in pyparted?

commit 8ba8fcb7d920af238bdf2c54cac7736ccf282269
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 23 09:47:42 2009 -0500

    Finish the test cases for CHSGeometry.

commit cc4205e7902859934c22e5d446b77525e2e7abbd
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 22 17:36:54 2009 -0500

    Add stub test cases for every method that didn't already have one.

commit 06598679fcb9d542e96ecb4d5876f502ad88e782
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 22 16:55:49 2009 -0500

    More simple test cases for _ped.Partition.

commit ce19a5d5bfcd2d021959448d5fbb4fb4f7a06f49
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 22 16:55:12 2009 -0500

    Catch a lot of assertions before they happen in _ped.Partition.

commit e32ff4d5f1bbd496136c3927d08a23c915732933
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 22 16:38:17 2009 -0500

    You can't call free on a PyObject.  That just doesn't make sense.

commit af5c76e78775a9f29c7ed9db38e9120ac1bdc001
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 21 08:11:04 2009 -1000

    Make some PyMemberDef members read-only.
    
    Set the READONLY flag for PyMemberDef struct members that need to
    be read-only.

commit e5bcf30fce3c409d0e9c11573c7436d28f936c20
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 21 04:29:58 2009 -1000

    In __init__ methods for _ped objects, handle kwds=NULL
    
    We may call the __init__ with no keywords, so handle object init
    with the keywords set to NULL.  Basically we just use PyArg_ParseTuple
    and read parameters in the same order.

commit bc63f343547226463df57e7a37eafab3ec4cb25d
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 21 15:30:23 2009 -0500

    Add the beginnings of the _ped.Partition test cases.

commit a3e06fb21a7acfbbe7881254ecc4ad5fa277bb27
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 21 15:21:21 2009 -0500

    Add base test classes for partitions and mounted filesystems.

commit 008eb5e9de4b25aca2e4cbd27e03d86100ab38b3
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 21 15:19:04 2009 -0500

    Support having a filesystem type of None on Partition objects.
    
    If a _ped.Partition object has a type of PARTITION_FREESPACE or
    PARTITION_METADATA, it must not have an associated filesystem type.
    Otherwise, you'll get strange assertions when checking if a partition is
    active.  Now I just need to modify everywhere else we support optional
    arguments to make sure they get set to a default.

commit a3b55dc39b5ad9e9010ece7d947808a69874292e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 21 03:21:33 2009 -1000

    Fix PyArg argument processing for 32-bit architectures.
    
    This was a fun one to track down.  After figuring out the code that
    was failing on my i386 devel box (but works on clumens' x86_64 box),
    I looked further and saw that our PedSector values were getting lost
    by the time we hit the next function.
    
    Anything that gets converted down to a PedSector needs to be treated
    as a long long int.  We were converting those using "l" in the PyArg
    parsing functions, which is just long int.  We need to use "L" to
    make sure it always uses long long int.
    
    For enum values, I changed those from long int to int.  enum values
    are strange and we can probably leave them as long ints, but I want
    to be specific and consistent across the code base.

commit b28164d7bb0eeff90f26af2cf2acab61f0972013
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 21 03:16:09 2009 -1000

    Support keywords or no keywords in init, read PedSector as long long.
    
    In _ped_Geometry_init(), rewrite the function to support cases where
    there are no keywords provided.  For those instances, we want to
    use PyArg_ParseTuple().  If there are keywords, we want to call
    PyArg_ParseTupleAndKeywords().
    
    For all instances where we are reading in a long long int using a
    PyArg parsing function, use "L" for the format string.  We were
    using "l", which leads to problems on 32-bit architectures.  All
    PedSector values are long long ints and need the "L" conversion.

commit f44a4d7c1de69377f2d4f22c388176f856b7db1a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 21 01:07:39 2009 -1000

    Update README.
    
    I am no longer the GNU parted maintainer.

commit e55fe762a74ffe22db2397e9480d87009a7d30f4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 20 05:25:04 2009 -1000

    Do not override the current exception when calling tp_init
    
    If tp_init fails, we should already have an exception.  There's no
    reason to drive over it with an exception that says we couldn't what
    was just tried.  We already know that.  We need the exception that
    caused the tp_init call to fail.

commit 5b41aab29729a00d3fb6218af24838dd8a9ca8b9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 19 09:07:52 2009 -1000

    docstrings for parted.Disk

commit ba5ca3f5b4c8e612d836cbc9846b276586d1e2bc
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 21 13:01:38 2009 -0500

    After calling ped_disk_new_fresh, flush the changes to the device.
    
    This is needed because _ped.Disk.commit_to_dev ends up calling into
    _ped_Disk2PedDisk, which then calls ped_disk_new, which will fail because
    there's still no disk label.

commit 7a394056a9a2e6734b627d612c31f1f52b82af1d
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 20 15:16:48 2009 -0500

    In _ped_Disk_init, only call ped_disk_new if there's a label.
    
    If we are creating a new disk that has no label, we'll never get around to
    calling ped_disk_new_fresh and so there will never end up being a disk label.
    Instead, we need to probe for a label and if there isn't one present, add one.

commit 50e62471f8113e5e2cfe9aba33578c979220a0ee
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 19 15:23:19 2009 -0500

    Add test cases for most of the methods on _ped.Device.

commit 52c65b33fa3d9d8565f59bfcc8d4987f1a533660
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 19 15:22:57 2009 -0500

    Add another test class for tests requiring a filesystem mounted.

commit 3134333cc6817efd632e8676f975e9cba6d3adf8
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 19 15:19:26 2009 -0500

    Add checks for libparted assertions.
    
    libparted will just raise C assertions for a variety of reasons.  However,
    the assertions are outside the usual exception handling mechanisms so we
    can't do anything useful when they occur.  So we need to duplicate the
    libparted checks and raise exceptions before calling into libparted.

commit fe7a5b0ba7038289b4106c2dd899b9d7621b1714
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 19 14:47:52 2009 -0500

    Copy open_count and external_mode back to the _ped.Device object.
    
    The open/close and begin/end_external_access functions have side effects.
    Namely, they modify the open_count and external_mode variables.  In order for
    pyparted to know what's going on, we need to copy these modified values back
    into our _ped.Device object.

commit 0d7c8eeb9cca65dac63f0c8034e33bb8a1ea2155
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 19 13:18:18 2009 -0500

    Add test cases for the last of the constraint constructors in _ped.

commit 7f2a2c384bbb817d4323c193ff0b021017ff95a8
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 19 13:16:43 2009 -0500

    Enforce the assertion that the min geom must be within the max geom.

commit 2c0f7e6019b8e88d6f616f305042afe8b7c82670
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 16 13:55:57 2009 -0500

    Set all other PyObject pointers to NULL when parsing arguments fails.

commit f58c10e45943fe68bc355f302b074923ac46e413
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 16 13:50:30 2009 -0500

    Recover from type errors on processing args in _ped.Constraint.__init__.
    
    If arguments are provided to the _ped.Constraint.__init__ method in the wrong
    order such that the types don't line up properly, memory will get scribbled
    over and you'll get random segfaults.  PyArg_ParseTupleAndKeywords appears to
    work from left to right doing arguments as they come, instead of validating
    types first and then doing assignments.
    
    So, we need to set things back to NULL on error.

commit 8cb83d003e1f8df04c8981c1b7ead6d83e9aa6ae
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 16 13:39:31 2009 -0500

    Add a test for wrong parameter order to _ped.Geometry.__init__.
    
    This is causing segfaults in _ped.Constraint.__init__, so add the test case
    to Geometry as well to make sure it works there.

commit 3f90dc6f10bdc08caa7b617d9b428ae99cf5c86b
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Jan 16 13:37:05 2009 -0500

    Add all the easy test cases for _ped.Constraint.

commit e186c33fa9dbe16d0c5baa10c77478cf8215d286
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 16 01:22:21 2009 -1000

    We are the only authors of this pyparted iteration.

commit 56c59dc83100d1657943f320062cda103c20c43b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 16 01:20:15 2009 -1000

    Updated to do list.

commit 3ed9fdfd87020a917bfcb34b3c6b76bf4f9cc133
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 16 01:18:01 2009 -1000

    Remove py_ped_geometry_destroy()
    
    Similar to _ped.Alignment, users can just call 'del' in Python on
    the object and garbage collection will take over.  Remove the
    destroy() method.
    
    Also remove the test case for _ped.Geometry.destroy()

commit dbac632202d6fca43bb90708855c85e220ea5480
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 16 01:17:25 2009 -1000

    Remove py_ped_constraint_destroy()
    
    Similar to _ped.Alignment, users can just call 'del' in Python on
    the object and garbage collection will take over.  Remove the
    destroy() method.

commit efb83935cb40a8be5eae2db87d1cda5ef610c576
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 16 01:15:39 2009 -1000

    Make notes about the device, disk, and partition destroy methods.
    
    Leaving these alone for now, but they most likely segfault.  Will
    investigate later.

commit 397fb0a2ee937012077ec634ff4de78b46e6aa41
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 07:27:33 2009 -1000

    filesystem -> fileSystem
    
    Use Python-like naming for parted properties.  Drop a comment in to
    record brain state so I can stop coding for now.

commit ea3643fdbd95ab225e8dad4118e0b14bbab3e2c1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 07:11:50 2009 -1000

    grainSize -> grain_size
    
    We use C-style naming in _ped and Python-style naming in parted.

commit 03f9626f470cfb6ded863f7eb4ef84230e9446f0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 07:09:54 2009 -1000

    Remove _ped_FileSystemType_set and _ped_FileSystem_set
    
    You cannot set attributes on _ped.FileSystem or _ped.FileSystemType, so
    remove the functionality.

commit 67aa645969f91dfc92666a182d7030d269ade0d9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 07:06:58 2009 -1000

    Remove _ped_DiskType_set
    
    You cannot set attributes on a _ped.DiskType, so remove the code that
    does that.

commit 07143ebcb3cd712c5739c5a1d3a76462998cbbae
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 07:01:58 2009 -1000

    Make properties on parted.Device read-only.

commit 452030716c2d5cfa16166e3151475c67b4c5a7b1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 06:59:48 2009 -1000

    Remove _ped_Device_set
    
    None of the attributes on _ped.Device can be set, so remove the
    function that handles that.

commit 1b18f1e33b88420861e855e488bf7ef1157563f7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 06:20:25 2009 -1000

    Remove AlignmentDestroyTestCase
    
    The py_ped_alignment_destroy() function is gone, so remove the
    associated test case.

commit 75ed3c40692ee9382d71b6d76b388b0f67d73aef
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 06:17:47 2009 -1000

    Add CHS geometry attributes to parted.Device
    
    Allow users to read the hardwareGeometry and biosGeometry attributes
    on the parted.Device object.  The attribute returns a 3-tuple in
    the order of cylinders, heads, and sectors.

commit a534ff79f473178505627c4b394e2d014d26d688
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 06:13:47 2009 -1000

    Removed _ped_CHSGeometry_set
    
    The attributes on a _ped.CHSGeometry cannot be set by the user, they
    are read-only.  Removed the set function and all capability for users
    to set those values.

commit 75d094c83273bccfb74b956f2a273355c64589f4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 06:11:16 2009 -1000

    Use Python-style naming for properties in the parted module.
    
    min_size -> minSize
    max_size -> maxSize

commit ab84adeba1062effc1882e68850e1859dc358b1b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 05:46:36 2009 -1000

    Remove py_ped_alignment_destroy, it's pointless.
    
    By supporting garbage collection, the py_ped_alignment_destroy
    function is pointless.  Destroying a PedAlignment in libparted just
    frees the struct, so our method on _ped.Alignment just reaps the
    Python object.
    
    There's really no point to this method since we have 'del' in
    Python to trigger this functionality.

commit ace7608105fd68187dcd758aa64930540d0aea75
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 04:17:37 2009 -1000

    Removed DESIGN file.
    
    From a brainstorming session, we no longer need this.

commit 06bf6c4c935dab7d089cdc6e80efd8ab54988c41
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 16:40:53 2009 -0500

    Add more test cases for the _ped module.
    
    This includes a new base test case class - BuildList - that can be useful
    for testing all those stupid _get_next methods.

commit 82d112be3f698cf8025327eb209445e7576b1bfe
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 14:17:19 2009 -0500

    Fix up another round of stupid pychecker errors.

commit f6a8b67662b2fd0f777e07f609a8e615850f7687
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 14:14:04 2009 -0500

    Fix a segfault in PyArg_ParseTuple caused by not passing in a double pointer.

commit 84dab60f2b6c7f1583b449109202d5b56f038f88
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 14:03:38 2009 -0500

    Let __init__ methods for each class accept either a low-level _ped type or all
    of the high-level parted objects that could be used to create the _ped type.

commit 8b0d9b4983d6ed15d745f54e0a9026e2a7051775
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 14:02:49 2009 -0500

    Fix a couple more s. -> self. typos.

commit 186756fd91d39656a435eaa5b949d46eb9416e80
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 13:56:06 2009 -0500

    Create getPed_____() methods to return the low-level _ped type contained
    within the high-level object.

commit 7de64eecda02ba813fa4409b8a142f214b59269f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 03:53:09 2009 -1000

    Yes, there is more to do.

commit 6d340b29488a1aef7f48b30122b6f99285254525
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 13:44:22 2009 -0500

    Add the parted.Alignment class.

commit 2fad5c41276b9a06ec6776788d5b437c41927fca
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 11:05:22 2009 -0500

    Fix errors found by pychecker.

commit cdd17c32a3ddf3ed7c569d4478bcd150505ed22b
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 15 11:05:01 2009 -0500

    Allow passing command line arguments to pychecker.

commit 03db3a6d977261915535745858a697417ba70dc9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 03:27:31 2009 -1000

    Put get_create_constraint() and get_copy_constraint() on _ped.Device.
    
    Put the get_create_constraint() and get_copy_constraint() as
    methods on the _ped.Device object.  We originally had these as methods
    on _ped.FileSystem because they are functions in filesys.c in
    libparted.  However, looking at the code in libparted, you can tell
    it's more obvious that the action is on a specific device, not a
    specific filesystem.
    
    The code for these methods still lives in pyfilesys.c to keep it
    consistent with the libparted code, but the methods in Python live
    on the _ped.Device class.

commit 643c09a0ab85a9d688db4c93f22c5564723a56f3
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 01:53:39 2009 -1000

    Add parted.FileSystem class.
    
    This one will need some more work, but the framework is there.
    
    NOTE:  The probe and probe_specific functions in libparted exist
    at the parted level rather than being methods on a FileSystem.
    Additionally, the get_create_constraint and get_copy_constraint
    functions in libparted are more closely related to a Device than
    a FileSystem, so they exist as methods on a Device.

commit 6f3714f62db09cd42bdedd1ad249d6cbfabe1768
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 01:48:42 2009 -1000

    Add parted.probeForSpecificFileSystem and parted.probeFileSystem

commit bc815d5b16fac9fbda1f1bddb797182daf10fc19
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 15 01:44:12 2009 -1000

    Add getPedGeometry() method to parted.Geometry
    
    This method returns the _ped.Geometry object in the class.

commit 10c76ffb4d722f13fb41195c6b9a837fdedd604c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 14 08:33:02 2009 -1000

    Support calling py_ped_file_system_type_get_next() from _ped.
    
    Allow users to pass nothing in to get the first file system type,
    or to specify an existing file system type to get the next in the
    list.

commit 1ddbc7a4f016036b786bb512236447905d17c068
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 14 16:11:03 2009 -0500

    Add a pychecker make target that's callable from the top level.
    
    Also, remove all the *.pyc files on maintainer-clean.

commit 030b797b1e1f214fc10e94205b811eecb7aa897b
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 14 15:57:04 2009 -0500

    Add the src/parted directory to the makefiles.
    
    Among other things, this makes sure it gets picked up by 'make dist'.  In
    the near future, it'll also mean we have the Makefile framework in place to
    add a 'make pycheck' target.

commit 74d8daebe0e27715d3a5bc4a1f589b015b828797
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 14 08:22:30 2009 -1000

    Move FileSystemType get functions to _ped
    
    Similar to the DiskType get functions commit from yesterday.  We
    need these to live outside of the FileSystemType object.

commit bedafbebccd49b38880d6b5f78c4e678bc515eff
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 14 08:13:44 2009 -1000

    Removed test script since we have localtest.

commit b6d9e1de3312af4aa7aa303bff5370ee94717f5f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 14 08:08:19 2009 -1000

    Support instantiating parted.Partition with _ped.Partition.
    
    For internal module use, we may want to instantiate a
    parted.Partition with just a _ped.Partition.  You can do that
    with the PedPartition= named parameter.

commit a8d8ff2027dab9151e04a09c08208b66bb3feffa
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 14 07:47:25 2009 -1000

    prop -> property
    
    Consistency, but pointless.

commit 5b767330af8c1a2d5e70aceb5e1f80a6ebe6a37f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 14 07:44:06 2009 -1000

    Consistently name the __readOnly() method in our classes.
    
    We are using properties and have a method to raise an exception if
    someone tries to write to a read-only property.  Purely for code
    consistently, make sure this method is named the same in all of our
    classes.

commit 3f9d14872037e3c16378fa1de0144618f03229f2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Jan 14 07:31:01 2009 -1000

    Make some variables private and super private in disk.py.
    
    The device and type passed in to the object should be private.  Do
    not make the partitions list be private either.  Be sure to hide
    the type variable used to build up diskType.

commit 43efffc3607b0a564005979b6f237f5e6e23ced0
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Jan 14 15:45:29 2009 -0500

    Add the parted.constraint class.

commit d3f584b160bf02e574ed490fff3803040ff2b790
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 13 17:33:40 2009 -0500

    Fix the _ped.flag_get_name test case to anticipate the proper exception.

commit c6445234bc3d792396220103fd39fe819484e737
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 10:13:38 2009 -1000

    test script

commit df3b3b49b2f12b5c5c7f706fbe14925cf0352174
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 10:12:53 2009 -1000

    Take in optional DiskType object for py_ped_disk_type_get_next()
    
    Since the get functions for DiskType live at the toplevel now, take
    an optional DiskType object so that we can iterate over the list
    and collect all types.

commit 4bb25ebd61419c6520ec1abb3dadb7cf20465bd5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 10:12:13 2009 -1000

    Initialize a diskType hash containing all DiskType objects.
    
    key=type name (e.g., 'msdos')
    value=_ped.DiskType object for that type

commit 82b956950ac6054d10295d5b0877bd7f262df5ae
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 10:11:48 2009 -1000

    Import from disk.py in parted/__init__.py

commit 6ae1b6722f653141cf49d986d530890e131cc598
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 10:10:09 2009 -1000

    Move DiskType get functions to the top level _ped module.
    
    DiskTypes are initialized at runtime, but are essentially static.
    We can remove a type once the library is loaded, but we never really
    create new types.  They are merely for reference purposes to give us
    things like type names and feature lists of disk types.
    
    I moved the get functions for DiskType to _ped so that in the
    parted/disk.py module, I can initialize a diskType hash table that
    contains all of the disk types with the type name as the key value
    of the hash.

commit 0eba5dc02f9a6cdfc54fffb8a89a0dbf176cd565
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 09:39:27 2009 -1000

    Docstring fix for device_get_next_doc in _pedmodule.c
    
    The method is device_get_next(), not get_next().

commit c58f8589a84b1df3553aea5ae7bd961d70a8aad2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 09:35:09 2009 -1000

    Started the parted.Disk module.
    
    Disk starts to get a bit more complicated past Device.  The beginnings
    are in the class, but there is more to come.

commit 6c6efa901fd515515965df48936144b5dea01e2c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 09:33:54 2009 -1000

    Created getPedDevice() method on parted.Device.
    
    The point of this method is to give us the _ped.Device low level
    object that is part of the parted.Device.  This might change to a
    property later, but for now I'm just adding a method to do this.

commit 469323dafbb8ebfe9e9ba4053382c16163bb4f30
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 13 16:51:02 2009 -0500

    Add stub test case files for all the other _ped classes.

commit 331b325cf3704f898a80b4fe1edae6aa3112da3e
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 13 16:02:39 2009 -0500

    Geometry.read never needed to take in a buffer argument.

commit 607e4a895684ba5f70632b626d7810fdf197e2c5
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 13 15:58:09 2009 -0500

    Add parted.Partition, though it still needs a few docstrings.

commit eb3d4c614b3eaf20c197f6a94c2507b30d004912
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 13 15:46:18 2009 -0500

    Add module-level documentation to parted.Geometry.

commit fbe3a4f78b9e45af190317dff249620a65565bdd
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Jan 13 14:44:36 2009 -0500

    Don't assert in libparted if an invalid flag constant is passed.

commit 615a6266e403464e972653494cac39fd0131c42f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 07:22:08 2009 -1000

    Add docstrings for the parted.Device class.

commit 9108b68d5ace0ecf518466012307af28cd154e61
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 07:08:01 2009 -1000

    Define parted.ReadOnlyProperty exception for Device class.
    
    Define the ReadOnlyProperty exception at the top level parted module,
    raised when users try to write to a read-only property.
    
    Also define the __all__ list and import the submodules inside the
    parted module.

commit c6f999a7d0373fabfb9ff4e47c25bf378450f85c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jan 13 08:26:32 2009 -1000

    Call setattr() for property set methods, docstrings, typo fixes.
    
    1) Use setattr() for the set part of a property() call.
    2) Add docstring for the main class.
    3) Inherit 'object' not 'Object'.
    4) The busy property needed to accept 'v' in the set lambda expression.

commit d133b711087c60143e9fbf78cd396faf7f5420b6
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 12 17:14:53 2009 -0500

    Add the parted.Geometry module.

commit ea1b6a6f71a0af03c593a9a74a9acdec5afb8ef1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 12 12:08:12 2009 -1000

    Started the parted.Device module.
    
    Still need to work on docstrings and property handling, and possibly
    buffer handling as well, but the basic structure is there.

commit 40a0a7cf9f7c8e48b21822b0de36e8aa71b8618e
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 12 15:26:20 2009 -0500

    Add base level getAllDisks and getDisk methods.

commit 13676093d2b9da71d964dbb9fe849865669d79f4
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Jan 12 15:00:49 2009 -0500

    Move device_get_next to the _ped module.
    
    We need this method in the top level _ped module so parted.getAllDisks can
    have access to the method it needs to build up a list of all devices.
    Having it be a method on a Device instance doesn't work.

commit 6c37f2702969c6c1272ca3f53548ce2e099d94a1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Jan 12 08:55:34 2009 -1000

    Rough design notes for the higher level pyparted API.
    
    Notes from the discussion of the higher level pyparted API.

commit b5df8e5e658b20f5caefb0d097fe3462886302f6
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Jan 8 13:45:02 2009 -0500

    Remove the stubs of the old API since we're not going to do that.
    
    Implementing the old pyparted API is difficult and seems like a waste of
    time, plus doesn't really get us all that much.  It's being removed so we
    can focus on designing the new API and get to work testing that.

commit 5b43da6b3a385075d11f156828ddca1393737444
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jan 8 08:47:37 2009 -1000

    Removed PedDisk.py
    
    We are not going to support the old pyparted API.

commit 7c955b1070ee2c3a433e805fe4bb7e5e0d83c48f
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Dec 16 13:14:40 2008 -0500

    Add the parted.PedPartition module.

commit 9ce6ffaf00a17be4cc1f79ade05198fae45a2f49
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Dec 15 16:55:00 2008 -0500

    Add a more complete PedDisk object, thought it's not yet accessible.
    
    parted.PedDisk gets used, but there's also parted.PedDisk.new which we still
    need to make visible so anaconda can call it.  I haven't reconciled that
    problem yet, but for now here's the full parted.PedDisk class.

commit e26ed634786ea460755549318ee96368dfc3026f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 17:26:46 2008 -1000

    Initialize tp_dict to NULL.
    
    Python documentation recommends that you set tp_dict to NULL before
    you call PyType_Ready().  You can modify it after the fact, but you
    want it to be NULL so that PyType_Ready() can set it up.

commit d89022bf420d048beb4f6a9ba8bd00b8fc845729
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 17:23:07 2008 -1000

    Remove tp_print placeholder.
    
    Current Python documentation recommends that you do not set tp_print
    to anything as it may be removed in future versions of Python.  The
    tp_repr and tp_str functions should be used instead.

commit 9f3d1c39e12c3e99416497b7e51f3751881426fe
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 17:21:57 2008 -1000

    Set tp_call to NULL for all types.
    
    None of our types are callable (for now), so set tp_call to NULL.

commit 6854ee5552328d131239b811affe6758c6e09fb5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 16:48:14 2008 -1000

    Remove internal-only PyTypeObject members.
    
    tp_mro, tp_cache, tp_subclasses, and tp_weaklist are internal-only,
    so we don't need to define them in our PyTypeObjects.

commit 6e17314f7b60982db2a779a865243e9931238650
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 16:34:34 2008 -1000

    Destroy PedDisk and PedPartitions and associated Python objects.
    
    In py_ped_disk_destroy(), call ped_disk_destroy() on the PedDisk
    and call Py_CLEAR() on self.
    
    In py_ped_partition_destroy(), call ped_partition_destroy() on the
    PedPartition and call Py_CLEAR() on self.

commit 98c912382f6e3b04c0b7f56333fd908c3aa6f592
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 16:33:42 2008 -1000

    Call Py_CLEAR() from _destroy functions.
    
    Make sure we are calling Py_CLEAR() in the destroy functions for
    _ped.Geometry, _ped.Alignment, and _ped.Timer.

commit 3c06ed94589d23f62f6ded6538b45ef84408147b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 16:04:47 2008 -1000

    Call Py_CLEAR() in py_ped_device_destroy() to reap the object.
    
    We successfully destroy the PedDevice in libparted, but we need to
    decrement the refcount on self to 0 so that Python's garbage
    collector will destroy the Python object.

commit f2dc083afaa7714845a1bf517d7751d426d3f278
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 16:02:20 2008 -1000

    Call Py_CLEAR() in py_ped_constraint_destroy()
    
    We do not need to convert the _ped.Constraint to a PedConstraint
    only to destroy it.  Call Py_CLEAR() on the PyObject pointer passed
    in to the function (self) so we drop its refcount to 0 and then
    Python should take over from there.

commit e6471cade66b429c116848bb085a174ca0cf465f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 15:52:53 2008 -1000

    Use Py_CLEAR() in dealloc and clear functions.
    
    Use Py_CLEAR() instead of Py_XDECREF() in dealloc and clear
    functions for our types.  Also set PyObject type members to NULL
    after we clear them.

commit 3d50d6d1aa605211184ae9b42a7256d86f6a2f15
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Dec 15 15:14:59 2008 -0500

    Update parted.PedDevice for changes to _ped.Device.
    
    It's been a long time since we looked at the parted module.  One big thing
    we changed is that you can no longer create a _ped.Device yourself.  We also
    moved a couple methods around.  Update PedDevice to reflect these changes.
    I have not yet tested this module, but test cases for it will be coming.

commit c2d73d53e65a760471304b9d19646f8219a32ae0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 10:23:25 2008 -1000

    Hate vim autoformatting of comments.

commit ac8259c7112d4a2775bfc0c29975da3400b197fa
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Dec 15 10:19:16 2008 -1000

    Move py_ped_disk_probe() to pydevice.c, make method on _ped.Device
    
    This is the first of hopefully few 1:1 function shift arounds.  We
    started the _ped module code by created py*.c files that more or less
    mirrored the libparted code as closely as possible while creating
    Python objects for the typedefs in libparted.
    
    The py_ped_disk_probe() function is the first one that we need to
    move to a new file.  It was part of pydisk.c, but since it operates
    on _ped.Device objects, it should be a method on that object.  As
    such, it's now in the pydevice.c file and the include components
    have changed locations in the header files.

commit ee144f33bd2599d4eb8e35ae4f1ce86e12a69225
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Dec 15 14:42:00 2008 -0500

    Add a test case for _ped.Alignment.is_aligned.

commit a678cc5c13f9c376d1c61af19f5b8981d5651e08
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Dec 15 14:03:19 2008 -0500

    Handle various libparted assertions inside ped_geometry_{read,write}.
    
    libparted will assert if the device is not yet open, so handle that before
    calling into libparted and raise an exception.  Likewise, passing bad
    arguments also causes assertions and must be caught ahead of time.

commit 5df0432165bae9ff3ddf582665239a934c693060
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Dec 12 13:15:12 2008 -0500

    Add test cases for most of _ped.Geometry, except the tricky ones at the end.

commit 861d97fe1a9c821809d27b255564486619aa89f7
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Dec 12 10:03:26 2008 -0500

    Add the initial set of tests for _ped.Alignment.

commit 857b5199e7d03cd01e1479d44898f5a6bcebbaa2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Dec 12 18:56:46 2008 -1000

    Store PedDevice pointer in _ped.Geometry object.
    
    A PedGeometry stores a pointer to a PedDevice, so store a copy of that
    pointer in the _ped.Geometry object.

commit bc38b608a1e5b6742179c3b921738f32afdb6e8d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Dec 12 18:51:41 2008 -1000

    Do not use ped_geometry_destroy()
    
    PedGeometry stores three PedSectors and a pointer to PedDevice.  If
    we call ped_geometry_destroy, we kill that PedDevice, which we don't
    want to do.  PedSectors are long long variables, so those are fine.

commit 10492d1ea2ca91efb4ccadc08d6627e2e6c75ee0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Dec 12 13:17:52 2008 -1000

    Comment explaining _ped_Device2PedDevice.

commit 9825f6f14a171b8654bce110ce5fe8f1f27e5841
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Dec 12 13:15:11 2008 -1000

    Do not run ped_device_destroy() all over the place.
    
    Do not use ped_device_destroy() to free a PedDevice.  We are not
    working with PedDevice types like we do with a PedGeometry or
    something similar.  We are passing the pointers around to the
    master copies of PedDevice objects.  If you are getting a
    PedDevice by calling _ped_Device2PedDevice(), you are getting a
    pointer and you SHOULD NOT destroy it.
    
    The only place where we should call ped_device_destroy() is in
    py_ped_device_destroy().

commit 2318284f9569f797601dc2769f495df79f04a516
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Dec 12 13:01:31 2008 -1000

    Store PedDevice pointer in _ped_Device struct.
    
    The PedDevice structs in libparted are unique.  Unlike the other
    types in libparted, PedDevices are generated when the library
    loads and scans for everything.  Things like Constraint and
    Alignment are can created on the fly and thrown away.  But Devices
    are arch-specific and need to live through the life of the program.
    
    In our _ped_Device struct, keep our convenience copies of the data,
    but also store a pointer to the PedDevice we're mirroring to
    Python so that we can use that in other calls where we need the
    PedDevice.
    
    This solves the problem of "what to do about the arch_specific data"
    issue.

commit a2e84105e8fed9c98f690ae37decf3f51eb3ee01
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Dec 12 12:15:11 2008 -1000

    Add AC_CONFIG_MACRO_DIR([m4]) to configure.ac
    
    The output from the bootstrap script keeps telling us to do that,
    so I did that.

commit 7ad7f64854f70a67a13bad7424eba38f4e391cab
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Dec 12 16:24:12 2008 -0500

    Fix errors in converting _ped.Device to and from PedDevice.
    
    First, _ped_Device2PedDevice was only doing a ped_device_get, it wasn't
    actually copying any of the values into the PedDevice object.  That's not
    going to work.  Second, we have to copy the arch_specific pointer around
    since that has function pointers that libparted methods will need to
    access.

commit f9f37e5c5ac9922bb461b66ccf9793b5f46a77ab
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Dec 12 16:19:13 2008 -0500

    Make sure to copy the open_count attribute when we open a device.
    
    This is another instance where a libparted function sets a value on one of
    the libparted types, and we don't copy it back into the corresponding pyparted
    type.  This should make read/write methods work a little better.

commit f94ee259d845c2c26dd04a877f2bd2fd4afe778d
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Dec 11 16:28:55 2008 -0500

    Add a test case for _ped.device_get.

commit df898812d836a00a18c26c516426758b4bd8c73f
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Dec 11 16:24:27 2008 -0500

    Raise an exception instead of segfaulting on _ped.device_get(None).

commit b6c6450a586d7b06e7d6253036d42e5f8f899de0
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Dec 12 10:52:38 2008 -0500

    Copy modified attributes from ped_geometry_set_* to the _ped.Geometry object.
    
    All our _ped.Geometry.set_* methods were failing because the values were being
    set on a libparted object, but never being copied back to the _ped.Geometry
    object.  So it's like those method calls never happened.  Unfortunately, this
    causes another GC error to appear.

commit 8efcd8c2d713812c49cb51290878906bb5a5fd71
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Dec 12 10:19:57 2008 -0500

    Fix a bunch of typos and thinkos in the test cases.
    
    The existing _ped.Geometry test cases should now all pass with the right
    successes and errors, except destroy.  But then, we don't know what we
    want to do with the destroy methods anyway.

commit 660f5ec59e3f0c3ab153cdc233772fc4d653da69
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 19:12:18 2008 -1000

    Handle reference counts in _ped.Geometry correctly.
    
    In the dealloc and clear functions for _ped.Geometry, use the
    Py_CLEAR() call to bring the reference count to 0 for PyObject
    members.
    
    In the init method, initialize PyObject members to NULL and
    increment the reference count on self before returning.

commit 7fd719e2dd28638ecf9877a1a0c565754246ee81
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 16:18:09 2008 -1000

    Handle object members in _ped.FileSystem correctly.
    
    This object may need some more work later.  We allow users to create
    _ped.FileSystem objects, but we don't want to call libparted from
    inside the __init__ function to see that what the user provided is
    valid.  Why not?  The only function we get in libparted to check
    that is the ped_file_system_create() function, but the user may not
    want to create the filesystem on disk yet.
    
    The disk and type parameters are required, so make sure to Py_INCREF
    those correctly.  An optional parameter for now is checked.  Init it
    to false.  I say this function may need some more work because we
    may want to change 'checked' to be a boolean.

commit 3222d345e2664cc1f8b0994779c0d44e96b509d9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 16:15:50 2008 -1000

    Initialize members in _ped_Geometry_init() correctly.
    
    Call Py_INCREF() on the _ped.Device object.  For start, length, and
    end, just copy those back from the PedGeometry we get.  end may or
    may not be provided by the user, but it doesn't matter because we
    should be able to just copy the values directly back from the
    PedGeometry and know we have everything we need.  They are long long
    values in our struct and in libparted, so no special PyObject
    handling for these.

commit acde8a535ff87b945cb5af67b5f40ce354851310
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 16:11:25 2008 -1000

    Copy in missing members in _ped_Disk_init()
    
    Similar to the work done for 67fcd69777057e5670e90d523a17d24e3247c6f4

commit 02c2c2764a9ccf42f74c6c40d2808c0318ed6331
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 15:44:20 2008 -1000

    Copy in missing members in _ped_Constraint_init()
    
    Similar to the work done for 67fcd69777057e5670e90d523a17d24e3247c6f4

commit 46c72caea7d4fefe30df7086110f0179f88e06a4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 15:35:22 2008 -1000

    Use tp_alloc for types that must use factory functions.
    
    We have some types that users are not allowed to create on their
    own.  The module may hand them one of these object types, but one
    cannot be created in the usual way.
    
    For these types, we have tp_new set to NULL.  In convert.c, make
    sure we call tp_alloc rather than tp_new to allocate the new object
    and return it to the caller.

commit 429a1f09a8c3376ff6e419031e044fa6cf353fc7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 13:19:45 2008 -1000

    Py_CLEAR sets the argument to NULL, remove redundant line.

commit 9501a349c8d24e12e71bbd0722ca4cf3bcc1534d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 13:12:33 2008 -1000

    Copy in missing members in _ped_Partition_init()
    
    For some objects, we only require the user to give us a bare minimum
    of information and then we let libparted compute the other members.
    To get these additional members back in to the Python object, I was
    doing a Py_XDECREF on self and then simply converting the newly
    generated libparted type to a Python object and assigning it to self.
    On paper, this sounded like a good idea.  Several problems:
    
        1) Py_XDECREF only decrements the count by one.  We really need
           to zero out the count.
        2) Clearing self and then assigning something new to it while
           you're inside the object isn't very clean.
        3) The new self needed a Py_INCREF.
    
    Things I've learned:
    
        - PyArg_ParseTuple and PyArg_ParseTupleAndKeywords do not run
          Py_INCREF for you on PyObjects it reads.
    
    The new solution is pretty simple to follow.  We keep the parsing
    using PyArg_ParseTupleAndKeywords and we keep the libparted call
    because that computes the other members we need, but changes I've
    made:
    
        1) Py_INCREF the PyObjects read by PyArg_ParseTupleAndKeywords
        2) Copy in computed members that are not PyObjects by just
           using an assignment in C.
        3) For computed members that are PyObjects, first I Py_CLEAR
           the member and set it to NULL, then I convert the computed
           type to a PyObject, and lastly I call Py_INCREF on that
           member.
        4) Use ped_free() to destroy the PedPartition we made.
    
    In short, we need to use Py_INCREF on all PyObjects read by the
    PyArg_ParseTuple functions.  We should not clear self and reconvert
    the object, instead we should correctly copy in the new members.

commit 7e973965a5710fce3d9bce96d5c3b4e848331890
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 12:46:15 2008 -1000

    Use tp_new for PedCHSGeometry2_ped_CHSGeometry()

commit 983d4a92bc455e7811ad72d33f42eedabad81598
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 12:45:12 2008 -1000

    Use tp_new for PedFileSystemType2_ped_FileSystemType()

commit 461f7c6fbbf2a3bebe63c47050e9df2942ace69e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 12:43:59 2008 -1000

    Use tp_new in PedDiskType2_ped_DiskType()

commit 8c27c45f784c09b37dac55444a622f2209d9eca9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 12:41:19 2008 -1000

    Use tp_new/tp_init for PedDisk2_ped_Disk

commit 26aaa738bfadf10ddf206713c0fba988108bef95
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 12:25:47 2008 -1000

    Use tp_new in PedDevice2_ped_Device()
    
    Use tp_new to allocate the new _ped.Device object in
    PedDevice2_ped_Device.  Remove some GC function calls and added
    Py_INCREF calls for the _ped.CHSGeometry objects we create.

commit 955e565f943a4ccd1b12870a36d39fc89b85b421
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 12:17:07 2008 -1000

    Use tp_new/tp_init for PedFileSystem2_ped_FileSystem()

commit 9b20c54d920b8f92bae69b8a9a4f019c5c9388b6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 12:00:43 2008 -1000

    Use tp_new/tp_init in PedConstraint2_ped_Constraint

commit cca6a1bba756e95bdee30b0d32c80d72340e1830
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 11:30:27 2008 -1000

    Change PedGeometry2_ped_Geometry() to use tp_new and tp_init
    
    We changed PedAlignment2_ped_Alignment to use the tp_new and tp_init
    function pointers for the _ped.Alignment type object and use the
    Py_BuildValue() function to build the argument list for tp_init.
    Changed PedGeometry2_ped_Geometry to work the same way.
    
    Also fixed up an error message in PedAlignment2_ped_Alignment.

commit ab84bf7ea1a0bc598cf6e0a6576b3bbf1c0c5424
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 11 11:10:32 2008 -1000

    Move #include <structmember.h> to typeobjects header files.
    
    We only need to include this head for the structs defined in the
    typeobjects header files.

commit c62b331165556e426cc050d643e34321ecf97006
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Dec 11 13:58:19 2008 -0500

    If _ped_Geometry_init returns -1, make sure we set an error string.
    
    Python requires all NULL/-1/other error code returns from functions to have
    some error string set as well.  Otherwise, it complains.  If we are not
    handling this same case in all the other files, I'll need to go through and
    change them too.  It's probably easiest to do that as I work my way
    through the test cases.

commit 77797fd92681380676a57d21f5a4559b65d333dd
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Dec 11 10:38:41 2008 -0500

    Fix converting libparted execptions into python exceptions.
    
    First, we were always hitting a double free because libparted frees the error
    string for us, but we were also doing that in partedExnHandler.  Second, the
    exception flag and message need to be moved into a .c file and externed in
    the header, just like was required for fixing the isinstance problem.

commit 62f9fb45609466af0fd032620af9963e27b8aa03
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Dec 11 11:45:13 2008 -0500

    Add a test case for CHSGeometry, which is really kind of useless.

commit 0268f3bd821ca26c2b919d8131e47a4ec565fe71
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Dec 11 14:08:06 2008 -0500

    Add test cases for all the easy methods on _ped.Geometry.
    
    These test cases do not all pass yet.  There are some GC-related errors and
    other problems that are keeping them from passing.  However, I've only been
    working on them on a private branch.  By pulling the test cases onto master,
    it's opened up for everyone to see the errors and work on them.

commit 1ad2c616060300e021964b7a6a780893641704d9
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 24 15:14:11 2008 -0500

    Add a file to contain baseclasses for our test cases.
    
    Lots of our test cases will have to do similar operations, like set up a
    temporary device for testing destructive parted functions against.  For
    these test cases, it's convenient to create a base class with the setUp and
    tearDown methods that the test cases then subclass.

commit e1435fde00c9ef7f3136ec5ebac020d1569e1fbe
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Dec 11 14:05:30 2008 -0500

    Add test case stubs for the other methods that have moved into _ped.

commit d3044a116b60f8a90ca0fdfef0dcfad56337a6e1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 18:45:31 2008 -1000

    Forgot the \ at the end of the noinst_HEADERS line.

commit 25bfe7e3123871a82c770e4bab03069823fb3522
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 18:44:22 2008 -1000

    Created include/typeobjects/*.h to hold PyTypeObject definitions.
    
    I like header files for source organization.  Since I did that for
    the docstrings, I decided to move the PyTypeObject stuff in to
    header files under the include/typeobjects/ subdirectory.  That way,
    we can work on those structs in one location and not end up with
    huge source files in src/

commit d9ed389c0c0527793c5d1a7e1b989f9d27ec795d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 18:02:10 2008 -1000

    Move all PyDoc_STRVAR() declarations to docstrings header files.
    
    We only want docstrings for PyTypeObjects and related structures.
    The docstrings get long, so put them in their own header files under
    include/docstrings and then include the per-source docstrings header
    under src/
    
    Organizational change and also clears up errors where we were
    defining tons of docstrings each time we included something.

commit 6c315acde583b82407559de7260dc83007a7acb0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 17:40:10 2008 -1000

    Move other static structs to C source for PyTypeObjects.
    
    Move PyMemberDef, PyMethodDef, and PyGetSetDef structs to C source
    files to be next to the PyTypeObject structs.

commit a581ac8f90c553206f353254eec19a5770c94a56
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 16:47:25 2008 -1000

    Move PyTypeObject defintions to source files.
    
    Do not declare PyTypeObjects as static structures in the header
    files, because this leads to multiple PyTypeObjects in our Python
    module, which causes things like isinstance() to fail.

commit c8bddd6c58a1d2df8fa973bb91a5f406b05d9214
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 16:22:33 2008 -1000

    Fixed the isinstance bug.

commit 8ffddb0a893c93513afbff0fe7724b7138efae95
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 14:54:06 2008 -1000

    PyObject_HEAD_INIT(NULL) -> PyObject_HEAD_INIT(&PyType_Type)
    
    Left over from something I was trying earlier, forgot to put back
    the &PyType_Type component.

commit 903d07e55e7685472c1106721499a1e84664085d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 14:52:47 2008 -1000

    Use _ped_Alignment_init() in PedAlignment2_ped_Alignment.
    
    Better to use our own code rather than have assignment lines for
    each class member.

commit dbd87ef75c521321ccac02fe2c39cae359d8bc51
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 14:49:31 2008 -1000

    Fix PedAlignment2_ped_Alignment() missing ob_type problem.
    
    This fixes the following problem:
        import _ped
        x = _ped.Alignment(10, 10)
        isinstance(x, _ped.Alignment) -> True
        y = x.duplicate()
        isinstance(y, _ped.Alignment) -> False
    
    The problem was because we have our PyTypeObject declarations in the
    header files to the project and have them all set to 'static', which
    means we have too many copies.  Only the one seen in _pedmodule.c was
    getting ob_type set correctly, which is why x is an instance of
    _ped.Alignment, but not y.
    
    The solution is to remove the static part of the declaration and put
    it in the appropriate source file in the project, but then add this
    line to the header file:
    
        extern PyTypeObject _ped_Alignment_Type_obj;
    
    The extern line is so we can use that type object throughout the rest
    of the code.

commit 0c1d36ede75ea0d7f70e9b73f1715611d53b10a7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 14:01:12 2008 -1000

    Correct some format strings in pydisk.c
    
    The device path part of a PedDisk is buried in the PedDevice and
    finally the path member, so we should have an extra ->dev->path on
    all of the instances where we want the device path.
    
    Use %d for the partition number rather than %s.

commit 4306d2b1ed2338718653e747b65a43eda4512f81
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 13:53:30 2008 -1000

    Remove unused tp_new functions.
    
    Removed the following tp_new functions:  _ped_FileSystem_new(),
    _ped_Alignment_new(), _ped_Timer_new().

commit 010c4cf64b4eb3770d2fb6fb01a17ea500d7602b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 13:50:21 2008 -1000

    Remove tp_new functions in pydisk.c we aren't using anymore.
    
    Removed _ped_Partition_new() and _ped_Disk_new() since we are using
    the PyObject_GenericNew() function now.

commit 7c1c9bf028b5c85a2bf42b3503c6f1d83a6a0c8d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 13:50:03 2008 -1000

    Removed unused variable 'o' in init_ped()

commit 277eb92a565daa6e0789513759bc4e8c33d1dd89
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 13:44:39 2008 -1000

    Add prototype for init_ped() function.

commit 80908532be80f23df933091ba5602b799155ca08
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 13:37:25 2008 -1000

    Add '-Wall -Wmissing-prototypes' to the CFLAGS.

commit 2ed4756c5f01b9cb57d67de4c35d466c8c41fe8d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Dec 10 13:06:22 2008 -1000

    Ignore autogenerated m4 files.

commit db1e50a2ba62e39b919cca980cbfa50c08163d79
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 25 15:11:05 2008 -0500

    Update bug list for the latest disaster.

commit 39ba3d45851caab5e4c06460d65af7fff7dabd89
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 25 11:22:59 2008 -0500

    Make _ped.Device documentation look like all the rest.

commit a611d36a117425ee66fb6b81766db6339a41d792
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 25 11:12:06 2008 -0500

    Add documentation for everything else in pydisk.h.
    
    We're not really going to use Timers in the future, so I'm removing them from
    the TODO list.  Writing a bunch of documentation we're just going to throw
    away seems like a big waste to me.

commit 1504cf1770215c56897a0a445386cb7f6d261f54
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 21 10:52:07 2008 -0500

    PyType_GenericNew behaves correctly for GC-managed objects.

commit 5036bad08d9fc283fce78f8f9277225d84c7daa0
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 05:30:34 2008 -1000

    Remove Py_TPFLAGS_DEFAULT from PyTypeObjects.
    
    We shouldn't be using Py_TPFLAGS_DEFAULT because it sets things that
    we don't necessarily have defined for our objects.  Made sure ours
    are set to just the things we want.
    
    NOTE: We'll have to update the tp_flags when we define more things.

commit 60fbfc19b9a3ac923da48f9f0eac5069e9c3b1d5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 04:34:07 2008 -1000

    Updated TODO list.

commit 0508f79eb6ad9d173d856467324ade8f4a3498ae
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 04:29:08 2008 -1000

    Use PyObject_GC_Del() for object destruction.
    
    Since we are using GC now, we should use PyObject_GC_Del() to destroy
    objects.  Explained when we should and should not use the Py_XDECREF()
    and PyObject_GC_Del() functions.

commit 4df04a561c350386e6166be9508048e69704e049
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 04:17:08 2008 -1000

    Add garbage collection for _ped.Timer
    
    That completes the basic layout for the GC support on our custom
    PyTypeObject definitions.

commit cd1983d913989eb32c1d10420a146d79b308d9c9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 04:13:25 2008 -1000

    Added garbage collection for _ped.Alignment

commit 9bb650f0b53706a397d67e9b568afbb2fb53a9d7
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 04:08:42 2008 -1000

    Added garbage collection for _ped.Geometry

commit 2973ea1163fe7241750361d6f79e87c4cab53ee6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 03:59:39 2008 -1000

    Added garbage collection for _ped.FileSystem and _ped.FileSystemType

commit 32ea2f9251ce425123f874d7872dd5c660dfeb73
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 03:44:17 2008 -1000

    Rename Device factory functions to more closely match libparted.
    
    The names I gave the Device factory functions at the _ped level do
    not follow the naming style we've been trying to use in _ped.  Made
    the following method renames:
    
        _ped.get_device() -> _ped.device_get()
        _ped.probe_all_devices() -> _ped.device_probe_all()
        _ped.free_all_devices() -> _ped.device_free_all()

commit 984ee859e3dd7676ad571e0dcf3e345d4b38593b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 19 00:09:17 2008 -1000

    Updated TODO list.

commit 9a4350fc4e839bdb237738e65ce97c9df6a37830
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 23:57:03 2008 -1000

    Add garbage collection support for pydisk
    
    Add GC functions for _ped.Partition, _ped.Disk, and _ped.DiskType.

commit 024c4afd6b838e60801cedaeb12722b6f056ef7a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 23:26:27 2008 -1000

    Add garbage collection support for _ped.Constraint

commit d22816b44fb7dc03e5bc08eaf8d48ad720605c2f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 23:12:51 2008 -1000

    Forgot the Py_TPFLAGS_HAVE_GC in the _ped.CHSGeometry PyTypeObject

commit 6a587ca361b4588c19f674a580e583b65cfe300c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 23:09:53 2008 -1000

    Add garbage collection support for _ped.CHSGeometry

commit 3347d820465a9ac07df0d1ad2acb08312a99598e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 22:43:15 2008 -1000

    Add garbage collection support to pydevice
    
    Seems pretty straightforward.  Use a different _New function, add
    traverse and clear functions, fix up the dealloc function to work
    with GC, set the GC flag in the PyTypeObject.
    
    Will be carrying this over to the other types.

commit 2ff371dd7f5ac0c51b3036a548ed58b8640fed08
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 15:04:57 2008 -0500

    Use PyType_GenericNew instead of our own function, where appropriate.
    
    On our object types where you can create them manually, the generic new
    method both allocates space for the type and sets up default values.  With
    just using our own new functions, we'd have to set the defaults ourselves
    to prevent tracebacks.  This new mechanism has the pleasant side effect
    of enforcing the number of arguments required to be passed to the __init__
    method.

commit fa2e1debb6f58c599b16a133e3051b50db126b9c
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 13:38:32 2008 -0500

    Add test cases for a couple more things in _ped.

commit d0dc99794457e72f5e740c3fd73df39062d9cbdc
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 13:19:51 2008 -0500

    PedPartitionType and PedPartitionFlag are enums, so treat them as longs.
    
    This fixes the same stack alignment problems as we were having with PedUnit.

commit cc187567619a7aa29e01564bdd207a0665a84423
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 12:17:01 2008 -0500

    Move flag and type methods into _ped.
    
    The following methods do not operate on an object, but instead return flags
    and types based on integers/strings:
    
        py_ped_partition_type_get_name
        py_ped_partition_flag_get_name
        py_ped_partition_flag_get_by_name
        py_ped_partition_flag_next

commit c37be24f677a7d0b6f9347b8734d6b4c513b721c
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 12:12:03 2008 -0500

    Add documentation for _ped.Partition.

commit 36d9c7cb6c370be9f13322aad6338abeeabcb21c
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 10:36:46 2008 -0500

    Fix dir() not wowrking on all other object types, too.

commit 87b477c1b032e139ea1fd692deb57e4a5d9594e4
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 10:21:06 2008 -0500

    Use the right types when calling PyObject_New.
    
    I don't think this actually affects anything, but all examples I've seen
    use a real type as the first argument instead of PyObject, and it certainly
    does make things a little more clear.

commit 0b25435d23f57609e6fd3e84d956c51a1c33a99c
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 20 10:14:09 2008 -0500

    Fix the problem of _ped.Device objects not having any attributes.
    
    What do you know, we needed to add a method to the type struct for how to
    get attributes.  I suppose this now needs to be done for our other types,
    too.

commit 2f1c2663419e77277e1dbba7b12029189f64e3ff
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 12:44:51 2008 -1000

    Updated TODO list.

commit 31b5810c0f89161d0dd23fdceff5b3422a00737c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 12:44:18 2008 -1000

    Add docstrings to include/pydevice.h

commit 22c7bc670bd8f018e043129244d0904c064651af
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 05:50:52 2008 -1000

    __init__() cleanups in _ped.Disk
    
    Throw CreateException if the user does not provide the required
    parameters.  Remove the extra conversion checks since libparted
    will error out anyway if those are invalid.  Lastly, delete self
    if we failed to create the PedDisk.

commit d3360bc7d08058338dc3fabeb6498f7f38b70cea
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 05:50:17 2008 -1000

    Delete self if __init__ fails in _ped.Constraint
    
    Make sure to delete self if __init__() fails in _ped.Constraint.

commit bb9f2cbbe35bc4a5d8a5860ed2c5541b1f551d2e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 05:49:34 2008 -1000

    Convert newly created PedGeometry to _ped.Geometry in __init__
    
    After we create the new PedGeometry, convert it to self before
    returning.

commit 61e1fced555ea567e99ca330b8393f9c4e099761
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 02:48:57 2008 -1000

    Use PyObject_New() and PyObject_Del()
    
    Found out the difference between the _New/_NEW and _Del/_DEL
    functions.  The all caps versions eliminate some safety checks and
    NULL tests in favor of speed.  I figure we can use all the safety
    checks we can get, so use the more safer versions.

commit 3353848efb11e08b0a10f9ed973a599d86ddafe1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 02:45:19 2008 -1000

    Expanded _ped_Disk_init()
    
    Removed the py_ped_disk_new() and py_ped_disk_new_fresh() functions.
    Several problems discovered.  First, those functions weren't that
    correct.  More importantly, they should not be per-Disk methods.
    Since they deal with creation of Disks, merged their functionality
    in to the __init__() function for _ped.Disk.
    
    The __init__() function will have one required parameter, the Device.
    If you also provide the option DiskType paramter, the behavior
    changes.  Providing just the Device causes us to call ped_disk_new()
    in libparted.  If you provide a Device and a DiskType, we call
    ped_disk_new_fresh() in libparted.

commit fcb736f0838695ca124a4c63ab27fc03c997acf8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 02:16:10 2008 -1000

    In *_destroy() functions, destroy the Python object.
    
    In our py_ped_*_destroy() pass-through functions, we were converting
    the Python object to a libparted type, then destroying and returning
    None.  While this works, it seems pointless.  We don't need to create
    and destroy a libparted type, we only need to destroy our Python type,
    so call PyObject_DEL() and return None.
    
    The py_ped_file_system_clobber() function is special.  We have to
    call the file system clobber function to actually destroy it on disk
    and then destroy the object.

commit d3af4a4709284a9879ffa1dc1c4b12359044a3b6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 02:00:39 2008 -1000

    Move py_ped_timer_new() functionality to init for _ped.Timer
    
    Timers are not entirely implemented, but keep the current code in
    line with the rest of the module.  The ped_timer_new() function
    should not be a method on a Timer object.  Moved its functionality
    to the __init__() function for _ped.Timer.

commit 8eff9b3f561a9e3a3294a03ae82df79d13e80a71
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 01:54:58 2008 -1000

    Move py_ped_partition_new() functionality to init for _ped.Partition
    
    The py_ped_partition_new() function should not be a method on the
    _ped.Partition type.  Moved the functionality it was providing to
    the __init__() function for a _ped.Partition.

commit cbff35f5e82c0814468e9be29a9354d716f1ce94
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 01:12:58 2008 -1000

    Updated TODO list.
    
    Explain the bug where we create new objects with factory functions,
    but they appear empty until we just access them in the interactive
    environment.

commit b9b030ba7950314943c540051d809acac3148ae5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 01:10:48 2008 -1000

    Use PyObject_NEW() in convert.c
    
    The *_new() functions for non-instantiatable objects are not longer
    available, so use PyObject_NEW() to create them in convert.c

commit d9f6850e130b83f8d3fd93bead73c6e1eff22e7b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 18 11:02:30 2008 -1000

    Make some types non-instantiatable by users, clean up tp_allocs.
    
    The following objects cannot be instantiated by users directly:
        _ped.Device, _ped.CHSGeometry, _ped.DeviceType, _ped.DiskType,
        _ped.FileSystemType, _ped.PartitionType
    
    These are valid objects with other methods and attributes, but _ped
    will hand the user that object when necessary.
    
    Remove all of the tp_alloc assignments from _pedmodule.c and put those
    in the PyTypeObject structs.

commit 0de87041d8e72734b007105ba522d35704e70c9f
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 18 15:34:07 2008 -0500

    And there's more stuff to write test cases for in _ped.

commit 77430fcf085841b4f863b0729d5ad5cab06f863c
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 18 14:06:28 2008 -0500

    Add documentation for FileSystem and FileSystemType.

commit 7c7b7988e3540a4e7735e097830a1047ca9f5b2b
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 18 11:58:36 2008 -0500

    Use a much more simplified way to add constants to the _ped module.

commit 91310740c94b4ce0999565338191893d31ff719d
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 18 11:34:41 2008 -0500

    Add documentation for Alignment objects.

commit ebe1ff4a1ef5ed7c7fc7ef2fb2896dcb337f3692
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 18 11:07:59 2008 -0500

    Finish up Constraint documentation with an object-level blurb.

commit 992501cd194a4e5d0772b8f114bfa72cb6d38cae
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 17 08:10:39 2008 -1000

    Updated TODO list.
    
    Added a note to make sure that all of the destroy pass-through
    functions also destroy the corresponding Python object.

commit 727f7e980683c48ae1e653399984cf8482aec52b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 17 08:06:57 2008 -1000

    Add docstrings for pyconstraint, remove py_ped_constraint_done.
    
    Added docstrings for the pyconstraint attributes and methods, based
    on what I found reading the libparted source.
    
    Saw that the ped_constraint_done() function is a helper function
    for ped_constraint_destroy() and we don't need a pass-through for
    it in Python, so I removed it.

commit b95edbe306be325aafdc572dc858e44e5b14a691
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 17 02:04:32 2008 -1000

    Updated TODO list.
    
    Note the stupid git ref error we're getting and make a note to fix
    it at some point in the future.

commit 01006816d5948172bd05368398bca646c9af18f8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 17 11:46:26 2008 -1000

    Last try and then I just give up on git.

commit c9922161280c751b014dbbba356081ad9d35128a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 17 11:45:08 2008 -1000

    One more test.

commit e072231d39e058cb702057789accb7ffde98513e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 17 11:42:37 2008 -1000

    And do we have those annoying errors gone?

commit 01a5336c282b4b92d75ed97c3154c50598410778
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 17 11:37:37 2008 -1000

    Testing the git gc fix.

commit 9b476401989d216b5c31363a425477eee9573118
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 17 14:42:48 2008 -0500

    Fix _ped.Device object creation so you can only create them from functions.
    
    The tp_alloc function we had was causing segfaults, so I replaced it with
    PyType_GenericAlloc which is what the python docs recommend we do anyway.
    Also we were setting a tp_new in _pedmodule.c which was overriding our NULL
    setting in the type object.  That'd explain why a = _ped.Device() still
    worked.

commit 6b597a0487ff10fc4dbd711a35c24ab73577d017
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 07:29:38 2008 -1000

    Move Constraint factory functions to _ped.
    
    The following Constraint functions are not specific to a single
    Constraint instance, they are factory functions.  Move them to _ped
    and add docstrings for them:
    
        py_ped_constraint_new_from_min_max()
        py_ped_constraint_new_from_min()
        py_ped_constraint_new_from_max()
        py_ped_constraint_any()
        py_ped_constraint_exact()

commit 5817ca6229bf492f16d177850ebe7b7cef56d6ed
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 07:15:08 2008 -1000

    Remove init and new functions for Constraint, Geometry, & Alignment.
    
    The py_ped_OBJECT_init and py_ped_OBJECT_new functions for the
    Constraint, Geometry, and Alignment OBJECTS were sort of pointless.
    The object's tp_new and tp_init methods are sufficient.
    
    Remove the pass-through calls for the unnecessary functions.  Added
    calls to the ped_OBJECT_new() function inside each type's tp_init
    function.  We can use this to have libparted validate whether or
    not the user is creating a correct object.  Catch exceptions from
    libparted like we were doing in the new and init function pass
    throughs.
    
    The __init__() functions now for Constraint, Geometry, and
    Alignment require all arguments since it's now like calling the
    ped_OBJECT_new() function in libparted.

commit e7916a123e32241955f5e37ae8d281f6fea5a649
Author: Chris Lumens <clumens@redhat.com>
Date:   Sun Nov 16 17:35:12 2008 -0500

    And trim off the leading py_ped_ from everything too.

commit 65ddcc8f82b1e791873c09966681720d4eef604b
Author: Chris Lumens <clumens@redhat.com>
Date:   Sun Nov 16 17:32:19 2008 -0500

    Add documentation for pygeom.h.

commit 138da9bcf549e170a2b24b798c11cb7611d15d3b
Author: Chris Lumens <clumens@redhat.com>
Date:   Sun Nov 16 13:47:59 2008 -0500

    Update docs for pyparted_version_doc to match new return type.

commit 9f7a43566c266cb33fa892c339f5cf213eba1a82
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 17:48:14 2008 -1000

    Updated TODO list.
    
    Figured the difference between the ped_TYPE_new() and
    ped_TYPE_init() functions in libparted.  The former is a convenience
    wrapper for the latter.  We really only need to call the _init()
    function in the corresponding Python type's tp_init function.

commit 1981ce4726d60c67acef7e287d604644d481b632
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 17:23:24 2008 -1000

    Return pyparted version number as a 3-tuple.
    
    Returning the version number as a string will make it more difficult
    to do version enforcement in other programs (e.g., anaconda).  Return
    the pyparted version number as a 3-tuple of major, minor, and update.

commit 74cc37d10a6267779380a8fd38898bd2cf07fc82
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 17:10:05 2008 -1000

    Fix comments in header files.
    
    _partedmodule.h -> _pedmodule.h
    _exceptions.h -> exceptions.h

commit 1671ace99bf1ea09ab752a483cdbe557ac33ab71
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 02:11:25 2008 -1000

    Update pyfilesys.c functions to use object members.
    
    For a number of methods in _ped.FileSystem, we were taking in the
    params in the method call rather than reading them from self.  Fixed
    that in a number of functions.  Take the value from self if we can,
    otherwise, assume it's a parameter to the method.

commit ca47117a698643d6901cbeaa28a4ade6e1108b82
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 02:00:25 2008 -1000

    Move file system probing functions to _ped module.
    
    The py_ped_file_system_probe() and py_ped_file_system_probe_specific()
    functions are not tied to any particular FileSystem instance.  They
    take in a Geometry (and in the case of the _specific function, also
    a FileSystemType), and return a FileSystem.  Moved them up to the _ped
    module where the rest of the non-object-specific functions live.

commit cb2377a82067741d776de7a8e0820b6b5d966e3e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 01:15:08 2008 -1000

    Updated TODO list.
    
    More brainstorming leads to more things on the TODO list.

commit 04327b439f3938a5978685ad5eb7fe2cc83c7e5e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Sat Nov 15 01:14:22 2008 -1000

    Remove prototype for _ped_Device_new() function.
    
    The .tp_new function for _ped_Device does not exist anymore since
    we are not letting users instantiate the object, they have to call
    _ped.get_device() to create a _ped_Device object.

commit d41af5f9c0fe1d0bc15b58d99502d98ee116686f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 14:45:34 2008 -1000

    Bring _ped.Device closer to the way we want it to function.
    
    That is, the type needs to exist and we need to be able to create
    internally in _ped, but users cannot instantiate a new _ped.Device
    and build it up programatically.  Here's where we are as of this
    commit:
    
    In [1]: import _ped
    
    In [2]: a = _ped.get_device("/dev/sda")
    
    In [3]: a.length
    ---------------------------------------------------------------------------
    AttributeError                            Traceback (most recent call last)
    
    /home/dcantrel/pyparted/<ipython console> in <module>()
    
    AttributeError: '_ped.Device' object has no attribute 'length'
    
    In [4]: a
    Out[4]: <_ped.Device object at 0xb7b7bd40>
    
    In [5]: a.length
    Out[5]: 20480544L
    
    In [6]: b = _ped.Device()
    ./localtest: line 3: 13230 Segmentation fault      ipython
    [dcantrel@electron pyparted]$
    
    You can see we have quite a bit more work to do.

commit a267589f8c3ca4bb14bb105e0b189cf5c5c6942b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 13:43:52 2008 -1000

    Add placeholders for the other PyTypeObject members.
    
    PyTypeObjects are complex structs.  Fill out our structs with
    placeholders for everything we are not currently using.

commit 218057c283de329c9640e991b014397c71b6799c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 11:00:40 2008 -1000

    Use Py_XDECREF() on PyMemberDef members that are PyObjects.
    
    For every type we have, there exists a PyMemberDef structure that
    defines the type members, which are attributes.  Everything is
    ultimately a PyObject in the C API, which means that a PyMemberDef
    struct can contain C primitives or other PyObjects.  Structure
    members that are PyObjects need to have a Py_XDECREF() call made
    on them in the type's dealloc function so that the Python machine
    will clean up properly.

commit 217d8232bc6a316258ea7d237f12a91611f7cdc1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 10:51:15 2008 -1000

    Renamed PyDoc_STRVAR names to match method names.

commit 3373ec12a36b6c35336174ae65ee7c09f26367ba
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 10:48:57 2008 -1000

    Use underscore naming convention for _ped members.
    
    _ped is a lowlevel module, meant to make writing the new parted
    module easier.  Keep the functions named closely to what they are
    named in libparted for consistency.
    
    Updated TODO list as well.

commit ee72fd75eb555ea63e09f183664ba5d3fa4cb263
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 10:12:44 2008 -1000

    Convert self to a PedDevice in py_ped_disk_clobber_exclude().

commit 102dff7a2f6cf912397d8a776f3d97fa8c13de49
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 10:06:46 2008 -1000

    Updated TODO list.
    
    In object types where some of the members are PyObjects, we need to
    make sure to Py_XDECREF() those members from the dealloc function.

commit 9f938e49cc25a18b42329ebe319a89c32a62cd86
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 10:06:06 2008 -1000

    Reference self object correctly in remaining source files.
    
    Like the previous change to pydevice.c, do not read self through
    PyArg_ParseTuple().  Use the first argument to the function, which
    is PyObject *self.

commit 3c1d0438ab2f9c282d90ca5792a8730619947901
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 04:23:59 2008 -1000

    Fix vim control comments at the end of source files.
    
    The vim in rawhide does not like the trailing */, so move that to
    a new line.

commit 492c5d8c0586fb738b3b1fb54ee25780f0a81a38
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 14 15:32:05 2008 -0500

    Require being root to import _ped.

commit 5f9a8aaa6308a06728b4dbc3026d48185c554885
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 14 11:32:02 2008 -0500

    Make sure I don't forget to make test cases for the new _ped stuff.

commit 91de244235b4b64575dfa8f32d4068f0d80056c4
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 14 11:31:48 2008 -0500

    Added another bug we need to think about.

commit 497e50922c50db965c4f0da2bab4d66ecaf7ed89
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 14 11:29:05 2008 -0500

    Fix build warnings.

commit 0f76ab2b9b9f11493a3687b5a4355c2734ea56c1
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 14 11:20:04 2008 -0500

    Update the _ped module documentation and reformat it in the source.
    
    This completes the _ped documentation for everything that's currently in the
    module and adds a description of the module itself.  I also modified the
    formatting of the docs in the source so it's easier to tell where line breaks
    should go.

commit 51ac17d8ea8a515345418edf60475699bc452347
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 14:45:52 2008 -1000

    In pydevice.c, reference self correctly.
    
    We were using PyArg_ParseTuple() and assuming that self would be the
    first argument in the args array.  This is incorrect.  Self is given
    to us as the first argument to the function, so use that any time we
    need to reference self.

commit f02668abdc26cd4a1e403609e688f144c588fae6
Author: David Cantrell <dcantrel@electron.honolulu.burdell.org>
Date:   Thu Nov 13 02:19:14 2008 -1000

    Updated TODO list with non-instantiatable objects.
    
    These objects need to be able to exist with methods, attributes, and
    so on, but users should not be able to instantiate them.  Setting
    .tp_new to NULL as stated in the Python documentation does not work.
    
    Might have to create a special .tp_new or .tp_init function that
    throws an exception if the user tries to instantiate the object.

commit 74208a0d322385b8aae5e15c3c102d3bcfb76692
Author: David Cantrell <dcantrel@electron.honolulu.burdell.org>
Date:   Thu Nov 13 02:13:39 2008 -1000

    Move higher level Device methods to _ped module.
    
    With the Device type, we have determined that in order to match the
    functionality of libparted, we need to prevent the Device type from
    being instantiated, but allow the user to get a Device type when
    calling ped_device_get().
    
    The following functions have moved to the _ped module:
        _ped.Device.get() -> _ped.getDevice()
        _ped.Device.probe_all() -> _ped.probeAllDevices()
        _ped.Device.free_all() -> _ped.freeAllDevices()
    
    Also fixed a double free that was occuring in py_ped_device_get().

commit 0444ce39b64490ccd24e7064c515f151b7b93d7c
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 13 15:59:27 2008 -0500

    Update TODO list for test suite.

commit 09b3d24aedbf1a9da7964a65d11750cf5f6816fc
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 13 15:42:38 2008 -0500

    Add test cases for all the easy stuff in pyunit.
    
    The outstanding test cases to write all require PedDevice or PedGeometry,
    so we should make sure those are working first.

commit 09a58f03c86b7af9de9f89308b3d0f3f96fffeec
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 13 15:42:07 2008 -0500

    Fix checking for whether ped_unit_get_by_name gives us a good value.

commit 191587d6ebc7d46d49ffddd3fd6f6631b6225954
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 13 15:29:37 2008 -0500

    Add more docs strings for all the unit stuff.

commit c52602afa516d7e278cb0acb4d26e96da866a22b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 10:08:06 2008 -1000

    Do bounds checking for PedUnit input values.
    
    We need to make sure a user hands us a valid PedUnit value, which
    has to within the PED_UNIT_FIRST and PED_UNIT_LAST bounds,
    inclusive.

commit 8b523d4645c370d6eaeb85fadd233f3ecf3ac277
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 10:02:50 2008 -1000

    Use 'long' for PedUnit.
    
    PedUnit is an enum in libparted, which introduces size problems on
    64-bit architectures.

commit 94af346006e2dffd9c1995102ce47e509966838e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 13 09:36:28 2008 -1000

    Updated TODO list.

commit b48b2bc0a243853d5a062d330c79bea5a50670d1
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 13 11:16:41 2008 -0500

    The beginnings of a working test suite for pyparted.
    
    The test suite is all organized under tests/, one directory per major API
    in the package (one for _ped, one for the old API, one for the new), one
    file per module in each API.  Then each file contains one test class per
    method with multiple tests in each.  The entire test suite will use python's
    unittest framework and can easily be run with "make check" in the top level
    of the source directory.

commit db938a876cd529d8cb3a4068c2d2a38865b1fefd
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 13 11:14:37 2008 -0500

    Raise ZeroDivisionError when the divisor is zero, instead of exploding.
    
    These were all found by writing the initial test suite.  Seems like this
    is going to be time well spent.

commit 4497cdb258d895363ef6d073c3bb8fbb1da2e99f
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 13 10:54:27 2008 -0500

    Add docs strings for the natmath methods in the _ped module.

commit cd4a598842565bdbc682eb5f49a1f9aee891d437
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 12 17:39:59 2008 -1000

    Add vim settings to all of the .h and .c files.

commit c3582e877680a2e2bd02331a035f8add2ed064a5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 12 17:14:26 2008 -1000

    Initialize all pointers to NULL.
    
    Whenever we declare a new pointer, init it to NULL.

commit f3453f26c15b68543fa63e0d3513b711b172eb8e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 12 15:41:00 2008 -1000

    Use 'z' in PyArg_ParseTuple() when reading strings.
    
    Use 'z' in the PyArg_ParseTuple() format string.  The 'z' value
    will convert string values of None to NULL in C, which is what we
    want.

commit a2c9998c1ed98f6be9483bf2c6dc77a831ecc27d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 12 15:08:44 2008 -1000

    Use 'z' in PyArg_ParseTuple and fix ped_device_*_all() functions.
    
    When reading strings with PyArg_ParseTuple(), use 'z' for the
    format string so we get NULL if the string value is None in Python.
    
    Fixed py_ped_device_probe_all() and py_ped_device_free_all() so
    they do not expect any input parameters and always return None.
    The functions in libparted take no parameters and are void.

commit eb7e97bff7f336718901ec91607d0845bb24f458
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 12 13:07:30 2008 -1000

    Updated TODO list.
    
    Add entry for adding docstrings to _ped.  Basically, every Py*
    struct needs docstrings.

commit 2a3df9076398f7d7e718dac8c2858e2442339bec
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 12 12:54:23 2008 -1000

    Updated TODO list.
    
    Moved all the exception things to be next to each other.  Removed
    some items that I don't think apply anymore.  Everything pretty
    much has a place now in the code.

commit e6d0f402f71dfa1dd2e315560c3328ff8454bf97
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 12 16:44:13 2008 -0500

    Raise ZeroDivisionError instead of letting C explode if divisor is 0.

commit f85f2009ce9087d3a6cec8d74178c861e0906555
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 12 10:28:28 2008 -1000

    Wrote py_ped_unit_parse() and py_ped_unit_parse_custom()
    
    These were the last of the pyunit.c functions that needed to be
    written.

commit 585d1d2f225be64228e589b4670c57bd5b9eb9a6
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 12 15:27:55 2008 -0500

    Add a skeleton PedDisk file.

commit f29ec18065f1a87a4db301bbf43288689128e799
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Apr 16 10:18:12 2008 -1000

    Remove 'All rights reserved' from the boilerplates.
    
    Apparently we aren't supposed to have this in the standard
    license boilerplate.

commit f4c99102bcb30fd9063c795e8b65190315718dd6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 21 15:50:59 2007 -0500

    Add my email address.

commit 9a69e5b3d0743fdeed9ec81b5851218b1bd015bc
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 21 15:45:56 2007 -0500

    Sign the WHY document.

commit b138cf73e79ada450833765d8f27ba78053b8e76
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 15 15:50:07 2007 -0500

    Make sure the deprecated API raises the same exceptions as existing parted.

commit ad0cb4c5438d9ce7de0daf76991c4f7b922356e2
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 15 13:55:57 2007 -0500

    Make properties for accessing the underlying _ped.Device attributes.

commit a021de4661dd6f24c1b8f7c6e8bb27246dc0005f
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 15 13:31:15 2007 -0500

    Make sure the deprecated API raises the same exceptions as existing parted.

commit c107478bd8c4b5571902fd2c7886a348678f63a6
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 15 10:29:55 2007 -0500

    Use the convenience functions for building return values throughout.

commit 2790ac2f961e8dea3b8102f9cbededf8a55a3b61
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 14 17:22:31 2007 -0500

    Added missing PedDevice.py

commit 8c91e5d1342bae3c58cdddff8da699da347a5b4e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 14 17:17:16 2007 -0500

    Updated the to do list!

commit d09b6843dc6e1335590a746eb008b9dca9a9e3b2
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 14 17:16:27 2007 -0500

    Started PedDevice old-API class
    
    Moved PedDevice class to the PedDevice module.  The old pyparted named the modules and classes the same, which makes it a bit confusing.  This is the start of the implementation of the deprecated API for PedDevice.  Visibility is key for these old modules, which will require some fun meta class tricks.

commit 2a66fbe47f3e875799eb72f124a57b0f47a6f8cf
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 14 17:15:14 2007 -0500

    Remove double free.

commit 0061e8816334f081ac12c73bd312138657cb4c6d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 14 16:04:40 2007 -0500

    Fix a typo
    
    Py_DECRET -> Py_DECREF

commit b58221e4fc853d587203727af5c11294fd8acb52
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 14 15:55:10 2007 -0500

    Free previously allocated memory in error handlers.

commit 0fc0992e98d6d45d28b4d950bb776178520fa656
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 14 15:37:33 2007 -0500

    Updated to do list.

commit 3a760e1c77a42bf137c68efe584e76c9a145c5fd
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 14 15:33:55 2007 -0500

    Add my email address to configure.ac

commit d78575836e2caf3e2141e12a92fa558b4fc48022
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 18:13:37 2007 -0500

    Add lots more exception raising and error handling code.

commit 2851ef6bf357e0054101bf7b801fc57cf046f440
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 16:41:56 2007 -0500

    Use convenience function for handling strings.
    
    Change occurencens of Py_BuildValue() for 's' to PyString_FromString().

commit a2c49fe08804dc765bf69b3566b8d20552db17ba
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 16:35:24 2007 -0500

    Moved methods to the object they correspond to
    
    Reduced the _ped methods struct and moved most of the methods out to the corresponding object.  Removed the Py_InitModule3() calls in the init function for _ped because those were driving over our method struct.
    
    Updated the to do list with some new ideas.  We have a problem with some of the natmath functions.  Not sure where to put those.  Also, we lack _ped_Unit now, but should we bring it back as a method container and nothing more?

commit 6b6431e169d1b056a02877923d05413c7ee1a191
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 15:32:00 2007 -0500

    Added set method for _ped_Timer and updated to do list

commit 22f97bc90fa931ef10583e2b132e1e5637354894
Merge: bf945c3 5f53c45
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 15:25:26 2007 -0500

    Merge branch 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted
    
    * 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted:
      Use more exact exceptions and error messages.
      Use more exact exceptions and error messages.
      Add a CreateException for all those places where we can't create an object.

commit bf945c3ef2c5c028117582f759491e3655ec8d98
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 15:25:18 2007 -0500

    Implemented set methods for a number of types in _ped
    
    The following set methods have been written:
        _ped_Device_set()
        _ped_Partition_set()
        _ped_DiskType_set()
        _ped_FileSystemType_set()
        _ped_FileSystem_set()
        _ped_Geometry_set()
        _ped_Alignment_set()

commit 5f53c456d35741761b0171f3c453a79ce2b677e7
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 14:16:31 2007 -0500

    Use more exact exceptions and error messages.

commit 5bb98097e5fe45f25e7a53ded9875f7a15628d19
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:56:32 2007 -0500

    Use more exact exceptions and error messages.

commit 12b245a260a89f8829ee4c71834e043f081e9724
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:56:06 2007 -0500

    Add a CreateException for all those places where we can't create an object.

commit e22eef5203ceb26df6690810010614f0712cd6cd
Merge: 4935d63 68acd57
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 13:44:24 2007 -0500

    Merge branch 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted
    
    * 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted:
      Add error handling and exception raising to pynatmath.c.
      Add an AlignmentException as well.
      Add error handling and exception raising code to pytimer.c.
      Add a new TimerException.
      Add error checking to the results of the conversion functions.
      Fix up some -Wall warnings.

commit 4935d63525c873c8998858135073c01e0a9cef4c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 13:44:16 2007 -0500

    get and set method updates
    
    The following changes are encapsulated in this diff:
        - Update get method prototypes to use a void * as the last arg.  We
          create the member variable in the function, casted from closure.
        - Add prototypes for set methods
        - Stub out all set method functions in the C files
        - Wrote the set method for _ped_CHSGeometry

commit 68acd576a5bdee3847eace6923b80693509957f8
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:36:08 2007 -0500

    Add error handling and exception raising to pynatmath.c.

commit 161b9cbcca8ce9d3444341c8fd8267f60d6ded6c
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:35:52 2007 -0500

    Add an AlignmentException as well.

commit 5eddc3b8f2a837aa92ebedb363e8f534024243e5
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:24:05 2007 -0500

    Add error handling and exception raising code to pytimer.c.

commit 1b328c2cdab6e62f703a82af320f97f5f9ea2d8c
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:23:48 2007 -0500

    Add a new TimerException.

commit 28bc88d4c2eb6825978a9ae7cfd71f7167bb5e4e
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:15:51 2007 -0500

    Add error checking to the results of the conversion functions.

commit dcb320a73b15c4f2b3d4101efc3ce86d91ac0025
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 13:03:59 2007 -0500

    Fix up some -Wall warnings.

commit 6f2aa642637a24e2347ac4b5f7a5792d7397258b
Merge: e33639e 53be40b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 13:02:48 2007 -0500

    Merge branch 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted
    
    * 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted:
      Fill in the _ped_Whatever_init methods with kwarg processing code.
      Fix raising an exception at the end of the parted lists.

commit e33639e70a094bced7afa0c64e66ded968e63092
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 13:02:36 2007 -0500

    Started set method for _ped_Device

commit 6407f5a218e8a7b0d93547a61daf12ade9f7e8fe
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 13:01:33 2007 -0500

    Wrote set method for _ped_Constraint
    
    The setter for _ped_Constraint handles setting the max_size and min_size structure members.

commit 53be40b0e4264dbf9772b607521e1ea218d2aa1b
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 12:58:29 2007 -0500

    Fill in the _ped_Whatever_init methods with kwarg processing code.

commit 2c5c5a61b1abe0815650abde5c98612106dc0b05
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 11:45:43 2007 -0500

    Fix raising an exception at the end of the parted lists.

commit 28a8765d464e57d9cc16ef64d6fb2c0db5039542
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 11:43:19 2007 -0500

    Pass string as 2nd arg to PyDict_SetItemString()
    
    For all of the ENUM() macro replacement code, pass a string as the second argument to PyDict_SetItemString().

commit 602e164737e3fd3e2980f6ff456730f8f9473d3c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 11:34:54 2007 -0500

    Removed ENUM() macro
    
    Just put the code in _pedmodule.c because I can't stand the ENUM() macro.  I also updated the to do list and added some more fun things to work on.

commit acd31c7273ceb43353d243bed1e24f3e0e7d5ef4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 11:13:25 2007 -0500

    Updated to do list.

commit 66fdeb6817e3660ebeb82f0f8665378c00c44c9f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 13 11:12:47 2007 -0500

    Remove tp_alloc() use in _ped_Disk_new()
    
    Use PyObject_New() rather than tp_alloc() when creating a new _ped_Disk
    object.

commit fbb9444a2e0272afb9fd4ea158073859701042f6
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 01:04:02 2007 -0500

    Pass the member name as the optional data to the getset method.
    
    Also, I cleaned up the structure definitions to only specify what we are
    overriding and updated the TODO list.

commit 9b5a440d90eaf7de97e64bb141e46591a491a62f
Author: Chris Lumens <clumens@redhat.com>
Date:   Tue Nov 13 00:11:27 2007 -0500

    Use _new functions instead of calling PyObject_New directly.
    
    This fixes a bug where the conversion functions were returning objects of the
    correct types, but the type checking on PyArg_ParseTuple was failing anyway.
    I don't quite know why this was happening, but not going through the type
    object functions must have confused Python's internals.

commit 522ee692f3335fefa028e54ff83a3e261058fa24
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 12 17:51:35 2007 -0500

    Added ipython sessions showing a couple weird bugs.

commit 3c0b7a45aede993f228203f694e2c285a33de6d3
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 12 17:26:13 2007 -0500

    Compare to NULL, not Py_None for optional arguments.

commit 04d79a37a5164df4693bb1bb54c303f526a36769
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 12 17:25:51 2007 -0500

    Fix the build.

commit a0de38ac5a71258d8dca9a0e0be19f9173a44eee
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 12 17:16:58 2007 -0500

    get() methods for _ped_Partition and _ped_Timer
    
    Wrote get methods for _ped_Partition and _ped_Timer to return the C primitives
    in the Python data type.

commit ebf09297372f140f2359d97785f3a6da9f84824d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 18:00:09 2007 -0500

    Add get method for C primitives in _ped_Alignment

commit 3f769cccb274634652657ab6fbdac388a46a439a
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 12 17:14:18 2007 -0500

    Check the return values for all conversion functions.

commit e7a2fb7c8df37434d90a4b0d565bef8acc647075
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 12 17:01:48 2007 -0500

    Add error handling and exception raising to pyconstraint.c.

commit 7650f25992e3dc23c27aa08112d46e3228f91770
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Nov 12 15:17:50 2007 -0500

    Timers are usually optional arguments, so treat them as such.

commit d79e69e26a4750e7d9bf77b6203aedc011f1f8eb
Merge: e5b33b6 f1604be
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 17:59:01 2007 -0500

    Merge branch 'master' of ssh://clumens@git.fedoraproject.org/git/hosted/pyparted

commit e5b33b694ddf1f96a04d0a24282a3fa9d5c5d9da
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 17:58:50 2007 -0500

    We have a lot more to work on now.

commit f1604bedc76e2961002e865dd8cb104fec09974b
Merge: c17adb8 258466a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 17:56:50 2007 -0500

    Merge branch 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted
    
    * 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted:
      Add getattr methods for FileSystem and FileSystemType.  Add error checking.
      Create new ConstraintException and IOException.

commit c17adb80fa6259fb381ba515d1e8c629225325d4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 17:56:41 2007 -0500

    Add get method for C primitives in _ped_Geometry

commit 258466a747c53408e4760d7e880eea6364fb322f
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 17:50:54 2007 -0500

    Add getattr methods for FileSystem and FileSystemType.  Add error checking.

commit 8ab545deabe1ff520f180faf87bd7c11f8695288
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 17:48:50 2007 -0500

    Create new ConstraintException and IOException.

commit 50fcced4affd8507d26d3c79aa576fe39e552af5
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 17:48:29 2007 -0500

    Add get method for C primitives in _ped_Device

commit 81ea6822719d253b43ca88ee8150105c4fe90dc1
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 17:38:00 2007 -0500

    Add get method for C primitives in _ped_CHSGeometry

commit 56d8ebf8c3c71445c43ffb03a1f7a2697d025640
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 17:31:06 2007 -0500

    Fix line wrapping
    
    Do not carry long lines for _ped_DiskType_getset[]

commit 709d4f8db3d0a454ebf8bc069e53632eba5e9b01
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 17:24:28 2007 -0500

    Move C primitives to get/set method for _ped_Constraint

commit 3fc411c04d1dd62dd7b7b79c64e1b4822516c6a0
Merge: ca66c57 761284d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 14:55:16 2007 -0500

    Merge branch 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted
    
    * 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted:
      Add error handling to the pyunit functions.

commit ca66c57bfe3d3398d19254502162cfb549075f3e
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 14:55:02 2007 -0500

    Fix problems with the _ped_DiskType type
    
    Removed C primitives from the members structure.  Added a get method to
    return Python data types for the C primitives stored in the _ped_DiskType
    structure.  Reduced the big type object structure so we don't have so many
    0 lines.

commit 39daf3900306c619517608a6c1ef107d7d7c74f9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 14:53:05 2007 -0500

    Correct PYTHONPATH in localtest script.

commit fe199044fc6f5918b00901d47052501ad448e359
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 9 14:52:39 2007 -0500

    Create new version functions
    
    Changed version functions in _ped to libparted_version() and
    pyparted_version().  They return strings containing the version numbers
    of either libparted or pyparted.  Added a function to parted called
    version() that returns a dict containing both the libparted and pyparted
    versions.

commit 761284de2aeb952233b37f124a84d10d382724e7
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 13:45:57 2007 -0500

    Add error handling to the pyunit functions.

commit b2fdc8caba509a440696643417f63edacee9578c
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 11:56:30 2007 -0500

    Raise an exception when there are no more DiskTypes or flags.

commit 9aab8d1746aea3ff1a69c1145755157b996b1036
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 11:54:04 2007 -0500

    All the py_ped_partition_flag_* functions now work.

commit ebe52af02e483625eaadf85915d99ea661893445
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 11:53:20 2007 -0500

    If no optional argument is given, don't pass None to the C bindings.

commit bed0e65716e1485c6ca69e7570bd637b1d9b549f
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 11:06:52 2007 -0500

    Handle the provided disk type not being found by raising an exception.

commit a9223a6a9be49cd99e4dd83f7c7d427b00768b69
Author: Chris Lumens <clumens@redhat.com>
Date:   Fri Nov 9 11:04:28 2007 -0500

    Merge the two Unknown*TypeExceptions into a single one.
    
    We're probably going to have a lot of places where a parted function can get
    an unknown disk type, filesystem type, or whatever.  It makes sense to just
    have one exception for all these events instead of a whole pile.  The caller
    will know what sort of thing is Unknown.

commit 05a13e154594fc5c22c69066ee0f6a806389d323
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 8 22:56:39 2007 -0500

    The correct way to specify a type is with O!, not O&.

commit 7c0ec2db8f0b3a839314c15578e6405a75459cde
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 8 22:45:57 2007 -0500

    Add type checking to PyArg_ParseTuple.
    
    This commit adds type references to most of the PyArg_ParseTuple calls
    so that passing the wrong kind of PyObject as an argument will result in
    a TypeError instead of unintended results.

commit b9f74f3dcf24077a53b12cfe0506180f13125749
Author: Chris Lumens <clumens@redhat.com>
Date:   Thu Nov 8 20:56:54 2007 -0500

    No more need for a .cvsignore file.  Ignore compiled Python.

commit be83990f9f3147fc4594657c656ded280d3e4007
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 18:02:14 2007 -0500

    Make sure we return at the end of partedExnHandler()

commit f33df4f803fb88f0b48e363b052ecb5f566637d6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 17:31:07 2007 -0500

    Remove remaining type handling calls for the long long types.

commit 98f9867bc7455a662a9aa5abfd2f30550e69f4be
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 7 17:26:11 2007 -0500

    Handle libparted exceptions as well.
    
    Added a libparted exception handler that catches those exceptions and then
    either immediately raises python exceptions for serious bugs or sets global
    flags so parted module methods can raise more specific exceptions with some
    useful information.  This is untested.

commit f2a773b3030500e907e82b16c235167a95bff6d4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 16:48:47 2007 -0500

    Modify _ped types to account for long long changes.
    
    Modified _ped_Constraint, _ped_Device, _ped_Partition, _ped_Geometry, and
    _ped_Alignment to store long longs as long long and not their old _ped
    type.

commit 08bcbd93b55be9b708a6163d1cebf899ea31740f
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 7 16:24:39 2007 -0500

    Add lots of error checking to the conversion funtions.

commit abeadcc87a7807752a4cbfe46b9ac8b454c330ff
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 16:04:31 2007 -0500

    Change simple Python _ped types back to just long longs.
    
    Change the following back to just long longs:
        _ped.PartitionType
        _ped.Sector
        _ped.PartitionFlag
        _ped.DiskTypeFeature

commit 08483005be8e2c26d6394b000969f0486edd4998
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 15:04:06 2007 -0500

    Removed conversion functions for long long types
    
    Removed conversion functions for:
        _ped.PartitionType
        _ped.Sector
        _ped.PartitionFlag
        _ped.DiskTypeFeature

commit b9f98f78af6a709cec1ffc3604fef089707a5bc4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 14:59:19 2007 -0500

    Removed the _ped.Unit type from the _ped module
    
    Removed the _ped.Unit type and all calls to conversion routines.  We are
    just storing the PedUnit as a long long in Python since that maps easily
    over to the C API.

commit d174ae2e4706d93c100284317aa484f47a870366
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 14:58:38 2007 -0500

    Removed the _ped.Unit() and PedUnit conversion functions

commit 3972cc74a27d06a8ec0dca48408f5372b395d61a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 14:57:58 2007 -0500

    Remove _ped.Unit() functions
    
    Removed _ped_Unit2PedUnit() and PedUnit2_ped_Unit() since those are just
    long longs in both C and Python.

commit 88f1773c50df192384dcf0285c7afd6edf87f683
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 14:30:09 2007 -0500

    Use libparted functions to make libparted types in convert.c
    
    Rather than manually creating the libparted structures in convert.c, use
    the appropriate new function in libparted if it exists for that type.  The
    following changes were made:
        in _ped_Disk2PedDisk(), call ped_disk_new() to make the return type
        in _ped_DiskType2PedDiskType(), use ped_disk_type_get()
        in _ped_FileSystem2PedFileSystem(), use ped_file_system_open()
        in _ped_Partition2PedPartition(), use ped_partition_new()

commit 66a120a22a6a8428c22eda58d027cb3776e950c6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Nov 7 14:26:39 2007 -0500

    Updated to do list with old pyparted stuff
    
    Walked the old pyparted API and updated the to do list with what I found in
    all the MethodDef structures.  We may or may not have to implement all of
    them, but I don't know right now.

commit 19664a0c33f43659a525cbdc5b778d0da5a24dfb
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 7 14:24:25 2007 -0500

    Raise an exception if an unknown filesystem type is requested.

commit 8d39ca5202df44fbe122c1e772b91fb4f1c9229b
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 7 14:15:45 2007 -0500

    Move exceptions into their own header file so they are visible in all sources.

commit 0e4a6346d2f4de3a8a10b0de8d0fc9655a73c4fc
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 7 13:41:48 2007 -0500

    Never call ped_file_system_type_destroy.
    
    All the file_system_type code in libparted returns pointers to elements in
    an internal linked list, so we never want to free those things.

commit e6c127f2a37959681b4d3c83cd7c20afd6de6724
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Nov 7 10:24:29 2007 -0500

    Fill in all the easy methods in the old API and add docs strings.

commit 58f09f31f275f6d8c81df749d3dc7b8c9b8eb6ec
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Nov 6 17:23:39 2007 -0500

    Fix syntax errors on deprecated API functions.

commit 9952c820317d6209b7248d24d443b2751dc25ba8
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Nov 6 17:17:25 2007 -0500

    Define away functions that are not yet implemented in libparted.

commit 235f3f5885fe8c30a3c4ff03cb21589122611d5b
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Nov 6 17:16:16 2007 -0500

    Revert "ped_file_system_destroy isn't implemented in libparted, so define it away for now."
    
    This reverts commit fe6e58b9d2f6b3277793d38f22925181063d9548.

commit 15746bef1a537a5cb740dd30747c86376bd5136c
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Nov 6 17:13:51 2007 -0500

    ped_file_system_clobber_exclude is a static function.  We can't implement it.

commit e418868b2b5556172bc6397f8819b5c7ba5bd8dd
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Nov 6 17:10:49 2007 -0500

    Fix typos.

commit fe6e58b9d2f6b3277793d38f22925181063d9548
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Nov 6 17:10:41 2007 -0500

    ped_file_system_destroy isn't implemented in libparted, so define it away for now.

commit 5d0c0fe7f2c3593d38ae4c8c5525c3b31c5fc8bf
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Nov 6 17:09:27 2007 -0500

    Fix typo.

commit b9acfcbd92887f9f51c1b8a63811c013df90ae19
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 6 16:40:53 2007 -0500

    Remove block_sizes code and implemented remaining functions.
    
    Implemented:
        _ped_FileSystemType2PedFileSystemType()
        _ped_PartitionFlag2PedPartitionFlag()
        _ped_PartitionType2PedPartitionType()
        PedPartitionType2_ped_PartitionType()
    
    Removed code referencing the block_sizes structure members.  We're not storing
    those in the Python data types.

commit 6a2018108d635bab346d7261d410c5e5e4607ec4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Nov 6 16:39:31 2007 -0500

    Remove block_sizes from the Python data types.
    
    We don't want to store the block_sizes array in the Python data type.  Why?
    Several problems.  First, it's not really used in libparted that I can find,
    so maybe it's a good candidate for removal.  Second, it is stored as an
    array of ints, but with no NULL terminator and no count of how many elements
    are in the array.  So how does that even work?  My guess is it doesn't because
    it was never used elsewhere in the libparted code.

commit cd05d80c863c242fe4ef45ffe589b9836206f5e6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 5 17:03:06 2007 -0500

    More conversion functions.
    
    Implemented:
        PedFileSystemType2_ped_FileSystemType()
        PedPartition2_ped_Partition()
        PedPartitionFlag2_ped_PartitionFlag()
    
    Also made some other code cleanups for types and casting and stuff.

commit e1f42c4c8a6901af756c7be34430a9481170b11f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 5 16:16:34 2007 -0500

    Remove unused members and add more conversion functions
    
    Implemented PedDisk2_ped_Disk(), _ped_DiskType2PedDiskType(), and
    _ped_Partition2PedPartition().  Removed assignments to structure
    members that no longer exist (next, prev, part_list, and so on).

commit 191a20e543d767d9b4f17eea21f8ab356d470095
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 5 16:14:38 2007 -0500

    Clean up Python members structure
    
    Removed next, prev, part_list, and other members that have been removed from
    the Python _ped data structures.

commit 189b64d3105b656bfc95ea32f97ed4eeda1a8d09
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 5 16:05:38 2007 -0500

    Removed libparted-specific data structure elements
    
    Removed libparted-specific data structure elements from the Python _ped data
    structures.

commit 6850c95dbe9b3fb01a2b0d58f9b5beb067dc2661
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Nov 5 13:41:07 2007 -0500

    Implemented convert functions for PedDiskTypeFeature
    
    Write _ped_DiskTypeFeature2PedDiskTypeFeature() and
    PedDiskTypeFeature2_ped_DiskTypeFeature().  Modified prototypes since we only
    deal with PedDiskTypeFeature as an enumerated value.

commit 09457882d144cfc721d16a220c2da11d71b51bd3
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Oct 31 17:29:22 2007 -0400

    Remove pyexception.c stuff from TODO.
    
    We are not reimplementing the code from exception.c in libparted in pyparted.  We will use native Python exceptions.

commit 5c7cef0c17ca24ef2b480d484f51bd3cd3fa284b
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Oct 31 17:22:13 2007 -0400

    Started _ped_Disk2PedDisk() and more comments.
    
    Started the _ped_Disk2PedDisk() function.  Need to figure out how to copy
    over the block_sizes and disk_specific struct members correctly.  Added a
    more detailed comment at the top explaining the approach to memory management
    with these functions.

commit 73eda002485e3b6a4811d3b888921f2168979a35
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 31 16:10:21 2007 -0400

    Remove unncessary return value checking code.

commit f5894b1f4fe60a069e636eb4ec8f1cb0f8af5ebe
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 31 16:06:30 2007 -0400

    Remove unnecessary return value checking code.  Formatting fixes.

commit defa8e5304228808eb611c9a026607aa59102341
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 31 16:04:48 2007 -0400

    Remove unnecessary return value checking code.

commit e57d76e0f932658537e50e7162129c2814bfa242
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 31 16:03:05 2007 -0400

    free() -> ped_file_system_type_destroy()

commit 70401be8e65ac48ff8255d87676db822910e09ff
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 31 16:01:11 2007 -0400

    Free up libparted types that we create

commit 7adea50e7318026331e5c4c185e1072ce70cbd48
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 31 13:53:38 2007 -0400

    Remove unnecessary return value checking.  Formatting fixes.

commit e91a592114a8622928aef3f6ecabef2ce8b3505e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 31 13:47:28 2007 -0400

    Remove unnecessary return value checking at the end of the functions.  We want Python exceptions to be in force.

commit 781accc1902a9aad4801f250545365bc74087ae3
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 17:11:04 2007 -0400

    Add the many many many methods definitions for the _ped module so we have ways to run the C functions we've been working on.

commit 12c4dbc69b46d53167965b8e3957cb350bdb69dd
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 16:11:46 2007 -0400

    Implemented the remaining functions in pydisk.c:
        py_ped_disk_add_partition()
        py_ped_disk_remove_partition()
        py_ped_disk_delete_partition()
        py_ped_disk_delete_all()
        py_ped_disk_set_partition_geom()
        py_ped_disk_maximize_partition()
        py_ped_disk_get_max_partition_geometry()
        py_ped_disk_minimize_extended_partition()
        py_ped_disk_next_partition()
        py_ped_disk_get_partition()
        py_ped_disk_get_partition_by_sector()
        py_ped_disk_extended_partition()
    
    Updated to do list (remove fdasd.h and vtoc.h stuff).
    
    Stubbed out new convert functions:
        _ped_PartitionFlag2PedPartitionFlag()
        PedPartitionFlag2_ped_PartitionFlag()
        _ped_PartitionType2PedPartitionType()
        PedPartitionType2_ped_PartitionType()

commit 1d92887fae843c0d6189c5d0470d5e180f5a99e4
Merge: e9acf9b e497675
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 11:50:57 2007 -0400

    Merge branch 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted

commit e9acf9b4398b6aea451826cad952550e93045758
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 11:50:51 2007 -0400

    Removed functions that have been implemented.

commit cf946bb286c2cbbc60aa7a2286881b4699170333
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 11:49:56 2007 -0400

    Implemented the following functions in pydisk.c:
        py_ped_disk_duplicate()
        py_ped_disk_print()
        py_ped_disk_get_primary_partition_count()
        py_ped_disk_get_last_partition_num()
        py_ped_disk_get_max_primary_partition_count()
        py_ped_partition_new()
        py_ped_partition_destroy()
        py_ped_partition_is_active()

commit e497675810e4f9266a37f2c47a00a890abca1f92
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Oct 30 11:33:32 2007 -0400

    Add more error checking to pynatmath.c and return booleans where appropriate.

commit e5bd76c459970c9c8c5ecf273375469c7283ed7b
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Oct 30 11:27:20 2007 -0400

    Fill in the remaining functions in pygeom.c.
    
    Also added more error checking and changed most functions to return booleans
    instead of integers where it makes sense.

commit 9501e344cfa7742a7a060ff9fe61dbc8daf39183
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Oct 30 11:00:37 2007 -0400

    Finish the last of the pydevice.c functions, add more error checking.

commit 600e37dbe808fa73d677a47477fe2db67aafda66
Merge: bba36c0 e6b346f
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 10:31:35 2007 -0400

    Merge commit 'e6b346f40b9e9b9d3060f2ddbcf76455c5efd3c5'
    
    Conflicts:
    
    	src/pytimer.c

commit bba36c05450b29becbb8ad4fa4599f12512e5f42
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 10:27:17 2007 -0400

    Fuck git.

commit 3552b977629885bd8c9e6fc8c4b77206661d4b5a
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 10:21:12 2007 -0400

    Updated to do list.

commit c2b6bdcedf82b711e098e381f2bd4b11b6611499
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 10:20:46 2007 -0400

    Formatting cleanups and change FIXME comment to XXX.

commit 308298e2a47ed7ee0855d20cde711fe4e4a3c144
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 10:20:18 2007 -0400

    Change FIXME comments to XXX so we are consistent throughout the code.  For 1:1 functions that have not been implemented yet, throw a NotImplementedError exception rather than just returning None.

commit 18115bd6d06f11127e2b5258b818510bfc7f046e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 30 10:17:47 2007 -0400

    Define the NotNeededException exception.

commit e6b346f40b9e9b9d3060f2ddbcf76455c5efd3c5
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Oct 30 10:14:02 2007 -0400

    Add all the simple pytimer.c functions.

commit 7302df6f621efd902ac60e9332314b1901f5e617
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Oct 30 10:13:52 2007 -0400

    Build fixes.

commit 4d12564f3cd4d511af3cacd482d9adacfa70aaf4
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Tue Oct 30 10:13:32 2007 -0400

    Add more conversion function stubs.

commit 31c3469f8af1dce0f47c82c9b729a2567d3b7dd3
Merge: 4d85ec7 e11b5ec
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 29 16:58:40 2007 -0400

    Merge branch 'master' of ssh://dcantrel@git.fedoraproject.org/git/hosted/pyparted

commit 4d85ec77604f9283752d2151e79edc16667fd60e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 29 16:58:27 2007 -0400

    Added the following functions to pydisk.c:
        py_ped_disk_type_register(), py_ped_disk_type_unregister(),
        py_ped_disk_type_get_next(), py_ped_disk_type_get(),
        py_ped_disk_type_check_feature(), py_ped_disk_probe(),
        py_ped_disk_clobber(), py_ped_disk_clobber_exclude(),
        py_ped_disk_new(), py_ped_disk_new_fresh(), py_ped_disk_destroy(),
        py_ped_disk_commit(), py_ped_disk_commit_to_dev(),
        py_ped_disk_commit_to_os(), py_ped_disk_check(),
        py_ped_partition_is_busy(), py_ped_partition_get_path()

commit e11b5ec3fed017020ad6d84b3e98c85caf58d9dc
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 16:53:08 2007 -0400

    Filled in loads of the conversion functions.

commit 43c037d9c9fb0e5f2146952a324859d9ed54d4d0
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 29 15:39:38 2007 -0400

    Clean up the AUTHORS file a bit.

commit 87e5e98bbcac4bcf184415faf64cd27f335fe234
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 15:14:24 2007 -0400

    Fill in all the functions in pyfilesys.c.

commit c46614865f3c69500d91102604b32c2792e1ee3d
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 15:14:10 2007 -0400

    More stubs for conversion functions.

commit c161e52d6e8d68717e97f8320803e753625bc543
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 14:27:50 2007 -0400

    Fix a typo.

commit c95bb72e6675698a09acb325eaf2ad9a790d1d6a
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 14:07:33 2007 -0400

    Use "s" instead of "S".  Return booleans from functions where it makes sense.

commit 8c0e6a667ee4f19f96c742ddb44aee010cb3b019
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 13:48:36 2007 -0400

    Forgot to add myself as an author.

commit 6667c491cb9130e17e5afb2268a2740b62a95d2a
Merge: 5cc1b13 3782a4f
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 13:48:18 2007 -0400

    Merge branch 'master' of ssh://clumens@git.fedoraproject.org/git/hosted/pyparted

commit 5cc1b13be23dac97ae53dad78a1d4adedbcea60c
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 13:46:13 2007 -0400

    Fill in all the easy functions in pydevice.c.

commit ea1c2b5d65fb87844061e7efea29c5c5eee59255
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 13:46:00 2007 -0400

    Add another stub conversion function.

commit 3782a4fe77e2ae487c3843e1a13cab6c8cf63538
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 29 13:38:00 2007 -0400

    Updates to the WHY document.

commit 14b6432eba5a0186e874b8891dec1a8d36141efc
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 29 13:35:39 2007 -0400

    More to do.

commit a3415d7e2206620c78d7efc008ec8f69e3e90cb5
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Mon Oct 29 12:12:20 2007 -0400

    Fix up a couple more of the redundant calls to PyObject_New.

commit 9055ed7f42bea23dbc5b15ac067069ed31f329f2
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Sun Oct 28 17:27:45 2007 -0400

    Remove the pyparted.spec.in file.  We don't need to ship a spec file.

commit 0f7325fd1b7bb28d049b7b543ef8144030c39d48
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Sun Oct 28 17:27:25 2007 -0400

    Add email addresses to the boilerplates.

commit 521116d8182829751666f7d176569284f650de60
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Sun Oct 28 13:07:59 2007 -0400

    Remove -Werror from the AM_INIT_AUTOMAKE macro.

commit 7f18e8065648c3af5d6bf3218cb7f07789e579c7
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Sun Oct 28 13:07:41 2007 -0400

    Ignore *.o files and files that end with tilde.

commit c36ee910aa138533ac172ab230670eb218ba3187
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 22 14:34:32 2007 -0400

    Remove WHY from the MAINTAINERCLEANFILES list.

commit 18bf2a8ee41caa8d7cb4241097fab1d61559650b
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Fri Oct 12 12:14:51 2007 -0400

    Add my name to that file I did stuff in.

commit db9e85b24d89e0e1ac245a61a3316d2a48ca1b54
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Fri Oct 12 12:13:11 2007 -0400

    Remove redundant calls to PyObject_New.

commit 8ad7da28af35e75a47659ddbf5e32c4ed7db1e7c
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Fri Oct 12 11:56:09 2007 -0400

    Fix the typos that were causing compile warnings in pynatmath.c

commit dda8576289e3825af209c554e43125e570ac495b
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Fri Oct 12 11:39:33 2007 -0400

    And remove the completed functions from the list.

commit 16cd8a879cf6c804edbcf37ef7763bef0c5c1e6b
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Fri Oct 12 11:38:54 2007 -0400

    Added all the easy functions in pygeom.c.

commit 2801638d132148883a8f152adcee49dca4764d32
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Fri Oct 12 11:38:40 2007 -0400

    Use the libparted functions for freeing objects instead of our own.

commit 6cd28e7e499305358c0413aa1a7a9e8c85104090
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 11 17:35:34 2007 -0400

    Ignore the ChangeLog.

commit c74f62e4261d2d8eb46c7bd8d16079a5d38953cd
Merge: d36f433 a3e0281
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 11 14:10:21 2007 -0400

    Fixed merge conflicts.

commit a3e0281a4aefc19fcc1fbdff61901e808aaa0d0c
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Thu Oct 11 14:06:51 2007 -0400

    Fix copy-and-paste errors.

commit 3bb296f0acad4a06b416a915570979345a2d4e20
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Thu Oct 11 14:00:10 2007 -0400

    And remove everything I did from the TODO list.

commit 89d0412796a11c1d58173e4382ba8bc136b2d4a4
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Thu Oct 11 13:59:28 2007 -0400

    Add most of the functions for the pynatmath.c module.

commit d36f43359c11cc50b491dc1fa8f9dee6582677a8
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 11 13:53:44 2007 -0400

    In the convert.c functions, use the ped_*_new() functions to create new libparted objects.  Except for the conversion to PedDevice where we use ped_device_get() and hand it the device path.  Removed all of the _free_*() functions since libparted provides those already.

commit b0a4f50b29be24a5bd8c8aef8fabe8210005768b
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 11 13:20:11 2007 -0400

    Remove calls to _free_Ped*() functions and just use the ped_*_destroy() functions to handle free'ing those objects.

commit 7d882fef5f83f49bac0f01047bff788569be221d
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Thu Oct 11 10:35:25 2007 -0400

    Add funtions for converting to _ped_Sector, _ped_Unit, and a stub for
    _ped_Geometry.

commit c0def772c5a4e6bb1bd63ea3e3043b832951946f
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Thu Oct 11 10:34:20 2007 -0400

    Add all the pynatmath.c functions to the module list.

commit 7f2d9fcbb5a8dc95940242ec73bb341fcbda48a6
Author: Chris Lumens <clumens@exeter.boston.redhat.com>
Date:   Wed Oct 10 19:31:30 2007 -0400

    Fix a couple typos that were breaking import.

commit dc16d3827df5eae2764cf223df3fd349472e81c1
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 17:22:20 2007 -0400

    Added missing '_new' part of the libparted library calls.

commit 7a00cc71fc2d589003a175690f26ea0dbd9e14ca
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 17:21:50 2007 -0400

    Stub for PedConstraint2_ped_Constraint().

commit e45712ed08ccac72a50e5f78ba8741b1fbb497dd
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 17:21:27 2007 -0400

    _ped_PartitionFlagType_Type_obj -> _ped_PartitionFlag_Type_obj

commit 9667343ce42c353a2a337e9b6ec3b7e871544ae9
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 16:54:38 2007 -0400

    Call appropriate object destroy function in libparted to take care of objects allocated by libparted library calls and returned to us.

commit 8592987fdd64144809ceb55f1a6b639dc8b83059
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 16:39:10 2007 -0400

    Correct some typos in pyconstraint.c.

commit c0d12f107644ecc1c7dd52bc03a59709b1c5ada8
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 15:18:00 2007 -0400

    Updated the to do list.

commit 7d33b2f5206d5671f0e3df5458f012afd6514af9
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 15:17:35 2007 -0400

    Wrote the pyconstraint.c 1:1 pass-thru functions.

commit 318bedf0775d807ce71303cde2ce7225fa83f060
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 10 15:17:12 2007 -0400

    Ignore *.loT files.

commit 1167b0c8e001f57e9e986b9b5490aa174ce3bb0c
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 15:29:26 2007 -0400

    Use PyObject_New() in the _init() functions.

commit c8073b4a3109956a986fe0a30570d9d878a720f5
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 15:28:25 2007 -0400

    Call _free_X() functions to free libparted types.

commit 2af1314fa81e05597aba51583d9ee0123dbe3f0d
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 13:09:07 2007 -0400

    Use PyObject_Del() in the dealloc functions.

commit 90ca2d341c82403ddc54f53131d468d64d1dd381
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 13:05:25 2007 -0400

    New coding style in place for the 1:1 function mappings.  Basically, the functions will call PyArg_ParseTuple() to get the input parameters.  Any sanity checking will take place and exceptions raised as necessary.  The object return will be allocated using PyObject_New().  The _ped_X2Y() functions will be used to convert input parameters to libparted types so that libparted can be called.  After the libparted call, the appropriate _free_X() function will be called to free memory that was allocated for the libpared call.
    
    The conversion functions all take in PyObject pointers now and cast within, so when we call PyArg_ParseTuple(), we store directly to PyObjects rather than the specific _ped_X types.

commit 6c0e3e3d4585d404adb95a1773a0b4bbc9f7d031
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 13:02:11 2007 -0400

    Can't return NULL in a void function, just return.

commit c823f0ee730bd78c37d9a8072500631fd11b3d00
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 13:01:46 2007 -0400

    Include pyunit.h.

commit e19c756a7aece0e97e27f6b93cf39f03e87252cf
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 11:21:48 2007 -0400

    Remove bad #endif comment from the end of the file (copied prototypes over from the header to use to start functions).

commit 77e3e26d435a07dd362815bea0eb7e5a1f43e12a
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 11:21:06 2007 -0400

    Note that start_range and end_range are _ped.Geometry() objects.

commit 87855382865fe831044e2180b9da44f9633f2504
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 11:20:00 2007 -0400

    Implemented remaining conversion functions and added a few more.

commit 4ceee4db7286cf4911b3ba6888c93e7457cfcf14
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 01:11:41 2007 -0400

    Working on _ped_X object to libparted typedef conversion functions to easily handle converting between the Python and C datatypes.  Not done yet (in fact, this won't compile, but I'm going to bed right now).

commit d17da76f857e808e722a73c4145d5d44f6dd9e26
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 00:58:07 2007 -0400

    Documentation updates.

commit 9e31ac6ef2fa430321921204e20a5115ca058e14
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 00:57:46 2007 -0400

    Stubs for:
        _ped_Alignment2PedAlignment()
        _ped_Constraint2PedConstraint()
        _ped_Geometry2PedGeometry()
        _ped_Sector2PedSector()

commit 3bd42c271fb9de7d2d97bbfe223992586b85806a
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 00:56:45 2007 -0400

    Implemented py_ped_constraint_init().

commit 860bc65faf0bbd0d9302bf833d17676bbbf8596c
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 9 00:56:23 2007 -0400

    Minor style cleanups and added a note to remind myself to check in to whether or not I need a particular incref.

commit a41cceea24392ed9eb30528305e9fab17a6bf451
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 15:31:34 2007 -0400

    Some comments to make it a little more clear as to what _ped_Device2PedDevice() is doing.

commit 588ff6b65d66332f60ce8568445ed0e55e1185d4
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 15:31:05 2007 -0400

    Upper bounds check with PED_UNIT_LAST rather than PED_UNIT_TEBIBYTE.

commit 3c8220a060a4c0c7c352e98ff9dba406d60bf255
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 15:20:43 2007 -0400

    Stubbed out all remaining pass-thru functions that need to be written.  All functions that have not been written yet have a FIXME comment and they return a Py_None right now.

commit 4447442e823e25b6a5f4592d27644d4e27582866
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 14:37:09 2007 -0400

    Ignore the generated pyparted.spec file.

commit e7439b657ebbbf91a14c4c3d81175dc239127423
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 14:36:40 2007 -0400

    Implemented the following pass-thru functions for unit.h in libparted:
        py_ped_unit_set_default()
        py_ped_unit_get_default()
        py_ped_unit_get_size()
        py_ped_unit_get_name()
        py_ped_unit_get_by_name()
        py_ped_unit_format_custom_byte()
        py_ped_unit_format_byte()
        py_ped_unit_format_custom()
        py_ped_unit_format()

commit 07975c95017f62ec4c335d4090e41f67133ea78e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 14:35:16 2007 -0400

    Store the next struct member of _ped_Device as a PedDevice pointer rather than a _ped_Device pointer.

commit bdbeb4fa45369a3c70d8fc18f24bc2395e1f7f76
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 14:34:33 2007 -0400

    The convert.c file (and header file) define a set of convenience functions that convert to and from the Python types and libparted typedefs.  For example, converting a _ped.Device(), which is a _ped_Unit pointer in C, to a PedDevice for libparted.

commit 9b0feaa10f4c9112a2e7ce26484cd985ceb70b50
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 8 14:32:39 2007 -0400

    Add WHY to the list of files to include in the distribution.

commit dca7a5476a813e776afff0dbf1591ba58fd5f2d6
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Sat Oct 6 18:34:22 2007 -0400

    Stubbed out the new __init__.py for the new parted module.  For starters, we need to reimplement all of the existing pyparted functionality as-is and mark it as deprecated (with the exception of the many enums).

commit ebdd22501530a9dc9623d7cb127b6ac1a926537f
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 17:20:19 2007 -0400

    Stubbed out _ped.FileSystemType() and _ped.FileSystem() objects.

commit d55690c16b2c4c035aaf32c15b00733ec55eb376
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 16:31:37 2007 -0400

    Stubbed out _ped.Disk(), _ped.DiskType(), and _ped.DiskTypeFeature() objects.

commit 83819f97d6fee528052957c30b0641e898a5c300
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 15:14:52 2007 -0400

    Renamed all static PyTypeObject types to the format _ped_NAME_Type_obj where NAME would be Device, Disk, Partition, PartitionType, Unit, Sector, and so on.

commit 6a58be32b2cf8836bc489c93e63863a8fbcc965d
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 14:57:41 2007 -0400

    Ignore autom4te.cache.

commit a949266055b4e2a8ce32da428887e987cd29b337
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 14:57:10 2007 -0400

    Stubbed out _ped.PartitionType(), _ped.PartitionFlag(), and _ped.Partition() objects.

commit e23a6fa47689725c075a560972a9ba26a6e7e0c0
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 14:13:30 2007 -0400

    Explaining why I'm not using an automatic binding generator.

commit 365a5084b406dc0bdcb9175509a258e53eebf477
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 11:51:41 2007 -0400

    Stubbed out _ped.Constraint() object.

commit 66e355984344b058c521c2a97e309fc1e16db09d
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 11:37:22 2007 -0400

    Stubbed out _ped.Alignment() object.

commit 96210b61f9d28bafe1e1ea7c52b7df431ebdacbb
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Oct 5 11:29:12 2007 -0400

    Implemented stub for the _ped.Geometry() object type.

commit 65061557e29760b0886a3567ac4700ce104011ea
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 22:56:41 2007 -0400

    PyObject_HEAD_INIT(NULL) -> PyObject_HEAD_INIT(&PyType_Type)

commit e61295131be5834e187e9307da8799d0b2ee1185
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 22:56:18 2007 -0400

    Added _ped.Timer() object.  Stub mostly for now.

commit ec0df169e57183bc726e8b8b11c9dd3fbd5d9d5c
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 22:55:06 2007 -0400

    Move AC_PROG_LIBTOOL to after AC_HEADER_STDC.

commit 1878c34ee71bd791fc0f3b576bdf7fc33a59817e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 22:25:43 2007 -0400

    Make sure Python module files are installed directly to site-packages and not a subdirectory in site-packages.

commit 25c99a42d6f89aa97c5ac47f0b266f0442807c5e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 21:51:05 2007 -0400

    Return -1 instead of NULL on error for int functions.  Fix py_ped_unit_get_default() so it returns a new _ped.Unit() object containing the PedUnit we get from libparted.

commit fe0b19c4ddbe38e6ff3e5924be7c710a0869a3f8
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 21:50:34 2007 -0400

    Return -1 instead of NULL for error conditions on int functions.

commit 2f71538cf7a3efd97f5719a362d62848584cc72c
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 21:49:54 2007 -0400

    Change PyObject_HEAD_INIT(NULL) to PyObject_HEAD_INIT(&PyType_Type).

commit b784ac7267ae166c16ee6a73123866af56b603c2
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 19:31:26 2007 -0400

    Ignore vim swap files.

commit 3d673361db82774abda159686d23558d82a14358
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 19:31:02 2007 -0400

    Stubbed out pydevice.h types (PedSector, PedCHSGeometry, and PedDevice).  Enough so that pyunit.c can be finished out later.

commit eb0fbf3c7a7f109e54ec0666d2239031a496b1f6
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 19:30:01 2007 -0400

    Removed what was in pyconstraint.h for now since it'll all change shortly.

commit e4b4427996bc5b6c116aa6f9b9de883f6b0fde43
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 19:29:34 2007 -0400

    Updated to do list (this happens a lot).

commit 0436ae5e907348e3af3211f9986c33d9ed6a5a3f
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:24:49 2007 -0400

    Yeah, I did this.

commit a91ef22a105fd918c6e1c7fca5f3283eea55b66b
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:12:31 2007 -0400

    Removed items that have been completed.

commit 84b41ff53041d22d0e2d809490b7281cdeae1a3e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:12:17 2007 -0400

    Added the _ped.Sector and _ped.CHSGeometry types to the module initialization.

commit 1a015b58e7ce8d785e63ccd8aa6ea3c951448eb6
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:08:10 2007 -0400

    Forgot to commit the pydevice.c changes for src/Makefile.am.

commit ba76de0f8f2413cb9caccfd407cf2e12bb23bef6
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:07:44 2007 -0400

    Added pydevice.c and pydevice.h and made modifications to the automake files as necessary.  pydevice defines the PedSector and PedCHSGeometry types for now, but will be the main 1:1 point for device.h in libparted.

commit 715f74288aa0f0c908ddce2a3bdfd990a6683798
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:01:14 2007 -0400

    More detailed listing of the types and functions that need to be created for the _ped module.

commit 9fd5648a5b06583b75be7be5c765e7651617ddab
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:00:47 2007 -0400

    Simple script to fire up Python so I can find the _ped module just built here.

commit f105bb05a2971de650da1e335ebda14c8e3e6ad8
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 16:00:25 2007 -0400

    Ignore even more junk.

commit 28aabfc6268181ca0236bf16f9ec6c28df121401
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 14:50:56 2007 -0400

    Ignore more junk.

commit f08e3305e63fb0ddf621dea6d71b49117e5ed126
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 14:49:36 2007 -0400

    Ignore junk.

commit 1a4fcc693563c5b764ecde7b98df7935b3dd7bf0
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 14:31:54 2007 -0400

    Added get/set methods for the 'val' member of the _ped.Unit object.  Also started filling in more functions in pyunit.c.

commit 4f8f10eb904dfdcf77fc3319b0a6012b0fee3d81
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 13:25:37 2007 -0400

    Some docs.

commit f3dc0fa50627f32270de58314feb54f64ec1e2a8
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 13:25:16 2007 -0400

    Define the ENUM macro for easily bringing over enumerated types from libparted.  This is more or less the same as REGISTER_ENUM from the previous pyparted.

commit 21db8d925033964d6946cfeb2c27fd5361e1f99b
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 13:24:47 2007 -0400

    Renamed partedmodule.c to _pedmodule.c.  Added pyunit stuff.

commit 8768ea1934119f38594cf63bfc8f9180e9a9da44
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 13:23:45 2007 -0400

    automake/autoconf updates.

commit f90a34efc5fd14939e8a3ff34612ea20c525b0c8
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Thu Oct 4 13:23:02 2007 -0400

    Added pyunit.h and pyunit.c, which are the Python 1:1 function mappings for libparted/unit.c.

commit 9283a5de2bd5f3f5d74958a94a46fff1a54afc6e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Wed Oct 3 11:36:01 2007 -0400

    Updated to do list again.

commit 23b0d1eb9745a93cb7dc69426d10126d02102b07
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 15:06:31 2007 -0400

    Forgot one other change to _pedmodule.c.

commit aa3b79eef334088d96f3f31e031de9b5004e5e4c
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 15:02:32 2007 -0400

    _partedmodule -> _pedmodule

commit 0bdfd5b30954555a5f0ecb44e96d9c780fe5d3b7
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 15:00:09 2007 -0400

    Change the name of the _parted module to _ped.

commit 10498deece42a4cf37d25b8abe9973119bbca4cc
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 14:59:51 2007 -0400

    Change argument list to PyObject *s, PyObject *args.

commit 8aae12f58a251692273d368f050a7eb10b369fd7
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 14:48:00 2007 -0400

    Removed old files.

commit c484bc02c4e858fc3017d0ad04e1c512a012ad44
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 14:47:53 2007 -0400

    Added new pyconstraint.h and pygeom.h, which are in progress.

commit f7d3488d1a82d378643df05000cf9dd6b558cd0e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 14:47:17 2007 -0400

    Started new _partedmodule.c in src directory.  Shortened source file list in Makefile to only those sources that are valid now.

commit 3706c385b36abc76adebb3f1979fc2ed656c08d9
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 14:46:32 2007 -0400

    Renamed partedmodule.h to _partedmodule.h, started over.  Removed references to old include files.

commit dd9f5eef5df52d7105060d7c3b696d9a832f4cf8
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 14:20:11 2007 -0400

    Removed old headers.

commit 73d15059d5de348b58ea3a9a686c9195eb74ab24
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:52:31 2007 -0400

    Renamed mkrelease.sh to the more appropriate bootstrap name.

commit 81a160c747ac3e35f64b898c66b69cdc6ace8271
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:51:34 2007 -0400

    In my projects, I let the revision control system track the ChangeLog.  Removed the static ChangeLog.

commit 1ba58164334fe40e36e7ee217b53bc8794accbd4
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:47:27 2007 -0400

    So I think we're getting somewhere.  The automake checks are in place to find Python and libparted and we actually link the module correctly.

commit a91c92d2c541a249e8e80c53b916544314f53798
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:46:58 2007 -0400

    More things on the to do list.

commit a1700f1835a91f92d128443a0ca7b81b9a3e0e58
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:46:36 2007 -0400

    Make _partedmodule.so.

commit f55054c657834eda229e0c7b12b3e3356df033cc
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:43:48 2007 -0400

    Do not run make distclean.  Also, the m4 directory will be there.

commit b281109f8dce5bc0ef33391fe75d6a3c07bc55de
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:29:08 2007 -0400

    Updates for libparted automake checks.

commit 1ba56ea7102bf61f3c5bf8b84e60208d30652e16
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:08:20 2007 -0400

    Renamed partedmodule.c to _partedmodule.c.  The C module is only going to be used by the higher level Python modules rather than directly by users.

commit 2faea7bcf8ab42139deb3373de05191f55888061
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:05:39 2007 -0400

    More automake clean ups.

commit 881e6564b6d1bce6ce7d04eab96a6ab7a31ee5ee
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Tue Oct 2 13:05:14 2007 -0400

    Documentation updates.

commit 676ec45f549bc9a8aa95bd199ae9a1bdb3e907b3
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 22:48:40 2007 -0400

    We won't be tracking the INSTALL file since the standard one will work fine.  Expand the list of files for 'make maintainer-clean'.

commit c21c275f479fa94b7210511b3242486be6b155f4
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 16:10:57 2007 -0400

    Shorten the MAINTAINERCLEANFILES list.

commit f0d53d1c75c2f3a2dca2b4e418b58e9909d9fe36
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 16:10:28 2007 -0400

    LIBPARTED -> libparted in configure output.

commit 4b6a944b7e2f07969f33c9febc89e76244cbd284
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 16:09:13 2007 -0400

    A to do list, like there's some sort of point to it.

commit 5a0e625f6d577d02fd2fbd74cde463b9e59912b5
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 15:52:30 2007 -0400

    Now have it generating the autoconf/automake environment without any errors, but I'm not sure it actually works now.

commit 078ffbc9eb2d4c711d0d689d2220be07c3607b2a
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 15:51:45 2007 -0400

    Checks for Python on the system (m4 macros from gnome-python-2.20.0).

commit 884f2971add70470640fab734dc4cb55396b479c
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 15:26:32 2007 -0400

    Correct src and include makefile targets.

commit 502a7f5147100d5c220b3308fabbaf82cb4fb54d
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 15:21:39 2007 -0400

    More autoconf/automake changes.

commit 521d9c330d15c5cb57dc9921c21b57745b4f2b9e
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 14:42:52 2007 -0400

    Create the m4 subdirectory if it doesn't exist.

commit 8b3955ef5be6ad6d4c37796e96866984d1fecad0
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 14:40:00 2007 -0400

    Beginnings of the autoconf/automake transition for the source code.

commit c81068394e7bfda870e3bcdf704081ccb96e2219
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 14:38:47 2007 -0400

    Updated documentation (or at least indicated that I'm working on it).

commit 5502f996cb593d02da523250d8fc1001915f25f1
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 13:50:35 2007 -0400

    Moved source files to src/ subdirectory.

commit 4b98c68eede18659bf32946dbb666467f49606bc
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Mon Oct 1 13:49:56 2007 -0400

    Moved header files to include/ subdirectory.

commit 37130fbdbbd78bae98fccc637557bcfe00fdb7e9
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Aug 10 17:08:29 2007 -0400

    tar is no longer a target, remove from .PHONY

commit 9bd4c817d7036b242842b22b580231a607551c23
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Aug 10 16:55:37 2007 -0400

    Modify the TAG variable so it doesn't replace . with _ in tag names.

commit 5639e79bdf225a70ff5cd4c2e43aa81a7c4f7a92
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Aug 10 16:50:49 2007 -0400

    New version.

commit cc4ae2ac3aefdc21f9b111ed57cd9ecc10e27e5f
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Aug 10 16:22:26 2007 -0400

    List other authors of the software.

commit 4e4c238352f34189d052c0754839a1f3f1c4bd7c
Author: David Cantrell <dcantrel@mortise.boston.redhat.com>
Date:   Fri Aug 10 16:22:15 2007 -0400

    Relicense pyparted as GPL version 2 or any later version.

commit da593c8fc451b791134e04e00b2f035286e544d8
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jun 14 19:12:54 2007 +0000

            * pyparted.spec: Bump version.
    
            * pyparted.spec: Clean up wording in package description,
            BuildRequire pkgconfig (#226337).

commit d227e6958fe6f82d6e554fae5c300da1796586bb
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Jun 14 18:19:15 2007 +0000

            * pyparted.spec: Bump version.
    
            * pyparted.spec: Remove buildroot as first step in install section.

commit ae0f5cb13331d4a46001bb123e65244f69ba1abe
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Apr 23 17:20:22 2007 +0000

            * Makefile: Inherit CC and CFLAGS from calling environment.
            * pyparted.spec: Pass %{optflags} and %{__cc} to make process in %build.

commit b6fe07a7cd87b0046b13d9838a32ce4821c9986a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 16:31:54 2007 +0000

    Forgot DESTDIR.

commit fd258cdbe1bec03dbc9b06eddc287d9497252670
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 15:51:03 2007 +0000

    Use correct libdir (/usr/lib or /usr/lib64).

commit 29118a97b22de57234b8c0ad9875bd299691af47
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 15:43:59 2007 +0000

    Add -fPIC to CFLAGS.

commit 56289951e3a8ec24eaefb2a8bf3370e793b87b2c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 15:35:05 2007 +0000

    gz -> bz2

commit 4b8224de4d9036a4338b5fc63ed8fad2259be70c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 15:31:58 2007 +0000

    Correct changelog entry date.

commit ed29069b02defe4ac34dd3208650e76216ec403a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 15:29:56 2007 +0000

    Remove stuff related to PedConstraint object (work in progress, post-F7).

commit faffe420d84d4eb9c2c269c6ddbe768c0a83f806
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 15:28:36 2007 +0000

    Bump version.

commit 7e8f8ae2b0e64b8dcaac24d2070bd669ac53c47f
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Apr 20 15:28:07 2007 +0000

            * partedmodule.c: Whitespace cleanups.
            * AUTHORS: Note where to file bugs.
            * pyparted.spec: Merge review cleanups.

commit 9888d49cf576de822ec1dc974ac7ff7d6abcac82
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon Mar 19 20:19:44 2007 +0000

            * Makefile.am, configure.in, autogen.sh: Remove autotools stuff.
            * Makefile: Add simple Makefile.
            * pyparted.spec: Clean up for Fedora packaging guidelines, require
            parted >= 1.8.4.

commit f718e19e40e3314b5add9d4c6016415500b685ba
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Mar 16 21:13:12 2007 +0000

    Bump release.

commit 0feef9f07b91809ba4286ba73ed629769ebab150
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 8 17:28:48 2007 +0000

    * Thu Feb 08 2007 David Cantrell <dcantrell@redhat.com> - 1.8.5-1
    - Define and use python_sitearch rather than python_sitelib

commit 1f2971923144a49ff8468d5c82c188f79a3fbbb4
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Feb 8 16:30:30 2007 +0000

    * Thu Feb 08 2007 David Cantrell <dcantrell@redhat.com> - 1.8.4-1
    - Use preferred BuildRoot (package review)
    - Define and use python_sitelib macro (package review)

commit 743cceb0ec72e78cabbc4850f3260125e9395f7a
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Jan 12 19:45:33 2007 +0000

    Required parted-1.8.2 or higher.

commit 3efeffc3650dc5cfd51a96327b144e5e9c4c54d7
Author: Jeremy Katz <katzj@redhat.com>
Date:   Wed Jan 10 20:38:29 2007 +0000

    2007-01-10  Jeremy Katz  <katzj@redhat.com>
    
    	* pyparted.spec: Bump version.
    
    	* pygeometry.c (py_ped_geometry_dealloc): Use PyObject_DEL instead
    	of PyMem_DEL
    	* pyfilesystem.c (py_ped_file_system_type_dealloc): Likewise.
    	* pyexception.c (py_ped_exception_dealloc): Likewise.
    	* pydisk.c: Likewise.
    	* pydevice.c: Likewise.
    	* pyconstraint.c (py_ped_constraint_dealloc): Likewise.

commit 9de99c4a28d0e51451e4ed1226668b6f3b979b98
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 14 16:49:51 2006 +0000

    Pass s->dev rather than s to ped_device_destroy().

commit 668e67a1f685af28aa492007d994d9bf8c04e242
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 14 16:05:40 2006 +0000

    Require parted-1.8.1.

commit f142930628f72d28383f0f50a64752cfc1704d95
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Dec 14 16:04:55 2006 +0000

            * pydevice.c: Add py_ped_device_destroy() function so we can call
            ped_device_destroy() in libparted.

commit 99120149f55740c90fd98800091c51e895bf326c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Thu Nov 30 20:50:10 2006 +0000

            * pyparted.spec: Bump version. Determine Python version to enable in
            the %build section rather than assuming 2.4.  Makes the source RPM
            more easy to move between distribution releases.

commit 6ce55879a9b501b789c93bd3845acdaaecd04fe6
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri Nov 17 21:13:05 2006 +0000

    Bump version.

commit 9e84031f77c63cd51d64b5b01e81828bf0cc7610
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Aug 30 18:02:06 2006 +0000

    Reference source URL on people.redhat.com

commit b3fc15cfabaeca55814bb049e042eedc7606c07c
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Aug 30 17:59:18 2006 +0000

    Tag for real.

commit e720e4e56b112ca99e2589e3e57ee573573ce40d
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Aug 30 17:57:38 2006 +0000

    Make sure we don't get %{?dist} in CVS tags.

commit 792cfdf062b054b7aec3b17bb42b7dc30dd41570
Author: David Cantrell <dcantrell@redhat.com>
Date:   Wed Aug 30 17:54:58 2006 +0000

    * Wed Aug 30 2006 David Cantrell <dcantrell@redhat.com> - 1.7.3-1
    - Include parted/constraint.h in required header files
    
    * Wed Aug 30 2006 David Cantrell <dcantrell@redhat.com> - 1.7.2-2
    - Require parted-1.7.1 or higher

commit d2fa7dc73a072dc7a19ac69c202475329c393636
Author: David Cantrell <dcantrell@redhat.com>
Date:   Tue Jul 25 17:22:53 2006 +0000

    Add HPSERVICE, PALO, PREP, and MSFT_RESERVED to partition types list.

commit ce7370e3e395c57acccaee1d900da65d63886460
Author: David Cantrell <dcantrell@redhat.com>
Date:   Mon May 29 14:31:42 2006 +0000

    Bump version.

commit c5bb884efb45077f3cd89fa3329eb5124d7e6ef9
Author: David Cantrell <dcantrell@redhat.com>
Date:   Fri May 19 20:44:16 2006 +0000

    * pyparted.spec: Bump version. Require parted >= 1.7.0.

commit 9f06f76055d61b037c95d80f65f9d0ae4a3e4ded
Author: Chris Lumens <clumens@redhat.com>
Date:   Mon Dec 12 14:54:17 2005 +0000

    Resync with package cvs.

commit b038c1d8cbae08e3796c0150b7b36a4da9f7e1b8
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 11 22:04:01 2005 +0000

    bump version to 1.6.10-1

commit 3b807d517143356096f3a3cf8fa3c217b4069406
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 11 22:02:29 2005 +0000

    update lots of classes to be new-style so I stop pulling my hair out.

commit 180f7247974322839522da3e9a830fe7541c9a47
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 11 22:00:51 2005 +0000

    update cflags and changelog

commit e8e58b2cb9d4850e6d02f1d2f33759f107526a97
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 11 21:13:15 2005 +0000

    - minor fixes for PedGeometry
    - convert PedPartition to a new-style class

commit 0893a2464d1c26896386f690e1ebd1890017452b
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Nov 11 20:41:01 2005 +0000

    - make PedGeometry a new-style class
    - use descriptors for start/end/length

commit db00f08f950d4d5ef60bd0496068bb9184308769
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Aug 31 21:12:04 2005 +0000

    Rebuilt for new parted library version.

commit 63374432354c408e42f9cda8f4250d524ac778a3
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Mar 16 20:07:55 2005 +0000

    Doesn't hurt to update the changelog too.

commit 807038a2e8aa78154c347ab38c8bc772cb2a9e06
Author: Chris Lumens <clumens@redhat.com>
Date:   Wed Mar 16 20:02:58 2005 +0000

    Updated for gcc4 and python2.4.  Fixed build warnings.

commit 8f66960a81453ff64cc3cf0aa19433ea5234d4f1
Author: Jeremy Katz <katzj@redhat.com>
Date:   Tue Dec 14 20:55:48 2004 +0000

    2004-12-14  Jeremy Katz  <katzj@redhat.com>
    
    	* pyparted.spec: Bump version.
    
    	* partedmodule.c: add support for sx8 devices

commit be0aca3c9b03b334c44027fe8f212e551447ab99
Author: Jeremy Katz <katzj@redhat.com>
Date:   Tue Aug 17 14:55:03 2004 +0000

    2004-08-17  Jeremy Katz  <katzj@redhat.com>
    
    	* pyparted.spec: Bump version and requirements
    
    	* pydevice.c (py_ped_device_getattr): heads, sectors, cylinders
    	are for the bios geometry form (update to work with parted >= 1.6.12)

commit 2fedd8383aa642d6b1cc7c4f5de3c1126aa314fe
Author: Jeremy Katz <katzj@redhat.com>
Date:   Thu Jul 22 07:39:54 2004 +0000

    already been built as -2.  *sigh*

commit 2d7718078ae4958949801a9b1ed6d43fc9682387
Author: Jeremy Katz <katzj@redhat.com>
Date:   Thu Jul 22 07:38:09 2004 +0000

    build on ppc64 again

commit 3577fb18cb2d4422f7126a23ce1ca57419fb91bc
Author: Jeremy Katz <katzj@redhat.com>
Date:   Thu May 13 19:36:01 2004 +0000

    fix build for newer versions of gcc (fix from Jeff Law)

commit 45b9730ef48668a52d983bba80bc6af0ff2299f4
Author: Jeremy Katz <katzj@redhat.com>
Date:   Tue Mar 16 21:32:34 2004 +0000

    2004-03-16  Jeremy Katz  <katzj@redhat.com>
    
    	* partedmodule.c: make sure PARTITION_PROTECTED gets defined (#118451)

commit 6b054beac29b7927540214d6492208dfdfd70d0f
Author: Jeremy Katz <katzj@redhat.com>
Date:   Fri Mar 12 21:50:15 2004 +0000

    actually do the tagging

commit 9cfe9e5587805b771fcfa1bd2a781e6bd3c1c205
Author: Jeremy Katz <katzj@redhat.com>
Date:   Fri Mar 12 21:49:53 2004 +0000

    excludearch ppc64 for now

commit 61a6870559b4ccce591ba164c4756586f45bd979
Author: Jeremy Katz <katzj@redhat.com>
Date:   Fri Mar 12 21:48:18 2004 +0000

    add .cvsignore

commit 6c33ee6924ce8b82d14993c3b6b3856f967db2ad
Author: Jeremy Katz <katzj@redhat.com>
Date:   Fri Mar 12 21:46:05 2004 +0000

    use that autofoo

commit 168abb796d414f1d2538a60a6a4d3599c8cb2e94
Author: Jeremy Katz <katzj@redhat.com>
Date:   Fri Mar 12 21:06:23 2004 +0000

    versioned requires, buildrequire python-devel

commit 5c2add338e2b9b722a37ed24d780de8f08f1c435
Author: Jeremy Katz <katzj@redhat.com>
Date:   Fri Mar 12 21:02:27 2004 +0000

    Initial revision
